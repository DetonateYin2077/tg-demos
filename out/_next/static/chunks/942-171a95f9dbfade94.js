(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[942],{7732:function(t,e,r){"use strict";r.d(e,{Z:function(){return a}});let n=r(6291).bind({concatArrays:!0,ignoreUndefined:!0});function i(t,e){return new Promise((r,n)=>{try{let n=t();null==e||e(null,n),r(n)}catch(t){null==e||e(t),n(t)}})}function o(t,e,r){return Promise.all(t).then(t=>{let n=(null==r?void 0:r(t))??null;return null==e||e(null,n),Promise.resolve(n)},t=>(null==e||e(t),Promise.reject(t)))}let s={getItem:(t,e)=>i(()=>window.localStorage.getItem(t),e),setItem:(t,e,r)=>i(()=>window.localStorage.setItem(t,e),r),removeItem:(t,e)=>i(()=>window.localStorage.removeItem(t),e),mergeItem:(t,e,r)=>i(()=>(function(t,e){let r=window.localStorage.getItem(t);if(r){let i=JSON.stringify(n(JSON.parse(r),JSON.parse(e)));window.localStorage.setItem(t,i)}else window.localStorage.setItem(t,e)})(t,e),r),clear:t=>i(()=>window.localStorage.clear(),t),getAllKeys:t=>i(()=>{let t=window.localStorage.length,e=[];for(let r=0;r<t;r+=1){let t=window.localStorage.key(r)||"";e.push(t)}return e},t),flushGetRequests:()=>void 0,multiGet:(t,e)=>o(t.map(t=>s.getItem(t)),e,e=>e.map((e,r)=>[t[r],e])),multiSet:(t,e)=>o(t.map(t=>s.setItem(t[0],t[1])),e),multiRemove:(t,e)=>o(t.map(t=>s.removeItem(t)),e),multiMerge:(t,e)=>o(t.map(t=>s.mergeItem(t[0],t[1])),e)};var a=s},9158:function(t){"use strict";t.exports=t=>{if("[object Object]"!==Object.prototype.toString.call(t))return!1;let e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}},5394:function(t,e,r){var n=r(4391).Symbol;t.exports=n},5413:function(t,e,r){var n=r(5394),i=r(3765),o=r(840),s=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?i(t):o(t)}},8009:function(t,e,r){var n=r(2563),i=/^\s+/;t.exports=function(t){return t?t.slice(0,n(t)+1).replace(i,""):t}},9573:function(t,e,r){var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=n},3765:function(t,e,r){var n=r(5394),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=n?n.toStringTag:void 0;t.exports=function(t){var e=o.call(t,a),r=t[a];try{t[a]=void 0;var n=!0}catch(t){}var i=s.call(t);return n&&(e?t[a]=r:delete t[a]),i}},840:function(t){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},4391:function(t,e,r){var n=r(9573),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();t.exports=o},2563:function(t){var e=/\s/;t.exports=function(t){for(var r=t.length;r--&&e.test(t.charAt(r)););return r}},3584:function(t,e,r){var n=r(626),i=r(6161),o=r(6349),s=Math.max,a=Math.min;t.exports=function(t,e,r){var c,u,h,l,p,f,d=0,_=!1,b=!1,y=!0;if("function"!=typeof t)throw TypeError("Expected a function");function g(e){var r=c,n=u;return c=u=void 0,d=e,l=t.apply(n,r)}function v(t){var r=t-f,n=t-d;return void 0===f||r>=e||r<0||b&&n>=h}function m(){var t,r,n,o=i();if(v(o))return w(o);p=setTimeout(m,(t=o-f,r=o-d,n=e-t,b?a(n,h-r):n))}function w(t){return(p=void 0,y&&c)?g(t):(c=u=void 0,l)}function E(){var t,r=i(),n=v(r);if(c=arguments,u=this,f=r,n){if(void 0===p)return d=t=f,p=setTimeout(m,e),_?g(t):l;if(b)return clearTimeout(p),p=setTimeout(m,e),g(f)}return void 0===p&&(p=setTimeout(m,e)),l}return e=o(e)||0,n(r)&&(_=!!r.leading,h=(b="maxWait"in r)?s(o(r.maxWait)||0,e):h,y="trailing"in r?!!r.trailing:y),E.cancel=function(){void 0!==p&&clearTimeout(p),d=0,c=f=u=p=void 0},E.flush=function(){return void 0===p?l:w(i())},E}},626:function(t){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},1700:function(t){t.exports=function(t){return null!=t&&"object"==typeof t}},6422:function(t,e,r){var n=r(5413),i=r(1700);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==n(t)}},6161:function(t,e,r){var n=r(4391);t.exports=function(){return n.Date.now()}},6349:function(t,e,r){var n=r(8009),i=r(626),o=r(6422),s=0/0,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,h=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return s;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=n(t);var r=c.test(t);return r||u.test(t)?h(t.slice(2),r?2:8):a.test(t)?s:+t}},6291:function(t,e,r){"use strict";let n=r(9158),{hasOwnProperty:i}=Object.prototype,{propertyIsEnumerable:o}=Object,s=(t,e,r)=>Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!0,configurable:!0}),a=this,c={concatArrays:!1,ignoreUndefined:!1},u=t=>{let e=[];for(let r in t)i.call(t,r)&&e.push(r);if(Object.getOwnPropertySymbols)for(let r of Object.getOwnPropertySymbols(t))o.call(t,r)&&e.push(r);return e};function h(t){return Array.isArray(t)?function(t){let e=t.slice(0,0);return u(t).forEach(r=>{s(e,r,h(t[r]))}),e}(t):n(t)?function(t){let e=null===Object.getPrototypeOf(t)?Object.create(null):{};return u(t).forEach(r=>{s(e,r,h(t[r]))}),e}(t):t}let l=(t,e,r,n)=>(r.forEach(r=>{void 0===e[r]&&n.ignoreUndefined||(r in t&&t[r]!==Object.getPrototypeOf(t)?s(t,r,f(t[r],e[r],n)):s(t,r,h(e[r])))}),t),p=(t,e,r)=>{let n=t.slice(0,0),o=0;return[t,e].forEach(e=>{let a=[];for(let r=0;r<e.length;r++)i.call(e,r)&&(a.push(String(r)),e===t?s(n,o++,e[r]):s(n,o++,h(e[r])));n=l(n,e,u(e).filter(t=>!a.includes(t)),r)}),n};function f(t,e,r){return r.concatArrays&&Array.isArray(t)&&Array.isArray(e)?p(t,e,r):n(e)&&n(t)?l(t,e,u(e),r):h(e)}t.exports=function(...t){let e=f(h(c),this!==a&&this||{},c),r={_:{}};for(let i of t)if(void 0!==i){if(!n(i))throw TypeError("`"+i+"` is not an Option Object");r=f(r,{_:i},e)}return r._}},5497:function(t,e,r){"use strict";var n,i;t.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(i=r.g.process)?void 0:i.env)?r.g.process:r(7408)},7408:function(t){!function(){var e={229:function(t){var e,r,n,i=t.exports={};function o(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function a(t){if(e===setTimeout)return setTimeout(t,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:o}catch(t){e=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var c=[],u=!1,h=-1;function l(){u&&n&&(u=!1,n.length?c=n.concat(c):h=-1,c.length&&p())}function p(){if(!u){var t=a(l);u=!0;for(var e=c.length;e;){for(n=c,c=[];++h<e;)n&&n[h].run();h=-1,e=c.length}n=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function d(){}i.nextTick=function(t){var e=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new f(t,e)),1!==c.length||u||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=d,i.addListener=d,i.once=d,i.off=d,i.removeListener=d,i.removeAllListeners=d,i.emit=d,i.prependListener=d,i.prependOnceListener=d,i.listeners=function(t){return[]},i.binding=function(t){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},r={};function n(t){var i=r[t];if(void 0!==i)return i.exports;var o=r[t]={exports:{}},s=!0;try{e[t](o,o.exports,n),s=!1}finally{s&&delete r[t]}return o.exports}n.ab="//";var i=n(229);t.exports=i}()},5837:function(t,e,r){let n=r(9664);t.exports=n},9664:function(t,e,r){"use strict";r.r(e);let n=["UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE"];class i{ERROR=-1;CONNECTING=0;OPEN=1;CLOSED=2;CRLF="\r\n";LF="\n";CR="\r";constructor(t,e={}){if(this.lastEventId=null,this.status=this.CONNECTING,this.eventHandlers={open:[],message:[],error:[],close:[]},this.method=e.method||"GET",this.timeout=e.timeout??0,this.timeoutBeforeConnection=e.timeoutBeforeConnection??500,this.withCredentials=e.withCredentials||!1,this.headers=e.headers||{},this.body=e.body||void 0,this.debug=e.debug||!1,this.interval=e.pollingInterval??5e3,this.lineEndingCharacter=e.lineEndingCharacter||null,this._xhr=null,this._pollTimer=null,this._lastIndexProcessed=0,!t||"string"!=typeof t&&"function"!=typeof t.toString)throw SyntaxError("[EventSource] Invalid URL argument.");"function"==typeof t.toString?this.url=t.toString():this.url=t,this._pollAgain(this.timeoutBeforeConnection,!0)}_pollAgain(t,e){(t>0||e)&&(this._logDebug(`[EventSource] Will open new connection in ${t} ms.`),this._pollTimer=setTimeout(()=>{this.open()},t))}open(){try{if(this.status=this.CONNECTING,this._lastIndexProcessed=0,this._xhr=new XMLHttpRequest,this._xhr.open(this.method,this.url,!0),this.withCredentials&&(this._xhr.withCredentials=!0),this._xhr.setRequestHeader("Accept","text/event-stream"),this._xhr.setRequestHeader("Cache-Control","no-cache"),this._xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),this.headers)for(let[t,e]of Object.entries(this.headers))this._xhr.setRequestHeader(t,e);null!==this.lastEventId&&this._xhr.setRequestHeader("Last-Event-ID",this.lastEventId),this._xhr.timeout=this.timeout,this._xhr.onreadystatechange=()=>{if(this.status===this.CLOSED)return;let t=this._xhr;this._logDebug(`[EventSource][onreadystatechange] ReadyState: ${n[t.readyState]||"Unknown"}(${t.readyState}), status: ${t.status}`),[XMLHttpRequest.DONE,XMLHttpRequest.LOADING].includes(t.readyState)&&(t.status>=200&&t.status<400?(this.status===this.CONNECTING&&(this.status=this.OPEN,this.dispatch("open",{type:"open"}),this._logDebug("[EventSource][onreadystatechange][OPEN] Connection opened.")),this._handleEvent(t.responseText||""),t.readyState===XMLHttpRequest.DONE&&(this._logDebug("[EventSource][onreadystatechange][DONE] Operation done."),this._pollAgain(this.interval,!1))):0!==t.status&&(this.status=this.ERROR,this.dispatch("error",{type:"error",message:t.responseText,xhrStatus:t.status,xhrState:t.readyState}),t.readyState===XMLHttpRequest.DONE&&(this._logDebug("[EventSource][onreadystatechange][ERROR] Response status error."),this._pollAgain(this.interval,!1))))},this._xhr.onerror=()=>{this.status!==this.CLOSED&&(this.status=this.ERROR,this.dispatch("error",{type:"error",message:this._xhr.responseText,xhrStatus:this._xhr.status,xhrState:this._xhr.readyState}))},this.body?this._xhr.send(this.body):this._xhr.send(),this.timeout>0&&setTimeout(()=>{this._xhr.readyState===XMLHttpRequest.LOADING&&(this.dispatch("error",{type:"timeout"}),this.close())},this.timeout)}catch(t){this.status=this.ERROR,this.dispatch("error",{type:"exception",message:t.message,error:t})}}_logDebug(...t){this.debug&&console.debug(...t)}_handleEvent(t){let e;if(null===this.lineEndingCharacter){let e=this._detectNewlineChar(t);if(null!==e)this._logDebug(`[EventSource] Automatically detected lineEndingCharacter: ${JSON.stringify(e).slice(1,-1)}`),this.lineEndingCharacter=e;else{console.warn("[EventSource] Unable to identify the line ending character. Ensure your server delivers a standard line ending character: \\r\\n, \\n, \\r, or specify your custom character using the 'lineEndingCharacter' option.");return}}let r=this._getLastDoubleNewlineIndex(t);if(r<=this._lastIndexProcessed)return;let n=t.substring(this._lastIndexProcessed,r).split(this.lineEndingCharacter);this._lastIndexProcessed=r;let i=null,o=[],s=0,a="";for(let t=0;t<n.length;t++)if((a=n[t].trim()).startsWith("event"))e=a.replace(/event:?\s*/,"");else if(a.startsWith("retry"))isNaN(s=parseInt(a.replace(/retry:?\s*/,""),10))||(this.interval=s);else if(a.startsWith("data"))o.push(a.replace(/data:?\s*/,""));else if(a.startsWith("id"))""!==(i=a.replace(/id:?\s*/,""))?this.lastEventId=i:this.lastEventId=null;else if(""===a&&o.length>0){let t=e||"message",r={type:t,data:o.join("\n"),url:this.url,lastEventId:this.lastEventId};this.dispatch(t,r),o=[],e=void 0}}_detectNewlineChar(t){for(let e of[this.CRLF,this.LF,this.CR])if(t.includes(e))return e;return null}_getLastDoubleNewlineIndex(t){let e=this.lineEndingCharacter+this.lineEndingCharacter,r=t.lastIndexOf(e);return -1===r?-1:r+e.length}addEventListener(t,e){void 0===this.eventHandlers[t]&&(this.eventHandlers[t]=[]),this.eventHandlers[t].push(e)}removeEventListener(t,e){void 0!==this.eventHandlers[t]&&(this.eventHandlers[t]=this.eventHandlers[t].filter(t=>t!==e))}removeAllEventListeners(t){let e=Object.keys(this.eventHandlers);if(void 0===t)for(let t of e)this.eventHandlers[t]=[];else{if(!e.includes(t))throw Error(`[EventSource] '${t}' type is not supported event type.`);this.eventHandlers[t]=[]}}dispatch(t,e){if(Object.keys(this.eventHandlers).includes(t))for(let r of Object.values(this.eventHandlers[t]))r(e)}close(){this.status!==this.CLOSED&&(this.status=this.CLOSED,this.dispatch("close",{type:"close"})),clearTimeout(this._pollTimer),this._xhr&&this._xhr.abort()}}e.default=i},1012:function(t,e,r){"use strict";r.d(e,{x:function(){return D}});var n=function(t,e){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function o(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function a(t,e,r){if(r||2==arguments.length)for(var n,i=0,o=e.length;i<o;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))}function c(t){return"function"==typeof t}function u(t){var e=t(function(t){Error.call(t),t.stack=Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}"function"==typeof SuppressedError&&SuppressedError;var h=u(function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}});function l(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var p=function(){var t;function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t,e,r,n,i,u=this._parentage;if(u){if(this._parentage=null,Array.isArray(u))try{for(var l=o(u),p=l.next();!p.done;p=l.next())p.value.remove(this)}catch(e){t={error:e}}finally{try{p&&!p.done&&(e=l.return)&&e.call(l)}finally{if(t)throw t.error}}else u.remove(this)}var f=this.initialTeardown;if(c(f))try{f()}catch(t){i=t instanceof h?t.errors:[t]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var b=o(d),y=b.next();!y.done;y=b.next()){var g=y.value;try{_(g)}catch(t){i=null!=i?i:[],t instanceof h?i=a(a([],s(i)),s(t.errors)):i.push(t)}}}catch(t){r={error:t}}finally{try{y&&!y.done&&(n=b.return)&&n.call(b)}finally{if(r)throw r.error}}}if(i)throw new h(i)}},e.prototype.add=function(t){var r;if(t&&t!==this){if(this.closed)_(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}}},e.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},e.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},e.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&l(e,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&l(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}(),f=p.EMPTY;function d(t){return t instanceof p||t&&"closed"in t&&c(t.remove)&&c(t.add)&&c(t.unsubscribe)}function _(t){c(t)?t():t.unsubscribe()}var b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},y={setTimeout:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=y.delegate;return(null==i?void 0:i.setTimeout)?i.setTimeout.apply(i,a([t,e],s(r))):setTimeout.apply(void 0,a([t,e],s(r)))},clearTimeout:function(t){var e=y.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function g(){}var v=m("C",void 0,void 0);function m(t,e,r){return{kind:t,value:e,error:r}}var w=null;function E(t){if(b.useDeprecatedSynchronousErrorHandling){var e=!w;if(e&&(w={errorThrown:!1,error:null}),t(),e){var r=w,n=r.errorThrown,i=r.error;if(w=null,n)throw i}}else t()}var x=function(t){function e(e){var r=t.call(this)||this;return r.isStopped=!1,e?(r.destination=e,d(e)&&e.add(r)):r.destination=C,r}return i(e,t),e.create=function(t,e,r){return new T(t,e,r)},e.prototype.next=function(t){this.isStopped?P(m("N",t,void 0),this):this._next(t)},e.prototype.error=function(t){this.isStopped?P(m("E",void 0,t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?P(v,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(p),O=Function.prototype.bind;function S(t,e){return O.call(t,e)}var R=function(){function t(t){this.partialObserver=t}return t.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(t){A(t)}},t.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(t){A(t)}else A(t)},t.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(t){A(t)}},t}(),T=function(t){function e(e,r,n){var i,o,s=t.call(this)||this;return c(e)||!e?i={next:null!=e?e:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:s&&b.useDeprecatedNextContext?((o=Object.create(e)).unsubscribe=function(){return s.unsubscribe()},i={next:e.next&&S(e.next,o),error:e.error&&S(e.error,o),complete:e.complete&&S(e.complete,o)}):i=e,s.destination=new R(i),s}return i(e,t),e}(x);function A(t){b.useDeprecatedSynchronousErrorHandling?b.useDeprecatedSynchronousErrorHandling&&w&&(w.errorThrown=!0,w.error=t):y.setTimeout(function(){var e=b.onUnhandledError;if(e)e(t);else throw t})}function P(t,e){var r=b.onStoppedNotification;r&&y.setTimeout(function(){return r(t,e)})}var C={closed:!0,next:g,error:function(t){throw t},complete:g},N="function"==typeof Symbol&&Symbol.observable||"@@observable",U=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n,i=this,o=(n=t)&&n instanceof x||n&&c(n.next)&&c(n.error)&&c(n.complete)&&d(n)?t:new T(t,e,r);return E(function(){var t=i.operator,e=i.source;o.add(t?t.call(o,e):e?i._subscribe(o):i._trySubscribe(o))}),o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=k(e))(function(e,n){var i=new T({next:function(e){try{t(e)}catch(t){n(t),i.unsubscribe()}},error:n,complete:e});r.subscribe(i)})},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[N]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0===t.length?function(t){return t}:1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)})(this)},t.prototype.toPromise=function(t){var e=this;return new(t=k(t))(function(t,r){var n;e.subscribe(function(t){return n=t},function(t){return r(t)},function(){return t(n)})})},t.create=function(e){return new t(e)},t}();function k(t){var e;return null!==(e=null!=t?t:b.Promise)&&void 0!==e?e:Promise}var I=u(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),D=function(t){function e(){var e=t.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return i(e,t),e.prototype.lift=function(t){var e=new q(this,this);return e.operator=t,e},e.prototype._throwIfClosed=function(){if(this.closed)throw new I},e.prototype.next=function(t){var e=this;E(function(){var r,n;if(e._throwIfClosed(),!e.isStopped){e.currentObservers||(e.currentObservers=Array.from(e.observers));try{for(var i=o(e.currentObservers),s=i.next();!s.done;s=i.next())s.value.next(t)}catch(t){r={error:t}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}})},e.prototype.error=function(t){var e=this;E(function(){if(e._throwIfClosed(),!e.isStopped){e.hasError=e.isStopped=!0,e.thrownError=t;for(var r=e.observers;r.length;)r.shift().error(t)}})},e.prototype.complete=function(){var t=this;E(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var e=t.observers;e.length;)e.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var e=this,r=this.hasError,n=this.isStopped,i=this.observers;return r||n?f:(this.currentObservers=null,i.push(t),new p(function(){e.currentObservers=null,l(i,t)}))},e.prototype._checkFinalizedStatuses=function(t){var e=this.hasError,r=this.thrownError,n=this.isStopped;e?t.error(r):n&&t.complete()},e.prototype.asObservable=function(){var t=new U;return t.source=this,t},e.create=function(t,e){return new q(t,e)},e}(U),q=function(t){function e(e,r){var n=t.call(this)||this;return n.destination=e,n.source=r,n}return i(e,t),e.prototype.next=function(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)},e.prototype.error=function(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)},e.prototype.complete=function(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)},e.prototype._subscribe=function(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:f},e}(D)},5167:function(t,e,r){var n,i=r(3799).Buffer;n=function(){"use strict";var t={};function e(t){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(t))throw TypeError("invalid encoding")}return t.decodeUTF8=function(t){if("string"!=typeof t)throw TypeError("expected string");var e,r=unescape(encodeURIComponent(t)),n=new Uint8Array(r.length);for(e=0;e<r.length;e++)n[e]=r.charCodeAt(e);return n},t.encodeUTF8=function(t){var e,r=[];for(e=0;e<t.length;e++)r.push(String.fromCharCode(t[e]));return decodeURIComponent(escape(r.join("")))},"undefined"==typeof atob?void 0!==i.from?(t.encodeBase64=function(t){return i.from(t).toString("base64")},t.decodeBase64=function(t){return e(t),new Uint8Array(Array.prototype.slice.call(i.from(t,"base64"),0))}):(t.encodeBase64=function(t){return new i(t).toString("base64")},t.decodeBase64=function(t){return e(t),new Uint8Array(Array.prototype.slice.call(new i(t,"base64"),0))}):(t.encodeBase64=function(t){var e,r=[],n=t.length;for(e=0;e<n;e++)r.push(String.fromCharCode(t[e]));return btoa(r.join(""))},t.decodeBase64=function(t){e(t);var r,n=atob(t),i=new Uint8Array(n.length);for(r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}),t},t.exports?t.exports=n():(this.nacl||(this.nacl={}),this.nacl.util=n())},6646:function(t,e,r){!function(t){"use strict";var e,n=function(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;e++)r[e]=t[e];return r},i=function(){throw Error("no PRNG")},o=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var a=n(),c=n([1]),u=n([56129,1]),h=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),p=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function _(t,e,r,n){t[e]=r>>24&255,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r,t[e+4]=n>>24&255,t[e+5]=n>>16&255,t[e+6]=n>>8&255,t[e+7]=255&n}function b(t,e,r,n,i){var o,s=0;for(o=0;o<i;o++)s|=t[e+o]^r[n+o];return(1&s-1>>>8)-1}function y(t,e,r,n){return b(t,e,r,n,16)}function g(t,e,r,n){return b(t,e,r,n,32)}function v(t,e,r,n){!function(t,e,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,h=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,p=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,f=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,d=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,_=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,b=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,g=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,m=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,w=o,E=s,x=a,O=c,S=u,R=h,T=l,A=p,P=f,C=d,N=_,U=b,k=y,I=g,D=v,q=m,L=0;L<20;L+=2)S^=(i=w+k|0)<<7|i>>>25,P^=(i=S+w|0)<<9|i>>>23,k^=(i=P+S|0)<<13|i>>>19,w^=(i=k+P|0)<<18|i>>>14,C^=(i=R+E|0)<<7|i>>>25,I^=(i=C+R|0)<<9|i>>>23,E^=(i=I+C|0)<<13|i>>>19,R^=(i=E+I|0)<<18|i>>>14,D^=(i=N+T|0)<<7|i>>>25,x^=(i=D+N|0)<<9|i>>>23,T^=(i=x+D|0)<<13|i>>>19,N^=(i=T+x|0)<<18|i>>>14,O^=(i=q+U|0)<<7|i>>>25,A^=(i=O+q|0)<<9|i>>>23,U^=(i=A+O|0)<<13|i>>>19,q^=(i=U+A|0)<<18|i>>>14,E^=(i=w+O|0)<<7|i>>>25,x^=(i=E+w|0)<<9|i>>>23,O^=(i=x+E|0)<<13|i>>>19,w^=(i=O+x|0)<<18|i>>>14,T^=(i=R+S|0)<<7|i>>>25,A^=(i=T+R|0)<<9|i>>>23,S^=(i=A+T|0)<<13|i>>>19,R^=(i=S+A|0)<<18|i>>>14,U^=(i=N+C|0)<<7|i>>>25,P^=(i=U+N|0)<<9|i>>>23,C^=(i=P+U|0)<<13|i>>>19,N^=(i=C+P|0)<<18|i>>>14,k^=(i=q+D|0)<<7|i>>>25,I^=(i=k+q|0)<<9|i>>>23,D^=(i=I+k|0)<<13|i>>>19,q^=(i=D+I|0)<<18|i>>>14;w=w+o|0,E=E+s|0,x=x+a|0,O=O+c|0,S=S+u|0,R=R+h|0,T=T+l|0,A=A+p|0,P=P+f|0,C=C+d|0,N=N+_|0,U=U+b|0,k=k+y|0,I=I+g|0,D=D+v|0,q=q+m|0,t[0]=w>>>0&255,t[1]=w>>>8&255,t[2]=w>>>16&255,t[3]=w>>>24&255,t[4]=E>>>0&255,t[5]=E>>>8&255,t[6]=E>>>16&255,t[7]=E>>>24&255,t[8]=x>>>0&255,t[9]=x>>>8&255,t[10]=x>>>16&255,t[11]=x>>>24&255,t[12]=O>>>0&255,t[13]=O>>>8&255,t[14]=O>>>16&255,t[15]=O>>>24&255,t[16]=S>>>0&255,t[17]=S>>>8&255,t[18]=S>>>16&255,t[19]=S>>>24&255,t[20]=R>>>0&255,t[21]=R>>>8&255,t[22]=R>>>16&255,t[23]=R>>>24&255,t[24]=T>>>0&255,t[25]=T>>>8&255,t[26]=T>>>16&255,t[27]=T>>>24&255,t[28]=A>>>0&255,t[29]=A>>>8&255,t[30]=A>>>16&255,t[31]=A>>>24&255,t[32]=P>>>0&255,t[33]=P>>>8&255,t[34]=P>>>16&255,t[35]=P>>>24&255,t[36]=C>>>0&255,t[37]=C>>>8&255,t[38]=C>>>16&255,t[39]=C>>>24&255,t[40]=N>>>0&255,t[41]=N>>>8&255,t[42]=N>>>16&255,t[43]=N>>>24&255,t[44]=U>>>0&255,t[45]=U>>>8&255,t[46]=U>>>16&255,t[47]=U>>>24&255,t[48]=k>>>0&255,t[49]=k>>>8&255,t[50]=k>>>16&255,t[51]=k>>>24&255,t[52]=I>>>0&255,t[53]=I>>>8&255,t[54]=I>>>16&255,t[55]=I>>>24&255,t[56]=D>>>0&255,t[57]=D>>>8&255,t[58]=D>>>16&255,t[59]=D>>>24&255,t[60]=q>>>0&255,t[61]=q>>>8&255,t[62]=q>>>16&255,t[63]=q>>>24&255}(t,e,r,n)}function m(t,e,r,n){!function(t,e,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,h=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,p=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,f=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,d=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,_=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,b=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,g=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,m=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,w=o,E=s,x=a,O=c,S=u,R=h,T=l,A=p,P=f,C=d,N=_,U=b,k=y,I=g,D=v,q=m,L=0;L<20;L+=2)S^=(i=w+k|0)<<7|i>>>25,P^=(i=S+w|0)<<9|i>>>23,k^=(i=P+S|0)<<13|i>>>19,w^=(i=k+P|0)<<18|i>>>14,C^=(i=R+E|0)<<7|i>>>25,I^=(i=C+R|0)<<9|i>>>23,E^=(i=I+C|0)<<13|i>>>19,R^=(i=E+I|0)<<18|i>>>14,D^=(i=N+T|0)<<7|i>>>25,x^=(i=D+N|0)<<9|i>>>23,T^=(i=x+D|0)<<13|i>>>19,N^=(i=T+x|0)<<18|i>>>14,O^=(i=q+U|0)<<7|i>>>25,A^=(i=O+q|0)<<9|i>>>23,U^=(i=A+O|0)<<13|i>>>19,q^=(i=U+A|0)<<18|i>>>14,E^=(i=w+O|0)<<7|i>>>25,x^=(i=E+w|0)<<9|i>>>23,O^=(i=x+E|0)<<13|i>>>19,w^=(i=O+x|0)<<18|i>>>14,T^=(i=R+S|0)<<7|i>>>25,A^=(i=T+R|0)<<9|i>>>23,S^=(i=A+T|0)<<13|i>>>19,R^=(i=S+A|0)<<18|i>>>14,U^=(i=N+C|0)<<7|i>>>25,P^=(i=U+N|0)<<9|i>>>23,C^=(i=P+U|0)<<13|i>>>19,N^=(i=C+P|0)<<18|i>>>14,k^=(i=q+D|0)<<7|i>>>25,I^=(i=k+q|0)<<9|i>>>23,D^=(i=I+k|0)<<13|i>>>19,q^=(i=D+I|0)<<18|i>>>14;t[0]=w>>>0&255,t[1]=w>>>8&255,t[2]=w>>>16&255,t[3]=w>>>24&255,t[4]=R>>>0&255,t[5]=R>>>8&255,t[6]=R>>>16&255,t[7]=R>>>24&255,t[8]=N>>>0&255,t[9]=N>>>8&255,t[10]=N>>>16&255,t[11]=N>>>24&255,t[12]=q>>>0&255,t[13]=q>>>8&255,t[14]=q>>>16&255,t[15]=q>>>24&255,t[16]=T>>>0&255,t[17]=T>>>8&255,t[18]=T>>>16&255,t[19]=T>>>24&255,t[20]=A>>>0&255,t[21]=A>>>8&255,t[22]=A>>>16&255,t[23]=A>>>24&255,t[24]=P>>>0&255,t[25]=P>>>8&255,t[26]=P>>>16&255,t[27]=P>>>24&255,t[28]=C>>>0&255,t[29]=C>>>8&255,t[30]=C>>>16&255,t[31]=C>>>24&255}(t,e,r,n)}var w=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function E(t,e,r,n,i,o,s){var a,c,u=new Uint8Array(16),h=new Uint8Array(64);for(c=0;c<16;c++)u[c]=0;for(c=0;c<8;c++)u[c]=o[c];for(;i>=64;){for(v(h,u,s,w),c=0;c<64;c++)t[e+c]=r[n+c]^h[c];for(c=8,a=1;c<16;c++)a=a+(255&u[c])|0,u[c]=255&a,a>>>=8;i-=64,e+=64,n+=64}if(i>0)for(v(h,u,s,w),c=0;c<i;c++)t[e+c]=r[n+c]^h[c];return 0}function x(t,e,r,n,i){var o,s,a=new Uint8Array(16),c=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=n[s];for(;r>=64;){for(v(c,a,i,w),s=0;s<64;s++)t[e+s]=c[s];for(s=8,o=1;s<16;s++)o=o+(255&a[s])|0,a[s]=255&o,o>>>=8;r-=64,e+=64}if(r>0)for(v(c,a,i,w),s=0;s<r;s++)t[e+s]=c[s];return 0}function O(t,e,r,n,i){var o=new Uint8Array(32);m(o,n,i,w);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=n[a+16];return x(t,e,r,s,o)}function S(t,e,r,n,i,o,s){var a=new Uint8Array(32);m(a,o,s,w);for(var c=new Uint8Array(8),u=0;u<8;u++)c[u]=o[u+16];return E(t,e,r,n,i,c,a)}var R=function(t){var e,r,n,i,o,s,a,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,r=255&t[2]|(255&t[3])<<8,this.r[1]=(e>>>13|r<<3)&8191,n=255&t[4]|(255&t[5])<<8,this.r[2]=(r>>>10|n<<6)&7939,i=255&t[6]|(255&t[7])<<8,this.r[3]=(n>>>7|i<<9)&8191,o=255&t[8]|(255&t[9])<<8,this.r[4]=(i>>>4|o<<12)&255,this.r[5]=o>>>1&8190,s=255&t[10]|(255&t[11])<<8,this.r[6]=(o>>>14|s<<2)&8191,a=255&t[12]|(255&t[13])<<8,this.r[7]=(s>>>11|a<<5)&8065,c=255&t[14]|(255&t[15])<<8,this.r[8]=(a>>>8|c<<8)&8191,this.r[9]=c>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function T(t,e,r,n,i,o){var s=new R(o);return s.update(r,n,i),s.finish(t,e),0}function A(t,e,r,n,i,o){var s=new Uint8Array(16);return T(s,0,r,n,i,o),y(t,e,s,0)}function P(t,e,r,n,i){var o;if(r<32)return -1;for(S(t,0,e,0,r,n,i),T(t,16,t,32,r-32,t),o=0;o<16;o++)t[o]=0;return 0}function C(t,e,r,n,i){var o,s=new Uint8Array(32);if(r<32||(O(s,0,32,n,i),0!==A(e,16,e,32,r-32,s)))return -1;for(S(t,0,e,0,r,n,i),o=0;o<32;o++)t[o]=0;return 0}function N(t,e){var r;for(r=0;r<16;r++)t[r]=0|e[r]}function U(t){var e,r,n=1;for(e=0;e<16;e++)n=Math.floor((r=t[e]+n+65535)/65536),t[e]=r-65536*n;t[0]+=n-1+37*(n-1)}function k(t,e,r){for(var n,i=~(r-1),o=0;o<16;o++)n=i&(t[o]^e[o]),t[o]^=n,e[o]^=n}function I(t,e){var r,i,o,s=n(),a=n();for(r=0;r<16;r++)a[r]=e[r];for(U(a),U(a),U(a),i=0;i<2;i++){for(r=1,s[0]=a[0]-65517;r<15;r++)s[r]=a[r]-65535-(s[r-1]>>16&1),s[r-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),o=s[15]>>16&1,s[14]&=65535,k(a,s,1-o)}for(r=0;r<16;r++)t[2*r]=255&a[r],t[2*r+1]=a[r]>>8}function D(t,e){var r=new Uint8Array(32),n=new Uint8Array(32);return I(r,t),I(n,e),g(r,0,n,0)}function q(t){var e=new Uint8Array(32);return I(e,t),1&e[0]}function L(t,e){var r;for(r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function M(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]+r[n]}function B(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]-r[n]}function K(t,e,r){var n,i,o=0,s=0,a=0,c=0,u=0,h=0,l=0,p=0,f=0,d=0,_=0,b=0,y=0,g=0,v=0,m=0,w=0,E=0,x=0,O=0,S=0,R=0,T=0,A=0,P=0,C=0,N=0,U=0,k=0,I=0,D=0,q=r[0],L=r[1],M=r[2],B=r[3],K=r[4],V=r[5],H=r[6],W=r[7],j=r[8],$=r[9],z=r[10],F=r[11],Y=r[12],G=r[13],J=r[14],Z=r[15];o+=(n=e[0])*q,s+=n*L,a+=n*M,c+=n*B,u+=n*K,h+=n*V,l+=n*H,p+=n*W,f+=n*j,d+=n*$,_+=n*z,b+=n*F,y+=n*Y,g+=n*G,v+=n*J,m+=n*Z,s+=(n=e[1])*q,a+=n*L,c+=n*M,u+=n*B,h+=n*K,l+=n*V,p+=n*H,f+=n*W,d+=n*j,_+=n*$,b+=n*z,y+=n*F,g+=n*Y,v+=n*G,m+=n*J,w+=n*Z,a+=(n=e[2])*q,c+=n*L,u+=n*M,h+=n*B,l+=n*K,p+=n*V,f+=n*H,d+=n*W,_+=n*j,b+=n*$,y+=n*z,g+=n*F,v+=n*Y,m+=n*G,w+=n*J,E+=n*Z,c+=(n=e[3])*q,u+=n*L,h+=n*M,l+=n*B,p+=n*K,f+=n*V,d+=n*H,_+=n*W,b+=n*j,y+=n*$,g+=n*z,v+=n*F,m+=n*Y,w+=n*G,E+=n*J,x+=n*Z,u+=(n=e[4])*q,h+=n*L,l+=n*M,p+=n*B,f+=n*K,d+=n*V,_+=n*H,b+=n*W,y+=n*j,g+=n*$,v+=n*z,m+=n*F,w+=n*Y,E+=n*G,x+=n*J,O+=n*Z,h+=(n=e[5])*q,l+=n*L,p+=n*M,f+=n*B,d+=n*K,_+=n*V,b+=n*H,y+=n*W,g+=n*j,v+=n*$,m+=n*z,w+=n*F,E+=n*Y,x+=n*G,O+=n*J,S+=n*Z,l+=(n=e[6])*q,p+=n*L,f+=n*M,d+=n*B,_+=n*K,b+=n*V,y+=n*H,g+=n*W,v+=n*j,m+=n*$,w+=n*z,E+=n*F,x+=n*Y,O+=n*G,S+=n*J,R+=n*Z,p+=(n=e[7])*q,f+=n*L,d+=n*M,_+=n*B,b+=n*K,y+=n*V,g+=n*H,v+=n*W,m+=n*j,w+=n*$,E+=n*z,x+=n*F,O+=n*Y,S+=n*G,R+=n*J,T+=n*Z,f+=(n=e[8])*q,d+=n*L,_+=n*M,b+=n*B,y+=n*K,g+=n*V,v+=n*H,m+=n*W,w+=n*j,E+=n*$,x+=n*z,O+=n*F,S+=n*Y,R+=n*G,T+=n*J,A+=n*Z,d+=(n=e[9])*q,_+=n*L,b+=n*M,y+=n*B,g+=n*K,v+=n*V,m+=n*H,w+=n*W,E+=n*j,x+=n*$,O+=n*z,S+=n*F,R+=n*Y,T+=n*G,A+=n*J,P+=n*Z,_+=(n=e[10])*q,b+=n*L,y+=n*M,g+=n*B,v+=n*K,m+=n*V,w+=n*H,E+=n*W,x+=n*j,O+=n*$,S+=n*z,R+=n*F,T+=n*Y,A+=n*G,P+=n*J,C+=n*Z,b+=(n=e[11])*q,y+=n*L,g+=n*M,v+=n*B,m+=n*K,w+=n*V,E+=n*H,x+=n*W,O+=n*j,S+=n*$,R+=n*z,T+=n*F,A+=n*Y,P+=n*G,C+=n*J,N+=n*Z,y+=(n=e[12])*q,g+=n*L,v+=n*M,m+=n*B,w+=n*K,E+=n*V,x+=n*H,O+=n*W,S+=n*j,R+=n*$,T+=n*z,A+=n*F,P+=n*Y,C+=n*G,N+=n*J,U+=n*Z,g+=(n=e[13])*q,v+=n*L,m+=n*M,w+=n*B,E+=n*K,x+=n*V,O+=n*H,S+=n*W,R+=n*j,T+=n*$,A+=n*z,P+=n*F,C+=n*Y,N+=n*G,U+=n*J,k+=n*Z,v+=(n=e[14])*q,m+=n*L,w+=n*M,E+=n*B,x+=n*K,O+=n*V,S+=n*H,R+=n*W,T+=n*j,A+=n*$,P+=n*z,C+=n*F,N+=n*Y,U+=n*G,k+=n*J,I+=n*Z,m+=(n=e[15])*q,w+=n*L,E+=n*M,x+=n*B,O+=n*K,S+=n*V,R+=n*H,T+=n*W,A+=n*j,P+=n*$,C+=n*z,N+=n*F,U+=n*Y,k+=n*G,I+=n*J,D+=n*Z,o+=38*w,s+=38*E,a+=38*x,c+=38*O,u+=38*S,h+=38*R,l+=38*T,p+=38*A,f+=38*P,d+=38*C,_+=38*N,b+=38*U,y+=38*k,g+=38*I,v+=38*D,i=Math.floor((n=o+(i=1)+65535)/65536),o=n-65536*i,i=Math.floor((n=s+i+65535)/65536),s=n-65536*i,i=Math.floor((n=a+i+65535)/65536),a=n-65536*i,i=Math.floor((n=c+i+65535)/65536),c=n-65536*i,i=Math.floor((n=u+i+65535)/65536),u=n-65536*i,i=Math.floor((n=h+i+65535)/65536),h=n-65536*i,i=Math.floor((n=l+i+65535)/65536),l=n-65536*i,i=Math.floor((n=p+i+65535)/65536),p=n-65536*i,i=Math.floor((n=f+i+65535)/65536),f=n-65536*i,i=Math.floor((n=d+i+65535)/65536),d=n-65536*i,i=Math.floor((n=_+i+65535)/65536),_=n-65536*i,i=Math.floor((n=b+i+65535)/65536),b=n-65536*i,i=Math.floor((n=y+i+65535)/65536),y=n-65536*i,i=Math.floor((n=g+i+65535)/65536),g=n-65536*i,i=Math.floor((n=v+i+65535)/65536),v=n-65536*i,i=Math.floor((n=m+i+65535)/65536),m=n-65536*i,o+=i-1+37*(i-1),i=Math.floor((n=o+(i=1)+65535)/65536),o=n-65536*i,i=Math.floor((n=s+i+65535)/65536),s=n-65536*i,i=Math.floor((n=a+i+65535)/65536),a=n-65536*i,i=Math.floor((n=c+i+65535)/65536),c=n-65536*i,i=Math.floor((n=u+i+65535)/65536),u=n-65536*i,i=Math.floor((n=h+i+65535)/65536),h=n-65536*i,i=Math.floor((n=l+i+65535)/65536),l=n-65536*i,i=Math.floor((n=p+i+65535)/65536),p=n-65536*i,i=Math.floor((n=f+i+65535)/65536),f=n-65536*i,i=Math.floor((n=d+i+65535)/65536),d=n-65536*i,i=Math.floor((n=_+i+65535)/65536),_=n-65536*i,i=Math.floor((n=b+i+65535)/65536),b=n-65536*i,i=Math.floor((n=y+i+65535)/65536),y=n-65536*i,i=Math.floor((n=g+i+65535)/65536),g=n-65536*i,i=Math.floor((n=v+i+65535)/65536),v=n-65536*i,i=Math.floor((n=m+i+65535)/65536),m=n-65536*i,o+=i-1+37*(i-1),t[0]=o,t[1]=s,t[2]=a,t[3]=c,t[4]=u,t[5]=h,t[6]=l,t[7]=p,t[8]=f,t[9]=d,t[10]=_,t[11]=b,t[12]=y,t[13]=g,t[14]=v,t[15]=m}function V(t,e){K(t,e,e)}function H(t,e){var r,i=n();for(r=0;r<16;r++)i[r]=e[r];for(r=253;r>=0;r--)V(i,i),2!==r&&4!==r&&K(i,i,e);for(r=0;r<16;r++)t[r]=i[r]}function W(t,e){var r,i=n();for(r=0;r<16;r++)i[r]=e[r];for(r=250;r>=0;r--)V(i,i),1!==r&&K(i,i,e);for(r=0;r<16;r++)t[r]=i[r]}function j(t,e,r){var i,o,s=new Uint8Array(32),a=new Float64Array(80),c=n(),h=n(),l=n(),p=n(),f=n(),d=n();for(o=0;o<31;o++)s[o]=e[o];for(s[31]=127&e[31]|64,s[0]&=248,L(a,r),o=0;o<16;o++)h[o]=a[o],p[o]=c[o]=l[o]=0;for(o=254,c[0]=p[0]=1;o>=0;--o)k(c,h,i=s[o>>>3]>>>(7&o)&1),k(l,p,i),M(f,c,l),B(c,c,l),M(l,h,p),B(h,h,p),V(p,f),V(d,c),K(c,l,c),K(l,h,f),M(f,c,l),B(c,c,l),V(h,c),B(l,p,d),K(c,l,u),M(c,c,p),K(l,l,c),K(c,p,d),K(p,h,a),V(h,f),k(c,h,i),k(l,p,i);for(o=0;o<16;o++)a[o+16]=c[o],a[o+32]=l[o],a[o+48]=h[o],a[o+64]=p[o];var _=a.subarray(32),b=a.subarray(16);return H(_,_),K(b,b,_),I(t,b),0}function $(t,e){return j(t,e,s)}function z(t,e){return i(e,32),$(t,e)}function F(t,e,r){var n=new Uint8Array(32);return j(n,r,e),m(t,o,n,w)}R.prototype.blocks=function(t,e,r){for(var n,i,o,s,a,c,u,h,l,p,f,d,_,b,y,g,v,m,w,E=this.fin?0:2048,x=this.h[0],O=this.h[1],S=this.h[2],R=this.h[3],T=this.h[4],A=this.h[5],P=this.h[6],C=this.h[7],N=this.h[8],U=this.h[9],k=this.r[0],I=this.r[1],D=this.r[2],q=this.r[3],L=this.r[4],M=this.r[5],B=this.r[6],K=this.r[7],V=this.r[8],H=this.r[9];r>=16;)x+=8191&(n=255&t[e+0]|(255&t[e+1])<<8),O+=(n>>>13|(i=255&t[e+2]|(255&t[e+3])<<8)<<3)&8191,S+=(i>>>10|(o=255&t[e+4]|(255&t[e+5])<<8)<<6)&8191,R+=(o>>>7|(s=255&t[e+6]|(255&t[e+7])<<8)<<9)&8191,T+=(s>>>4|(a=255&t[e+8]|(255&t[e+9])<<8)<<12)&8191,A+=a>>>1&8191,P+=(a>>>14|(c=255&t[e+10]|(255&t[e+11])<<8)<<2)&8191,C+=(c>>>11|(u=255&t[e+12]|(255&t[e+13])<<8)<<5)&8191,N+=(u>>>8|(h=255&t[e+14]|(255&t[e+15])<<8)<<8)&8191,U+=h>>>5|E,l=(p=(l=0)+x*k+5*H*O+5*V*S+5*K*R+5*B*T)>>>13,p&=8191,p+=5*M*A+5*L*P+5*q*C+5*D*N+5*I*U,l+=p>>>13,p&=8191,l=(f=l+x*I+O*k+5*H*S+5*V*R+5*K*T)>>>13,f&=8191,f+=5*B*A+5*M*P+5*L*C+5*q*N+5*D*U,l+=f>>>13,f&=8191,l=(d=l+x*D+O*I+S*k+5*H*R+5*V*T)>>>13,d&=8191,d+=5*K*A+5*B*P+5*M*C+5*L*N+5*q*U,l+=d>>>13,d&=8191,l=(_=l+x*q+O*D+S*I+R*k+5*H*T)>>>13,_&=8191,_+=5*V*A+5*K*P+5*B*C+5*M*N+5*L*U,l+=_>>>13,_&=8191,l=(b=l+x*L+O*q+S*D+R*I+T*k)>>>13,b&=8191,b+=5*H*A+5*V*P+5*K*C+5*B*N+5*M*U,l+=b>>>13,b&=8191,l=(y=l+x*M+O*L+S*q+R*D+T*I)>>>13,y&=8191,y+=A*k+5*H*P+5*V*C+5*K*N+5*B*U,l+=y>>>13,y&=8191,l=(g=l+x*B+O*M+S*L+R*q+T*D)>>>13,g&=8191,g+=A*I+P*k+5*H*C+5*V*N+5*K*U,l+=g>>>13,g&=8191,l=(v=l+x*K+O*B+S*M+R*L+T*q)>>>13,v&=8191,v+=A*D+P*I+C*k+5*H*N+5*V*U,l+=v>>>13,v&=8191,l=(m=l+x*V+O*K+S*B+R*M+T*L)>>>13,m&=8191,m+=A*q+P*D+C*I+N*k+5*H*U,l+=m>>>13,m&=8191,l=(w=l+x*H+O*V+S*K+R*B+T*M)>>>13,w&=8191,w+=A*L+P*q+C*D+N*I+U*k,l+=w>>>13,w&=8191,p=8191&(l=(l=(l<<2)+l|0)+p|0),l>>>=13,f+=l,x=p,O=f,S=d,R=_,T=b,A=y,P=g,C=v,N=m,U=w,e+=16,r-=16;this.h[0]=x,this.h[1]=O,this.h[2]=S,this.h[3]=R,this.h[4]=T,this.h[5]=A,this.h[6]=P,this.h[7]=C,this.h[8]=N,this.h[9]=U},R.prototype.finish=function(t,e){var r,n,i,o,s=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=r,r=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,s[0]=this.h[0]+5,r=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this.h[o]+r,r=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,n=(1^r)-1,o=0;o<10;o++)s[o]&=n;for(o=0,n=~n;o<10;o++)this.h[o]=this.h[o]&n|s[o];for(o=1,this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,i=this.h[0]+this.pad[0],this.h[0]=65535&i;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},R.prototype.update=function(t,e,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=t[e+n];if(r-=i,e+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(t,e,i),e+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=t[e+n];this.leftover+=r}};var Y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function G(t,e,r,n){for(var i,o,s,a,c,u,h,l,p,f,d,_,b,y,g,v,m,w,E,x,O,S,R,T,A,P,C=new Int32Array(16),N=new Int32Array(16),U=t[0],k=t[1],I=t[2],D=t[3],q=t[4],L=t[5],M=t[6],B=t[7],K=e[0],V=e[1],H=e[2],W=e[3],j=e[4],$=e[5],z=e[6],F=e[7],G=0;n>=128;){for(E=0;E<16;E++)x=8*E+G,C[E]=r[x+0]<<24|r[x+1]<<16|r[x+2]<<8|r[x+3],N[E]=r[x+4]<<24|r[x+5]<<16|r[x+6]<<8|r[x+7];for(E=0;E<80;E++)if(i=U,o=k,s=I,a=D,c=q,u=L,h=M,l=B,p=K,f=V,d=H,_=W,b=j,y=$,g=z,v=F,O=B,R=65535&(S=F),T=S>>>16,A=65535&O,P=O>>>16,O=(q>>>14|j<<18)^(q>>>18|j<<14)^(j>>>9|q<<23),R+=65535&(S=(j>>>14|q<<18)^(j>>>18|q<<14)^(q>>>9|j<<23)),T+=S>>>16,A+=65535&O,P+=O>>>16,O=q&L^~q&M,R+=65535&(S=j&$^~j&z),T+=S>>>16,A+=65535&O,P+=O>>>16,O=Y[2*E],R+=65535&(S=Y[2*E+1]),T+=S>>>16,A+=65535&O,P+=O>>>16,O=C[E%16],R+=65535&(S=N[E%16]),T+=S>>>16,A+=65535&O,P+=O>>>16,T+=R>>>16,A+=T>>>16,P+=A>>>16,m=65535&A|P<<16,w=65535&R|T<<16,O=m,R=65535&(S=w),T=S>>>16,A=65535&O,P=O>>>16,O=(U>>>28|K<<4)^(K>>>2|U<<30)^(K>>>7|U<<25),R+=65535&(S=(K>>>28|U<<4)^(U>>>2|K<<30)^(U>>>7|K<<25)),T+=S>>>16,A+=65535&O,P+=O>>>16,O=U&k^U&I^k&I,R+=65535&(S=K&V^K&H^V&H),T+=S>>>16,A+=65535&O,P+=O>>>16,T+=R>>>16,A+=T>>>16,P+=A>>>16,l=65535&A|P<<16,v=65535&R|T<<16,O=a,R=65535&(S=_),T=S>>>16,A=65535&O,P=O>>>16,O=m,R+=65535&(S=w),T+=S>>>16,A+=65535&O,P+=O>>>16,T+=R>>>16,A+=T>>>16,P+=A>>>16,a=65535&A|P<<16,_=65535&R|T<<16,k=i,I=o,D=s,q=a,L=c,M=u,B=h,U=l,V=p,H=f,W=d,j=_,$=b,z=y,F=g,K=v,E%16==15)for(x=0;x<16;x++)O=C[x],R=65535&(S=N[x]),T=S>>>16,A=65535&O,P=O>>>16,O=C[(x+9)%16],R+=65535&(S=N[(x+9)%16]),T+=S>>>16,A+=65535&O,P+=O>>>16,O=((m=C[(x+1)%16])>>>1|(w=N[(x+1)%16])<<31)^(m>>>8|w<<24)^m>>>7,R+=65535&(S=(w>>>1|m<<31)^(w>>>8|m<<24)^(w>>>7|m<<25)),T+=S>>>16,A+=65535&O,P+=O>>>16,O=((m=C[(x+14)%16])>>>19|(w=N[(x+14)%16])<<13)^(w>>>29|m<<3)^m>>>6,R+=65535&(S=(w>>>19|m<<13)^(m>>>29|w<<3)^(w>>>6|m<<26)),T+=S>>>16,A+=65535&O,P+=O>>>16,T+=R>>>16,A+=T>>>16,P+=A>>>16,C[x]=65535&A|P<<16,N[x]=65535&R|T<<16;O=U,R=65535&(S=K),T=S>>>16,A=65535&O,P=O>>>16,O=t[0],R+=65535&(S=e[0]),T+=S>>>16,A+=65535&O,P+=O>>>16,T+=R>>>16,A+=T>>>16,P+=A>>>16,t[0]=U=65535&A|P<<16,e[0]=K=65535&R|T<<16,O=k,R=65535&(S=V),T=S>>>16,A=65535&O,P=O>>>16,O=t[1],R+=65535&(S=e[1]),T+=S>>>16,A+=65535&O,P+=O>>>16,T+=R>>>16,A+=T>>>16,P+=A>>>16,t[1]=k=65535&A|P<<16,e[1]=V=65535&R|T<<16,O=I,R=65535&(S=H),T=S>>>16,A=65535&O,P=O>>>16,O=t[2],R+=65535&(S=e[2]),T+=S>>>16,A+=65535&O,P+=O>>>16,T+=R>>>16,A+=T>>>16,P+=A>>>16,t[2]=I=65535&A|P<<16,e[2]=H=65535&R|T<<16,O=D,R=65535&(S=W),T=S>>>16,A=65535&O,P=O>>>16,O=t[3],R+=65535&(S=e[3]),T+=S>>>16,A+=65535&O,P+=O>>>16,T+=R>>>16,A+=T>>>16,P+=A>>>16,t[3]=D=65535&A|P<<16,e[3]=W=65535&R|T<<16,O=q,R=65535&(S=j),T=S>>>16,A=65535&O,P=O>>>16,O=t[4],R+=65535&(S=e[4]),T+=S>>>16,A+=65535&O,P+=O>>>16,T+=R>>>16,A+=T>>>16,P+=A>>>16,t[4]=q=65535&A|P<<16,e[4]=j=65535&R|T<<16,O=L,R=65535&(S=$),T=S>>>16,A=65535&O,P=O>>>16,O=t[5],R+=65535&(S=e[5]),T+=S>>>16,A+=65535&O,P+=O>>>16,T+=R>>>16,A+=T>>>16,P+=A>>>16,t[5]=L=65535&A|P<<16,e[5]=$=65535&R|T<<16,O=M,R=65535&(S=z),T=S>>>16,A=65535&O,P=O>>>16,O=t[6],R+=65535&(S=e[6]),T+=S>>>16,A+=65535&O,P+=O>>>16,T+=R>>>16,A+=T>>>16,P+=A>>>16,t[6]=M=65535&A|P<<16,e[6]=z=65535&R|T<<16,O=B,R=65535&(S=F),T=S>>>16,A=65535&O,P=O>>>16,O=t[7],R+=65535&(S=e[7]),T+=S>>>16,A+=65535&O,P+=O>>>16,T+=R>>>16,A+=T>>>16,P+=A>>>16,t[7]=B=65535&A|P<<16,e[7]=F=65535&R|T<<16,G+=128,n-=128}return n}function J(t,e,r){var n,i=new Int32Array(8),o=new Int32Array(8),s=new Uint8Array(256),a=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,G(i,o,e,r),r%=128,n=0;n<r;n++)s[n]=e[a-r+n];for(s[r]=128,s[(r=256-128*(r<112?1:0))-9]=0,_(s,r-8,a/536870912|0,a<<3),G(i,o,s,r),n=0;n<8;n++)_(t,8*n,i[n],o[n]);return 0}function Z(t,e){var r=n(),i=n(),o=n(),s=n(),a=n(),c=n(),u=n(),h=n(),p=n();B(r,t[1],t[0]),B(p,e[1],e[0]),K(r,r,p),M(i,t[0],t[1]),M(p,e[0],e[1]),K(i,i,p),K(o,t[3],e[3]),K(o,o,l),K(s,t[2],e[2]),M(s,s,s),B(a,i,r),B(c,s,o),M(u,s,o),M(h,i,r),K(t[0],a,c),K(t[1],h,u),K(t[2],u,c),K(t[3],a,h)}function Q(t,e,r){var n;for(n=0;n<4;n++)k(t[n],e[n],r)}function X(t,e){var r=n(),i=n(),o=n();H(o,e[2]),K(r,e[0],o),K(i,e[1],o),I(t,i),t[31]^=q(r)<<7}function tt(t,e,r){var n,i;for(N(t[0],a),N(t[1],c),N(t[2],c),N(t[3],a),i=255;i>=0;--i)Q(t,e,n=r[i/8|0]>>(7&i)&1),Z(e,t),Z(t,t),Q(t,e,n)}function te(t,e){var r=[n(),n(),n(),n()];N(r[0],p),N(r[1],f),N(r[2],c),K(r[3],p,f),tt(t,r,e)}function tr(t,e,r){var o,s=new Uint8Array(64),a=[n(),n(),n(),n()];for(r||i(e,32),J(s,e,32),s[0]&=248,s[31]&=127,s[31]|=64,te(a,s),X(t,a),o=0;o<32;o++)e[o+32]=t[o];return 0}var tn=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ti(t,e){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)e[i]+=r-16*e[n]*tn[i-(n-32)],r=Math.floor((e[i]+128)/256),e[i]-=256*r;e[i]+=r,e[n]=0}for(i=0,r=0;i<32;i++)e[i]+=r-(e[31]>>4)*tn[i],r=e[i]>>8,e[i]&=255;for(i=0;i<32;i++)e[i]-=r*tn[i];for(n=0;n<32;n++)e[n+1]+=e[n]>>8,t[n]=255&e[n]}function to(t){var e,r=new Float64Array(64);for(e=0;e<64;e++)r[e]=t[e];for(e=0;e<64;e++)t[e]=0;ti(t,r)}function ts(t,e,r,i){var o,s,a=new Uint8Array(64),c=new Uint8Array(64),u=new Uint8Array(64),h=new Float64Array(64),l=[n(),n(),n(),n()];for(J(a,i,32),a[0]&=248,a[31]&=127,a[31]|=64,o=0;o<r;o++)t[64+o]=e[o];for(o=0;o<32;o++)t[32+o]=a[32+o];for(J(u,t.subarray(32),r+32),to(u),te(l,u),X(t,l),o=32;o<64;o++)t[o]=i[o];for(J(c,t,r+64),to(c),o=0;o<64;o++)h[o]=0;for(o=0;o<32;o++)h[o]=u[o];for(o=0;o<32;o++)for(s=0;s<32;s++)h[o+s]+=c[o]*a[s];return ti(t.subarray(32),h),r+64}function ta(t,e,r,i){var o,s,u,l,p,f,_,b,y=new Uint8Array(32),v=new Uint8Array(64),m=[n(),n(),n(),n()],w=[n(),n(),n(),n()];if(r<64||(o=n(),s=n(),u=n(),l=n(),p=n(),f=n(),_=n(),(N(w[2],c),L(w[1],i),V(u,w[1]),K(l,u,h),B(u,u,w[2]),M(l,w[2],l),V(p,l),V(f,p),K(_,f,p),K(o,_,u),K(o,o,l),W(o,o),K(o,o,u),K(o,o,l),K(o,o,l),K(w[0],o,l),V(s,w[0]),K(s,s,l),D(s,u)&&K(w[0],w[0],d),V(s,w[0]),K(s,s,l),D(s,u))?-1:(q(w[0])===i[31]>>7&&B(w[0],a,w[0]),K(w[3],w[0],w[1]),0)))return -1;for(b=0;b<r;b++)t[b]=e[b];for(b=0;b<32;b++)t[b+32]=i[b];if(J(v,t,r),to(v),tt(m,w,v),te(w,e.subarray(32)),Z(m,w),X(y,m),r-=64,g(e,0,y,0)){for(b=0;b<r;b++)t[b]=0;return -1}for(b=0;b<r;b++)t[b]=e[b+64];return r}function tc(t,e){if(32!==t.length)throw Error("bad key size");if(24!==e.length)throw Error("bad nonce size")}function tu(){for(var t=0;t<arguments.length;t++)if(!(arguments[t]instanceof Uint8Array))throw TypeError("unexpected type, use Uint8Array")}function th(t){for(var e=0;e<t.length;e++)t[e]=0}t.lowlevel={crypto_core_hsalsa20:m,crypto_stream_xor:S,crypto_stream:O,crypto_stream_salsa20_xor:E,crypto_stream_salsa20:x,crypto_onetimeauth:T,crypto_onetimeauth_verify:A,crypto_verify_16:y,crypto_verify_32:g,crypto_secretbox:P,crypto_secretbox_open:C,crypto_scalarmult:j,crypto_scalarmult_base:$,crypto_box_beforenm:F,crypto_box_afternm:P,crypto_box:function(t,e,r,n,i,o){var s=new Uint8Array(32);return F(s,i,o),P(t,e,r,n,s)},crypto_box_open:function(t,e,r,n,i,o){var s=new Uint8Array(32);return F(s,i,o),C(t,e,r,n,s)},crypto_box_keypair:z,crypto_hash:J,crypto_sign:ts,crypto_sign_keypair:tr,crypto_sign_open:ta,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:n,D:h,L:tn,pack25519:I,unpack25519:L,M:K,A:M,S:V,Z:B,pow2523:W,add:Z,set25519:N,modL:ti,scalarmult:tt,scalarbase:te},t.randomBytes=function(t){var e=new Uint8Array(t);return i(e,t),e},t.secretbox=function(t,e,r){tu(t,e,r),tc(r,e);for(var n=new Uint8Array(32+t.length),i=new Uint8Array(n.length),o=0;o<t.length;o++)n[o+32]=t[o];return P(i,n,n.length,e,r),i.subarray(16)},t.secretbox.open=function(t,e,r){tu(t,e,r),tc(r,e);for(var n=new Uint8Array(16+t.length),i=new Uint8Array(n.length),o=0;o<t.length;o++)n[o+16]=t[o];return n.length<32||0!==C(i,n,n.length,e,r)?null:i.subarray(32)},t.secretbox.keyLength=32,t.secretbox.nonceLength=24,t.secretbox.overheadLength=16,t.scalarMult=function(t,e){if(tu(t,e),32!==t.length)throw Error("bad n size");if(32!==e.length)throw Error("bad p size");var r=new Uint8Array(32);return j(r,t,e),r},t.scalarMult.base=function(t){if(tu(t),32!==t.length)throw Error("bad n size");var e=new Uint8Array(32);return $(e,t),e},t.scalarMult.scalarLength=32,t.scalarMult.groupElementLength=32,t.box=function(e,r,n,i){var o=t.box.before(n,i);return t.secretbox(e,r,o)},t.box.before=function(t,e){tu(t,e),function(t,e){if(32!==t.length)throw Error("bad public key size");if(32!==e.length)throw Error("bad secret key size")}(t,e);var r=new Uint8Array(32);return F(r,t,e),r},t.box.after=t.secretbox,t.box.open=function(e,r,n,i){var o=t.box.before(n,i);return t.secretbox.open(e,r,o)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(32);return z(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if(tu(t),32!==t.length)throw Error("bad secret key size");var e=new Uint8Array(32);return $(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=32,t.box.secretKeyLength=32,t.box.sharedKeyLength=32,t.box.nonceLength=24,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if(tu(t,e),64!==e.length)throw Error("bad secret key size");var r=new Uint8Array(64+t.length);return ts(r,t,t.length,e),r},t.sign.open=function(t,e){if(tu(t,e),32!==e.length)throw Error("bad public key size");var r=new Uint8Array(t.length),n=ta(r,t,t.length,e);if(n<0)return null;for(var i=new Uint8Array(n),o=0;o<i.length;o++)i[o]=r[o];return i},t.sign.detached=function(e,r){for(var n=t.sign(e,r),i=new Uint8Array(64),o=0;o<i.length;o++)i[o]=n[o];return i},t.sign.detached.verify=function(t,e,r){if(tu(t,e,r),64!==e.length)throw Error("bad signature size");if(32!==r.length)throw Error("bad public key size");var n,i=new Uint8Array(64+t.length),o=new Uint8Array(64+t.length);for(n=0;n<64;n++)i[n]=e[n];for(n=0;n<t.length;n++)i[n+64]=t[n];return ta(o,i,i.length,r)>=0},t.sign.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(64);return tr(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if(tu(t),64!==t.length)throw Error("bad secret key size");for(var e=new Uint8Array(32),r=0;r<e.length;r++)e[r]=t[32+r];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if(tu(t),32!==t.length)throw Error("bad seed size");for(var e=new Uint8Array(32),r=new Uint8Array(64),n=0;n<32;n++)r[n]=t[n];return tr(e,r,!0),{publicKey:e,secretKey:r}},t.sign.publicKeyLength=32,t.sign.secretKeyLength=64,t.sign.seedLength=32,t.sign.signatureLength=64,t.hash=function(t){tu(t);var e=new Uint8Array(64);return J(e,t,t.length),e},t.hash.hashLength=64,t.verify=function(t,e){return tu(t,e),0!==t.length&&0!==e.length&&t.length===e.length&&0===b(t,0,e,0,t.length)},t.setPRNG=function(t){i=t},(e="undefined"!=typeof self?self.crypto||self.msCrypto:null)&&e.getRandomValues?t.setPRNG(function(t,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)e.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)t[n]=i[n];th(i)}):(e=r(3938))&&e.randomBytes&&t.setPRNG(function(t,r){var n,i=e.randomBytes(r);for(n=0;n<r;n++)t[n]=i[n];th(i)})}(t.exports?t.exports:self.nacl=self.nacl||{})},2721:function(t,e,r){"use strict";r.d(e,{F6:function(){return t2},RH:function(){return tZ}});var n=r(9854),i=r(3901),o=Object.defineProperty,s=(t,e,r)=>e in t?o(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,a=(t,e,r)=>(s(t,"symbol"!=typeof e?e+"":e,r),r);function c(t,e){let r;let n=()=>{void 0!==r&&e&&e(r),r=void 0};return[()=>void 0===r?r=t(n):r,n]}class u{constructor(t,e={}){this.scope=t,this.options=e}print(t,...e){let r=new Date,n=Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(r),{textColor:i,bgColor:o}=this.options,s="font-weight: bold;padding: 0 5px;border-radius:5px";console[t](`%c${n}%c / %c${this.scope}`,`${s};background-color: lightblue;color:black`,"",`${s};${i?`color:${i};`:""}${o?`background-color:${o}`:""}`,...e)}error(...t){this.print("error",...t)}log(...t){this.print("log",...t)}}let h=new u("SDK",{bgColor:"forestgreen",textColor:"white"});class l{constructor(){a(this,"listeners",new Map),a(this,"listenersCount",0),a(this,"subscribeListeners",[])}clear(){this.listeners.clear(),this.subscribeListeners=[]}get count(){return this.listenersCount+this.subscribeListeners.length}emit(t,...e){this.subscribeListeners.forEach(r=>r({event:t,args:e})),(this.listeners.get(t)||[]).forEach(([r,n])=>{r(...e),n&&this.off(t,r)})}on(t,e,r){let n=this.listeners.get(t);return n||this.listeners.set(t,n=[]),n.push([e,r]),this.listenersCount+=1,()=>this.off(t,e)}off(t,e){let r=this.listeners.get(t)||[];for(let t=0;t<r.length;t+=1)if(e===r[t][0]){r.splice(t,1),this.listenersCount-=1;return}}subscribe(t){return this.subscribeListeners.push(t),()=>this.unsubscribe(t)}unsubscribe(t){for(let e=0;e<this.subscribeListeners.length;e+=1)if(this.subscribeListeners[e]===t){this.subscribeListeners.splice(e,1);return}}}function p(t,e,r){return window.addEventListener(t,e,r),()=>window.removeEventListener(t,e,r)}function f(...t){let e=!1,r=t.flat(1);return[t=>!e&&r.push(t),()=>{e||(e=!0,r.forEach(t=>t()))},e]}class d extends Error{constructor(t,e,r){super(e,{cause:r}),this.type=t,Object.setPrototypeOf(this,d.prototype)}}function _(t,e,r){return new d(t,e,r)}let b="ERR_PARSE";function y(){return _("ERR_UNEXPECTED_TYPE","Value has unexpected type")}class g{constructor(t,e,r){this.parser=t,this.isOptional=e,this.type=r}parse(t){if(!(this.isOptional&&void 0===t))try{return this.parser(t)}catch(t){throw _(b,`Unable to parse value${this.type?` as ${this.type}`:""}`,t)}}optional(){return this.isOptional=!0,this}}function v(t,e){return()=>new g(t,!1,e)}let m=v(t=>{if("boolean"==typeof t)return t;let e=String(t);if("1"===e||"true"===e)return!0;if("0"===e||"false"===e)return!1;throw y()},"boolean");function w(t,e){let r={};for(let n in t){let i,o;let s=t[n];if(s){if("function"==typeof s||"parse"in s)i=n,o="function"==typeof s?s:s.parse.bind(s);else{let{type:t}=s;i=s.from||n,o="function"==typeof t?t:t.parse.bind(t)}try{let t=o(e(i));void 0!==t&&(r[n]=t)}catch(t){throw _(b,`Unable to parse field "${n}"`,t)}}}return r}function E(t){let e=t;if("string"==typeof e&&(e=JSON.parse(e)),"object"!=typeof e||null===e||Array.isArray(e))throw y();return e}function x(t,e){return new g(e=>{let r=E(e);return w(t,t=>r[t])},!1,e)}let O=v(t=>{if("number"==typeof t)return t;if("string"==typeof t){let e=Number(t);if(!Number.isNaN(e))return e}throw y()},"number"),S=v(t=>{if("string"==typeof t||"number"==typeof t)return t.toString();throw y()},"string");function R(){["TelegramGameProxy_receiveEvent","TelegramGameProxy","Telegram"].forEach(t=>{delete window[t]})}function T(t,e){window.dispatchEvent(new MessageEvent("message",{data:JSON.stringify({eventType:t,eventData:e}),source:window.parent}))}let A={clipboard_text_received:x({req_id:S(),data:t=>null===t?t:S().optional().parse(t)}),custom_method_invoked:x({req_id:S(),result:t=>t,error:S().optional()}),popup_closed:{parse:t=>x({button_id:t=>null==t?void 0:S().parse(t)}).parse(t??{})},viewport_changed:x({height:O(),width:t=>null==t?window.innerWidth:O().parse(t),is_state_stable:m(),is_expanded:m()})},[P,C]=c(t=>{let[e,r]=function(){let t=new l,e=new l;e.subscribe(e=>{t.emit("event",{name:e.event,payload:e.args[0]})}),[["TelegramGameProxy_receiveEvent"],["TelegramGameProxy","receiveEvent"],["Telegram","WebView","receiveEvent"]].forEach(t=>{let e=window;t.forEach((t,r,n)=>{if(r===n.length-1){e[t]=T;return}t in e||(e[t]={}),e=e[t]})});let[,r]=f(R,p("resize",()=>{e.emit("viewport_changed",{width:window.innerWidth,height:window.innerHeight,is_state_stable:!0,is_expanded:!0})}),p("message",t=>{let r;if(t.source!==window.parent)return;try{var n;n=t.data,r=x({eventType:S(),eventData:t=>t}).parse(n)}catch{return}let{eventType:i,eventData:o}=r,s=A[i];try{let t=s?s.parse(o):o;e.emit(...t?[i,t]:[i])}catch(t){h.error(`An error occurred processing the "${i}" event from the Telegram application.
Please, file an issue here:
https://github.com/Telegram-Mini-Apps/telegram-apps/issues/new/choose`,r,t)}}),()=>t.clear(),()=>e.clear());return[{on:e.on.bind(e),off:e.off.bind(e),subscribe:e=>t.on("event",e),unsubscribe(e){t.off("event",e)},get count(){return e.count+t.count}},r]}(),n=e.off.bind(e);return e.off=(r,i)=>{let{count:o}=e;n(r,i),o&&!e.count&&t()},[e,r]},([,t])=>t());function N(t,e){P()[0].off(t,e)}function U(t,e,r){return P()[0].on(t,e,r)}function k(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function I(t,e){return 0>=function(t,e){let r=t.split("."),n=e.split("."),i=Math.max(r.length,n.length);for(let t=0;t<i;t+=1){let e=parseInt(r[t]||"0",10),i=parseInt(n[t]||"0",10);if(e!==i)return e>i?1:-1}return 0}(t,e)}function D(t,e,r){if("string"==typeof r){if("web_app_open_link"===t){if("try_instant_view"===e)return I("6.4",r);if("try_browser"===e)return I("7.6",r)}if("web_app_set_header_color"===t&&"color"===e)return I("6.9",r);if("web_app_close"===t&&"return_back"===e)return I("7.6",r)}switch(t){case"web_app_open_tg_link":case"web_app_open_invoice":case"web_app_setup_back_button":case"web_app_set_background_color":case"web_app_set_header_color":case"web_app_trigger_haptic_feedback":return I("6.1",e);case"web_app_open_popup":return I("6.2",e);case"web_app_close_scan_qr_popup":case"web_app_open_scan_qr_popup":case"web_app_read_text_from_clipboard":return I("6.4",e);case"web_app_switch_inline_query":return I("6.7",e);case"web_app_invoke_custom_method":case"web_app_request_write_access":case"web_app_request_phone":return I("6.9",e);case"web_app_setup_settings_button":return I("6.10",e);case"web_app_biometry_get_info":case"web_app_biometry_open_settings":case"web_app_biometry_request_access":case"web_app_biometry_request_auth":case"web_app_biometry_update_token":return I("7.2",e);case"web_app_setup_swipe_behavior":return I("7.7",e);default:return["iframe_ready","iframe_will_reload","web_app_close","web_app_data_send","web_app_expand","web_app_open_link","web_app_ready","web_app_request_theme","web_app_request_viewport","web_app_setup_main_button","web_app_setup_closing_behavior"].includes(t)}}function q(t){return"TelegramWebviewProxy"in t&&k(t.TelegramWebviewProxy)&&"postEvent"in t.TelegramWebviewProxy&&"function"==typeof t.TelegramWebviewProxy.postEvent}function L(t,e,r){var n;let i={},o;if(e||r?e&&r?(i=r,o=e):e&&("targetOrigin"in e?i=e:o=e):i={},function(...t){}("Posting event:",o?{event:t,data:o}:{event:t}),function(){try{return window.self!==window.top}catch{return!0}}())return window.parent.postMessage(JSON.stringify({eventType:t,eventData:o}),i.targetOrigin||"https://web.telegram.org");if("external"in(n=window)&&k(n.external)&&"notify"in n.external&&"function"==typeof n.external.notify){window.external.notify(JSON.stringify({eventType:t,eventData:o}));return}if(q(window)){window.TelegramWebviewProxy.postEvent(t,JSON.stringify(o));return}throw _("ERR_UNKNOWN_ENV","Unable to determine current environment and possible way to send event. You are probably trying to use Mini Apps method outside the Telegram application environment.")}function M(t){return({req_id:e})=>e===t}function B(t){return _("ERR_TIMED_OUT",`Timeout reached: ${t}ms`)}function K(t,e){return Promise.race(["function"==typeof t?t():t,new Promise((t,r)=>{setTimeout(()=>{r(B(e))},e)})])}async function V(t){let e;let r=new Promise(t=>e=t),{event:n,capture:i,timeout:o}=t,[,s]=f((Array.isArray(n)?n:[n]).map(t=>U(t,r=>{(!i||(Array.isArray(n)?i({event:t,payload:r}):i(r)))&&e(r)})));try{return(t.postEvent||L)(t.method,t.params),await (o?K(r,o):r)}finally{s()}}async function H(t,e,r,n={}){let{result:i,error:o}=await V({...n,method:"web_app_invoke_custom_method",event:"custom_method_invoked",params:{method:t,params:e,req_id:r},capture:M(r)});if(o)throw _("ERR_INVOKE_CUSTOM_METHOD_RESPONSE",o);return i}function W(t){return/^#[\da-f]{6}$/i.test(t)}function j(t){let e=t.replace(/\s/g,"").toLowerCase();if(W(e))return e;if(/^#[\da-f]{3}$/i.test(e)){let t="#";for(let r=0;r<3;r+=1)t+=e[1+r].repeat(2);return t}let r=e.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||e.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);if(!r)throw Error(`Value "${t}" does not satisfy any of known RGB formats.`);return r.slice(1).reduce((t,e)=>{let r=parseInt(e,10).toString(16);return t+(1===r.length?"0":"")+r},"#")}function $(t){let e=j(t);return 120>Math.sqrt([.299,.587,.114].reduce((t,r,n)=>{let i=parseInt(e.slice(1+2*n,1+(n+1)*2),16);return t+i*i*r},0))}class z{constructor(t){a(this,"ee",new l),a(this,"on",this.ee.on.bind(this.ee)),a(this,"off",this.ee.off.bind(this.ee)),this.state=t}clone(){return{...this.state}}set(t,e){Object.entries("string"==typeof t?{[t]:e}:t).reduce((t,[e,r])=>this.state[e]===r||void 0===r?t:(this.state[e]=r,this.ee.emit(`change:${e}`,r),!0),!1)&&this.ee.emit("change",this.state)}get(t){return this.state[t]}}class F{constructor(t){a(this,"state"),a(this,"get"),a(this,"set"),a(this,"clone"),this.state=new z(t),this.set=this.state.set.bind(this.state),this.get=this.state.get.bind(this.state),this.clone=this.state.clone.bind(this.state)}}class Y extends F{constructor(t,e,r){super(t),a(this,"supports"),this.supports=t=>D(r[t],e)}}class G extends Y{constructor(t,e,r){super({isVisible:t},e,{show:"web_app_setup_back_button",hide:"web_app_setup_back_button"}),a(this,"on",(t,e)=>"click"===t?U("back_button_pressed",e):this.state.on(t,e)),a(this,"off",(t,e)=>"click"===t?N("back_button_pressed",e):this.state.off(t,e)),this.postEvent=r}set isVisible(t){this.set("isVisible",t),this.postEvent("web_app_setup_back_button",{is_visible:t})}get isVisible(){return this.get("isVisible")}hide(){this.isVisible=!1}show(){this.isVisible=!0}}let J=v(t=>t instanceof Date?t:new Date(1e3*O().parse(t)),"Date");function Z(t,e){return new g(e=>{if("string"!=typeof e&&!(e instanceof URLSearchParams))throw y();let r="string"==typeof e?new URLSearchParams(e):e;return w(t,t=>{let e=r.get(t);return null===e?void 0:e})},!1,e)}let Q=x({id:O(),type:S(),title:S(),photoUrl:{type:S().optional(),from:"photo_url"},username:S().optional()},"Chat").optional(),X=x({addedToAttachmentMenu:{type:m().optional(),from:"added_to_attachment_menu"},allowsWriteToPm:{type:m().optional(),from:"allows_write_to_pm"},firstName:{type:S(),from:"first_name"},id:O(),isBot:{type:m().optional(),from:"is_bot"},isPremium:{type:m().optional(),from:"is_premium"},languageCode:{type:S().optional(),from:"language_code"},lastName:{type:S().optional(),from:"last_name"},photoUrl:{type:S().optional(),from:"photo_url"},username:S().optional()},"User").optional(),tt=v(t=>j(S().parse(t)),"rgb"),te=v(t=>{let e=tt().optional();return Object.entries(E(t)).reduce((t,[r,n])=>(t[r.replace(/_[a-z]/g,t=>t[1].toUpperCase())]=e.parse(n),t),{})},"ThemeParams");function tr(t){return Z({botInline:{type:m().optional(),from:"tgWebAppBotInline"},initData:{type:Z({authDate:{type:J(),from:"auth_date"},canSendAfter:{type:O().optional(),from:"can_send_after"},chat:Q,chatInstance:{type:S().optional(),from:"chat_instance"},chatType:{type:S().optional(),from:"chat_type"},hash:S(),queryId:{type:S().optional(),from:"query_id"},receiver:X,startParam:{type:S().optional(),from:"start_param"},user:X},"InitData").optional(),from:"tgWebAppData"},initDataRaw:{type:S().optional(),from:"tgWebAppData"},platform:{type:S(),from:"tgWebAppPlatform"},showSettings:{type:m().optional(),from:"tgWebAppShowSettings"},startParam:{type:S().optional(),from:"tgWebAppStartParam"},themeParams:{type:te(),from:"tgWebAppThemeParams"},version:{type:S(),from:"tgWebAppVersion"}}).parse(t)}function tn(t){return tr(t.replace(/^[^?#]*[?#]/,"").replace(/[?#]/g,"&"))}function ti(){return tn(window.location.href)}function to(){return performance.getEntriesByType("navigation")[0]}function ts(){let t=to();if(!t)throw Error("Unable to get first navigation entry.");return tn(t.name)}function ta(t){return`telegram-apps/${t.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}`}function tc(t,e){sessionStorage.setItem(ta(t),JSON.stringify(e))}function tu(t){let e=sessionStorage.getItem(ta(t));try{return e?JSON.parse(e):void 0}catch{}}function th(){return tr(tu("launchParams")||"")}let[tl]=c(function(){let t=0;return()=>(t+=1).toString()});function tp(t,e){return()=>{var r;let n=function(){let t=[];for(let e of[ti,ts,th])try{let t=e();return tc("launchParams",function(t){let{initDataRaw:e,themeParams:r,platform:n,version:i,showSettings:o,startParam:s,botInline:a}=t,c=new URLSearchParams;return c.set("tgWebAppPlatform",n),c.set("tgWebAppThemeParams",JSON.stringify(Object.fromEntries(Object.entries(r).map(([t,e])=>[t.replace(/[A-Z]/g,t=>`_${t.toLowerCase()}`),e])))),c.set("tgWebAppVersion",i),e&&c.set("tgWebAppData",e),s&&c.set("tgWebAppStartParam",s),"boolean"==typeof o&&c.set("tgWebAppShowSettings",o?"1":"0"),"boolean"==typeof a&&c.set("tgWebAppBotInline",a?"1":"0"),c.toString()}(t)),t}catch(e){t.push(e instanceof Error?e.message:JSON.stringify(e))}throw Error([`Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside Telegram?
`,"\uD83D\uDCD6 Refer to docs for more information:",`https://docs.telegram-mini-apps.com/packages/telegram-apps-sdk/environment
`,"Collected errors:",t.map(t=>` ${t}`)].join(`
`))}(),i={...n,postEvent:(r=n.version,(t,e)=>{if(!D(t,r))throw _("ERR_METHOD_UNSUPPORTED",`Method "${t}" is unsupported in Mini Apps version ${r}`);if(k(e)&&"web_app_set_header_color"===t&&"color"in e&&!D(t,"color",r))throw _("ERR_METHOD_PARAMETER_UNSUPPORTED",`Parameter "color" of "${t}" method is unsupported in Mini Apps version ${r}`);return L(t,e)}),createRequestId:tl()};if("function"==typeof t)return t(i);let[o,s,a]=f(),c=e({...i,state:!function(){let t=to();return!!(t&&"reload"===t.type)}()?void 0:tu(t),addCleanup:o}),u=e=>(a||o(e.on("change",e=>{tc(t,e)})),e);return[c instanceof Promise?c.then(u):u(c),s]}}let tf=tp("backButton",({postEvent:t,version:e,state:r={isVisible:!1}})=>new G(r.isVisible,e,t));class td extends Y{constructor(){super(...arguments),a(this,"on",this.state.on.bind(this.state)),a(this,"off",this.state.off.bind(this.state))}}function t_(t){let e=t.available?t:{available:!1,device_id:"",token_saved:!1,access_requested:!1,access_granted:!1,type:""};return{available:!0,type:e.type,deviceId:e.device_id,tokenSaved:e.token_saved,accessRequested:e.access_requested,accessGranted:e.access_granted}}class tb extends td{constructor({postEvent:t,version:e,...r}){super(r,e,{auth:"web_app_biometry_request_auth",openSettings:"web_app_biometry_open_settings",requestAccess:"web_app_biometry_request_access",updateToken:"web_app_biometry_update_token"}),a(this,"postEvent"),a(this,"authPromise"),a(this,"accessPromise"),this.postEvent=t}get available(){return this.get("available")}get accessGranted(){return this.get("accessGranted")}get accessRequested(){return this.get("accessRequested")}async authenticate({reason:t,...e}){return this.authPromise||(this.authPromise=V({...e,method:"web_app_biometry_request_auth",event:"biometry_auth_requested",postEvent:this.postEvent,params:{reason:(t||"").trim()}}).then(({token:t})=>t).finally(()=>this.authPromise=void 0)),this.authPromise}get deviceId(){return this.get("deviceId")}openSettings(){this.postEvent("web_app_biometry_open_settings")}requestAccess({reason:t,...e}={}){return this.accessPromise||(this.accessPromise=V({...e,postEvent:this.postEvent,method:"web_app_biometry_request_access",event:"biometry_info_received",params:{reason:t||""}}).then(t=>{let e=t_(t);return this.set(e),e.accessGranted}).finally(()=>this.accessPromise=void 0)),this.accessPromise}get biometryType(){return this.get("biometryType")}get tokenSaved(){return this.get("tokenSaved")}async updateToken({token:t,...e}={}){return["removed","updated"].includes((await V({...e,postEvent:this.postEvent,method:"web_app_biometry_update_token",event:"biometry_token_updated",params:{token:t||""}})).status)}}async function ty(t){return t_(await V({...t||{},method:"web_app_biometry_get_info",event:"biometry_info_received"}))}let tg=tp("biometryManager",async({postEvent:t,version:e,state:r})=>new tb({...r||D("web_app_biometry_get_info",e)?r||await ty({timeout:1e3}):{available:!1,accessGranted:!1,accessRequested:!1,tokenSaved:!1,deviceId:""},version:e,postEvent:t}));class tv extends F{constructor(){super(...arguments),a(this,"on",this.state.on.bind(this.state)),a(this,"off",this.state.off.bind(this.state))}}class tm extends tv{constructor(t,e){super({isConfirmationNeeded:t}),this.postEvent=e}set isConfirmationNeeded(t){this.set("isConfirmationNeeded",t),this.postEvent("web_app_setup_closing_behavior",{need_confirmation:t})}get isConfirmationNeeded(){return this.get("isConfirmationNeeded")}disableConfirmation(){this.isConfirmationNeeded=!1}enableConfirmation(){this.isConfirmationNeeded=!0}}let tw=tp("closingBehavior",({postEvent:t,state:e={isConfirmationNeeded:!1}})=>new tm(e.isConfirmationNeeded,t));class tE{constructor(t,e){a(this,"supports"),this.supports=r=>D(e[r],t)}}function tx(t){if(Array.isArray(t))return t;if("string"==typeof t)try{let e=JSON.parse(t);if(Array.isArray(e))return e}catch{}throw y()}class tO extends g{constructor(t,e,r){super(tx,e,r),a(this,"itemParser"),this.itemParser="function"==typeof t?t:t.parse.bind(t)}parse(t){let e=super.parse(t);return void 0===e?e:e.map(this.itemParser)}of(t){return this.itemParser="function"==typeof t?t:t.parse.bind(t),this}}function tS(t,e){return Object.fromEntries(t.map(t=>[t,e]))}class tR extends tE{constructor(t,e,r){super(t,{delete:"web_app_invoke_custom_method",get:"web_app_invoke_custom_method",getKeys:"web_app_invoke_custom_method",set:"web_app_invoke_custom_method"}),this.createRequestId=e,this.postEvent=r}async delete(t,e={}){let r=Array.isArray(t)?t:[t];r.length&&await H("deleteStorageValues",{keys:r},this.createRequestId(),{...e,postEvent:this.postEvent})}async getKeys(t={}){return new tO(t=>t,!1,void 0).of(S()).parse(await H("getStorageKeys",{},this.createRequestId(),{...t,postEvent:this.postEvent}))}async get(t,e={}){let r=Array.isArray(t)?t:[t];if(!r.length)return tS(r,"");let n=await H("getStorageValues",{keys:r},this.createRequestId(),{...e,postEvent:this.postEvent}),i=x(tS(r,S()),"CloudStorageData").parse(n);return Array.isArray(t)?i:i[t]}async set(t,e,r={}){await H("saveStorageValue",{key:t,value:e},this.createRequestId(),{...r,postEvent:this.postEvent})}}let tT=tp(({createRequestId:t,postEvent:e,version:r})=>new tR(r,t,e));class tA extends tE{constructor(t,e){super(t,{impactOccurred:"web_app_trigger_haptic_feedback",notificationOccurred:"web_app_trigger_haptic_feedback",selectionChanged:"web_app_trigger_haptic_feedback"}),this.postEvent=e}impactOccurred(t){this.postEvent("web_app_trigger_haptic_feedback",{type:"impact",impact_style:t})}notificationOccurred(t){this.postEvent("web_app_trigger_haptic_feedback",{type:"notification",notification_type:t})}selectionChanged(){this.postEvent("web_app_trigger_haptic_feedback",{type:"selection_change"})}}let tP=tp(({version:t,postEvent:e})=>new tA(t,e));class tC{constructor(t){this.initData=t}get authDate(){return this.initData.authDate}get canSendAfter(){return this.initData.canSendAfter}get canSendAfterDate(){let{canSendAfter:t}=this;return t?new Date(this.authDate.getTime()+1e3*t):void 0}get chat(){return this.initData.chat}get chatType(){return this.initData.chatType}get chatInstance(){return this.initData.chatInstance}get hash(){return this.initData.hash}get queryId(){return this.initData.queryId}get receiver(){return this.initData.receiver}get startParam(){return this.initData.startParam}get user(){return this.initData.user}}let tN=tp(({initData:t})=>t?new tC(t):void 0);class tU extends td{constructor(t,e,r){super({isOpened:t},e,{open:"web_app_open_invoice"}),this.postEvent=r}set isOpened(t){this.set("isOpened",t)}get isOpened(){return this.get("isOpened")}async open(t,e){let r;if(this.isOpened)throw Error("Invoice is already opened");if(e){let{hostname:e,pathname:n}=new URL(t,window.location.href);if("t.me"!==e)throw Error(`Incorrect hostname: ${e}`);let i=n.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/);if(!i)throw Error('Link pathname has incorrect format. Expected to receive "/invoice/{slug}" or "/${slug}"');[,,r]=i}else r=t;this.isOpened=!0;try{return(await V({method:"web_app_open_invoice",event:"invoice_closed",params:{slug:r},postEvent:this.postEvent,capture:t=>r===t.slug})).status}finally{this.isOpened=!1}}}let tk=tp(({version:t,postEvent:e})=>new tU(!1,t,e));class tI extends F{constructor({postEvent:t,...e}){super(e),a(this,"postEvent"),a(this,"on",(t,e)=>"click"===t?U("main_button_pressed",e):this.state.on(t,e)),a(this,"off",(t,e)=>"click"===t?N("main_button_pressed",e):this.state.off(t,e)),this.postEvent=t}get bgColor(){return this.get("bgColor")}commit(){""!==this.text&&this.postEvent("web_app_setup_main_button",{is_visible:this.isVisible,is_active:this.isEnabled,is_progress_visible:this.isLoaderVisible,text:this.text,color:this.bgColor,text_color:this.textColor})}disable(){return this.isEnabled=!1,this}enable(){return this.isEnabled=!0,this}hide(){return this.isVisible=!1,this}hideLoader(){return this.isLoaderVisible=!1,this}set isEnabled(t){this.setParams({isEnabled:t})}get isEnabled(){return this.get("isEnabled")}set isLoaderVisible(t){this.setParams({isLoaderVisible:t})}get isLoaderVisible(){return this.get("isLoaderVisible")}set isVisible(t){this.setParams({isVisible:t})}get isVisible(){return this.get("isVisible")}show(){return this.isVisible=!0,this}showLoader(){return this.isLoaderVisible=!0,this}setText(t){return this.setParams({text:t})}setTextColor(t){return this.setParams({textColor:t})}setBgColor(t){return this.setParams({bgColor:t})}setParams(t){return this.set(t),this.commit(),this}get text(){return this.get("text")}get textColor(){return this.get("textColor")}}let tD=tp("mainButton",({postEvent:t,themeParams:e,state:r={isVisible:!1,isEnabled:!1,text:"",isLoaderVisible:!1,textColor:e.buttonTextColor||"#ffffff",bgColor:e.buttonColor||"#000000"}})=>new tI({...r,postEvent:t}));function tq(t,e){return r=>{let[n,i]=e[r];return D(n,i,t)}}class tL extends td{constructor({postEvent:t,createRequestId:e,version:r,botInline:n,...i}){super(i,r,{requestPhoneAccess:"web_app_request_phone",requestWriteAccess:"web_app_request_write_access",switchInlineQuery:"web_app_switch_inline_query",setHeaderColor:"web_app_set_header_color",setBackgroundColor:"web_app_set_background_color"}),a(this,"botInline"),a(this,"postEvent"),a(this,"createRequestId"),a(this,"requestPhoneAccessPromise"),a(this,"requestWriteAccessPromise"),a(this,"supportsParam"),this.createRequestId=e,this.postEvent=t,this.botInline=n;let o=this.supports.bind(this);this.supports=t=>!!o(t)&&("switchInlineQuery"!==t||n),this.supportsParam=tq(r,{"setHeaderColor.color":["web_app_set_header_color","color"],"close.returnBack":["web_app_close","return_back"]})}async getRequestedContact({timeout:t=1e4}={}){return Z({contact:x({userId:{type:O(),from:"user_id"},phoneNumber:{type:S(),from:"phone_number"},firstName:{type:S(),from:"first_name"},lastName:{type:S().optional(),from:"last_name"}}),authDate:{type:J(),from:"auth_date"},hash:S()},"RequestedContact").parse(await H("getRequestedContact",{},this.createRequestId(),{postEvent:this.postEvent,timeout:t}))}get bgColor(){return this.get("bgColor")}close(t){this.postEvent("web_app_close",this.supportsParam("close.returnBack")?{return_back:t}:{})}get headerColor(){return this.get("headerColor")}get isBotInline(){return this.botInline}get isDark(){return $(this.bgColor)}ready(){this.postEvent("web_app_ready")}async requestContact({timeout:t=5e3}={}){try{return await this.getRequestedContact()}catch{}if(await this.requestPhoneAccess()!=="sent")throw Error("Access denied.");let e=Date.now()+t,r=50;return K(async()=>{for(;Date.now()<e;){try{return await this.getRequestedContact()}catch{}await function(t){return new Promise(e=>{setTimeout(e,t)})}(r),r+=50}throw B(t)},t)}async requestPhoneAccess(t={}){return this.requestPhoneAccessPromise||(this.requestPhoneAccessPromise=V({...t,method:"web_app_request_phone",event:"phone_requested",postEvent:this.postEvent}).then(({status:t})=>t).finally(()=>this.requestPhoneAccessPromise=void 0)),this.requestPhoneAccessPromise}async requestWriteAccess(t={}){return this.requestWriteAccessPromise||(this.requestWriteAccessPromise=V({...t,method:"web_app_request_write_access",event:"write_access_requested",postEvent:this.postEvent}).then(({status:t})=>t).finally(()=>this.requestWriteAccessPromise=void 0)),this.requestWriteAccessPromise}sendData(t){let{size:e}=new Blob([t]);if(!e||e>4096)throw Error(`Passed data has incorrect size: ${e}`);this.postEvent("web_app_data_send",{data:t})}setHeaderColor(t){this.postEvent("web_app_set_header_color",W(t)?{color:t}:{color_key:t}),this.set("headerColor",t)}setBgColor(t){this.postEvent("web_app_set_background_color",{color:t}),this.set("bgColor",t)}switchInlineQuery(t,e=[]){if(!this.supports("switchInlineQuery")&&!this.isBotInline)throw Error("Method is unsupported because Mini App should be launched in inline mode.");this.postEvent("web_app_switch_inline_query",{query:t,chat_types:e})}}let tM=tp("miniApp",({themeParams:t,botInline:e=!1,state:r={bgColor:t.bgColor||"#ffffff",headerColor:t.headerBgColor||"#000000"},...n})=>new tL({...n,...r,botInline:e}));class tB extends td{constructor(t,e,r){super({isOpened:t},e,{open:"web_app_open_popup"}),this.postEvent=r}set isOpened(t){this.set("isOpened",t)}get isOpened(){return this.get("isOpened")}async open(t){if(this.isOpened)throw Error("Popup is already opened.");this.isOpened=!0;try{let{button_id:e=null}=await V({event:"popup_closed",method:"web_app_open_popup",postEvent:this.postEvent,params:function(t){let e=t.message.trim(),r=(t.title||"").trim(),n=t.buttons||[];if(r.length>64)throw Error(`Title has incorrect size: ${r.length}`);if(!e.length||e.length>256)throw Error(`Message has incorrect size: ${e.length}`);if(n.length>3)throw Error(`Buttons have incorrect size: ${n.length}`);return{title:r,message:e,buttons:n.length?n.map(t=>{let{id:e=""}=t;if(e.length>64)throw Error(`Button ID has incorrect size: ${e}`);if(!t.type||"default"===t.type||"destructive"===t.type){let r=t.text.trim();if(!r.length||r.length>64){let e=t.type||"default";throw Error(`Button text with type "${e}" has incorrect size: ${t.text.length}`)}return{...t,text:r,id:e}}return{...t,id:e}}):[{type:"close",id:""}]}}(t)});return e}finally{this.isOpened=!1}}}let tK=tp(({postEvent:t,version:e})=>new tB(!1,e,t));class tV extends td{constructor(t,e,r){super({isOpened:t},e,{close:"web_app_close_scan_qr_popup",open:"web_app_open_scan_qr_popup"}),this.postEvent=r}close(){this.postEvent("web_app_close_scan_qr_popup"),this.isOpened=!1}set isOpened(t){this.set("isOpened",t)}get isOpened(){return this.get("isOpened")}async open(t){if(this.isOpened)throw Error("The scanner is already opened");let{text:e,capture:r}=("string"==typeof t?{text:t}:t)||{};this.isOpened=!0;try{let t=(await V({method:"web_app_open_scan_qr_popup",event:["qr_text_received","scan_qr_popup_closed"],postEvent:this.postEvent,params:{text:e},capture:t=>"scan_qr_popup_closed"===t.event||!r||r(t.payload)})||{}).data||null;return t&&this.close(),t}finally{this.isOpened=!1}}}let tH=tp(({version:t,postEvent:e})=>new tV(!1,t,e));class tW extends Y{constructor(t,e,r){super({isVisible:t},e,{show:"web_app_setup_settings_button",hide:"web_app_setup_settings_button"}),a(this,"on",(t,e)=>"click"===t?U("settings_button_pressed",e):this.state.on(t,e)),a(this,"off",(t,e)=>"click"===t?N("settings_button_pressed",e):this.state.off(t,e)),this.postEvent=r}set isVisible(t){this.set("isVisible",t),this.postEvent("web_app_setup_settings_button",{is_visible:t})}get isVisible(){return this.get("isVisible")}hide(){this.isVisible=!1}show(){this.isVisible=!0}}let tj=tp("settingsButton",({version:t,postEvent:e,state:r={isVisible:!1}})=>new tW(r.isVisible,t,e));class t$ extends td{constructor(t,e,r){super({isVerticalSwipeEnabled:t},e,{disableVerticalSwipe:"web_app_setup_swipe_behavior",enableVerticalSwipe:"web_app_setup_swipe_behavior"}),this.postEvent=r}set isVerticalSwipeEnabled(t){this.set("isVerticalSwipeEnabled",t),this.postEvent("web_app_setup_swipe_behavior",{allow_vertical_swipe:t})}get isVerticalSwipeEnabled(){return this.get("isVerticalSwipeEnabled")}disableVerticalSwipe(){this.isVerticalSwipeEnabled=!1}enableVerticalSwipe(){this.isVerticalSwipeEnabled=!0}}let tz=tp("swipeBehavior",({postEvent:t,state:e={isVerticalSwipeEnabled:!0},version:r})=>new t$(e.isVerticalSwipeEnabled,r,t));class tF extends tv{get accentTextColor(){return this.get("accentTextColor")}get bgColor(){return this.get("bgColor")}get buttonColor(){return this.get("buttonColor")}get buttonTextColor(){return this.get("buttonTextColor")}get destructiveTextColor(){return this.get("destructiveTextColor")}getState(){return this.clone()}get headerBgColor(){return this.get("headerBgColor")}get hintColor(){return this.get("hintColor")}get isDark(){return!this.bgColor||$(this.bgColor)}get linkColor(){return this.get("linkColor")}get secondaryBgColor(){return this.get("secondaryBgColor")}get sectionBgColor(){return this.get("sectionBgColor")}get sectionHeaderTextColor(){return this.get("sectionHeaderTextColor")}get sectionSeparatorColor(){return this.get("sectionHeaderTextColor")}listen(){return U("theme_changed",t=>{var e;this.set((e=t.theme_params,te().parse(e)))})}get subtitleTextColor(){return this.get("subtitleTextColor")}get textColor(){return this.get("textColor")}}let tY=tp("themeParams",({themeParams:t,state:e=t,addCleanup:r})=>{let n=new tF(e);return r(n.listen()),n});function tG(t,e){return t.startsWith(e)?t:`${e}${t}`}class tJ extends tE{constructor(t,e,r){super(t,{readTextFromClipboard:"web_app_read_text_from_clipboard"}),a(this,"supportsParam"),this.version=t,this.createRequestId=e,this.postEvent=r,this.supportsParam=tq(t,{"openLink.tryInstantView":["web_app_open_link","try_instant_view"]})}openLink(t,e){let r=new URL("string"==typeof t?t:`${t.pathname||""}${tG(t.search||"","?")}${tG(t.hash||"","#")}`,"http://a").toString();if(!D("web_app_open_link",this.version)){window.open(r,"_blank");return}let n="boolean"==typeof e?{tryInstantView:e}:e||{};this.postEvent("web_app_open_link",{url:r,try_browser:n.tryBrowser,try_instant_view:n.tryInstantView})}openTelegramLink(t){let{hostname:e,pathname:r,search:n}=new URL(t,"https://t.me");if("t.me"!==e)throw Error(`URL has not allowed hostname: ${e}. Only "t.me" is allowed`);if(!D("web_app_open_tg_link",this.version)){window.location.href=t;return}this.postEvent("web_app_open_tg_link",{path_full:r+n})}async readTextFromClipboard(){let t=this.createRequestId(),{data:e=null}=await V({method:"web_app_read_text_from_clipboard",event:"clipboard_text_received",postEvent:this.postEvent,params:{req_id:t},capture:M(t)});return e}shareURL(t,e){this.openTelegramLink("https://t.me/share/url?"+new URLSearchParams({url:t,text:e||""}).toString().replace(/\+/g,"%20"))}}let tZ=tp(({version:t,postEvent:e,createRequestId:r})=>new tJ(t,r,e));async function tQ(t={}){let{is_expanded:e,is_state_stable:r,...n}=await V({...t,method:"web_app_request_viewport",event:"viewport_changed"});return{...n,isExpanded:e,isStateStable:r}}function tX(t){return t<0?0:t}class t5 extends tv{constructor({postEvent:t,stableHeight:e,height:r,width:n,isExpanded:i}){super({height:tX(r),isExpanded:i,stableHeight:tX(e),width:tX(n)}),a(this,"postEvent"),this.postEvent=t}async sync(t){let{isStateStable:e,...r}=await tQ(t);this.set({...r,stableHeight:e?r.height:this.get("stableHeight")})}get height(){return this.get("height")}get stableHeight(){return this.get("stableHeight")}listen(){return U("viewport_changed",t=>{let{height:e,width:r,is_expanded:n,is_state_stable:i}=t,o=tX(e);this.set({height:o,isExpanded:n,width:tX(r),...i?{stableHeight:o}:{}})})}get isExpanded(){return this.get("isExpanded")}get width(){return this.get("width")}expand(){this.postEvent("web_app_expand"),this.set("isExpanded",!0)}get isStable(){return this.stableHeight===this.height}}let t1=tp("viewport",async({state:t,platform:e,postEvent:r,addCleanup:n})=>{let i=!1,o=0,s=0,a=0;if(t)i=t.isExpanded,o=t.height,s=t.width,a=t.stableHeight;else if(["macos","tdesktop","unigram","webk","weba","web"].includes(e))i=!0,o=window.innerHeight,s=window.innerWidth,a=window.innerHeight;else{let t=await tQ({timeout:1e3,postEvent:r});i=t.isExpanded,o=t.height,s=t.width,a=t.isStateStable?o:0}let c=new t5({postEvent:r,height:o,width:s,stableHeight:a,isExpanded:i});return n(c.listen()),c});async function t2(){if(q(window))return!0;try{return await V({method:"web_app_request_theme",event:"theme_changed",timeout:100}),!0}catch{return!1}}function t0(t,e){function r(t){return function(e,r,i){return o=>{let s={...o,[e]:t(r)};return(0,n.jsx)(i,{...s})}}}return[r(t),r(e)]}let t6=(0,i.createContext)(void 0);function t3(t){function e(e){let r=function(){let t=(0,i.useContext)(t6);if(!t)throw Error("useSDK was used outside the SDKProvider.");return t}(),[n,o]=(0,i.useState)(e?void 0:()=>{if(typeof window>"u")throw Error("Using hooks on the server side, you must explicitly specify ssr = true option");return r.use(t)});return(0,i.useEffect)(()=>{o(r.use(t))},[r]),n}return[e,function(t){let r=e(t);if(r){if("error"in r)throw r.error;return r.result}}]}let[t8,t4]=t3(tf),[t9,t7]=t0(t8,t4),[et,ee]=t3(tg),[er,en]=t0(et,ee),[ei,eo]=t3(tw),[es,ea]=t0(ei,eo),[ec,eu]=t3(tT),[eh,el]=t0(ec,eu),[ep,ef]=t3(tP),[ed,e_]=t0(ep,ef),[eb,ey]=t3(tN),[eg,ev]=t0(eb,ey),[em,ew]=t3(tk),[eE,ex]=t0(em,ew),[eO,eS]=t3(tD),[eR,eT]=t0(eO,eS),[eA,eP]=t3(tM),[eC,eN]=t0(eA,eP),[eU,ek]=t3(tK),[eI,eD]=t0(eU,ek),[eq,eL]=t3(tH),[eM,eB]=t0(eq,eL),[eK,eV]=t3(tj),[eH,eW]=t0(eK,eV),[ej,e$]=t3(tz),[ez,eF]=t0(ej,e$),[eY,eG]=t3(tY),[eJ,eZ]=t0(eY,eG),[eQ,eX]=t3(tZ),[e5,e1]=t0(eQ,eX),[e2,e0]=t3(t1),[e6,e3]=t0(e2,e0)},4821:function(t,e,r){"use strict";r.d(e,{DS:function(){return y},SW:function(){return v},m6:function(){return m}});var n,i,o,s,a,c,u,h,l,p,f,d,_=r(5167),b=r(6646);r(5497),(n=u||(u={}))[n.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",n[n.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",n[n.MANIFEST_NOT_FOUND_ERROR=2]="MANIFEST_NOT_FOUND_ERROR",n[n.MANIFEST_CONTENT_ERROR=3]="MANIFEST_CONTENT_ERROR",n[n.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",n[n.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",n[n.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",(i=h||(h={}))[i.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",i[i.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",(o=l||(l={}))[o.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",o[o.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",o[o.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",o[o.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",o[o.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",(s=p||(p={}))[s.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",s[s.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",s[s.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",s[s.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",s[s.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",(a=f||(f={}))[a.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",a[a.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",a[a.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",a[a.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",(c=d||(d={})).MAINNET="-239",c.TESTNET="-3";let y={encode:function(t,e=!1){let r;return t instanceof Uint8Array?r=t:("string"!=typeof t&&(t=JSON.stringify(t)),r=_.decodeUTF8(t)),function(t,e){let r=_.encodeBase64(t);return e?encodeURIComponent(r):r}(r,e)},decode:function(t,e=!1){var r;let n=(r=t,e&&(r=decodeURIComponent(r)),_.decodeBase64(r));return{toString:()=>_.encodeUTF8(n),toObject(){try{return JSON.parse(_.encodeUTF8(n))}catch(t){return null}},toUint8Array:()=>n}}};function g(t){let e="";return t.forEach(t=>{e+=("0"+(255&t).toString(16)).slice(-2)}),e}function v(t){if(t.length%2!=0)throw Error(`Cannot convert ${t} to bytesArray`);let e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2)e[r/2]=parseInt(t.slice(r,r+2),16);return e}class m{constructor(t){this.nonceLength=24,this.keyPair=t?this.createKeypairFromString(t):this.createKeypair(),this.sessionId=g(this.keyPair.publicKey)}createKeypair(){return b.box.keyPair()}createKeypairFromString(t){return{publicKey:v(t.publicKey),secretKey:v(t.secretKey)}}createNonce(){return b.randomBytes(this.nonceLength)}encrypt(t,e){let r=new TextEncoder().encode(t),n=this.createNonce(),i=b.box(r,n,e,this.keyPair.secretKey);return function(t,e){let r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),r}(n,i)}decrypt(t,e){let[r,n]=function(t,e){if(e>=t.length)throw Error("Index is out of buffer");return[t.slice(0,e),t.slice(e)]}(t,this.nonceLength),i=b.box.open(n,r,e,this.keyPair.secretKey);if(!i)throw Error(`Decryption error: 
 message: ${t.toString()} 
 sender pubkey: ${e.toString()} 
 keypair pubkey: ${this.keyPair.publicKey.toString()} 
 keypair secretkey: ${this.keyPair.secretKey.toString()}`);return new TextDecoder().decode(i)}stringifyKeypair(){return{publicKey:g(this.keyPair.publicKey),secretKey:g(this.keyPair.secretKey)}}}}}]);