(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[425],{8934:function(t,e,r){var n=r(4399).lW;!function(t){"use strict";let e,o,i;var u,a,s,c,f,l,h,p,_,v,y,d,g,b,m,w,E=Object.defineProperty,S=(t,e,r)=>e in t?E(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,O=(t,e,r)=>S(t,"symbol"!=typeof e?e+"":e,r),R="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof r.g?r.g:"u">typeof self?self:{};function A(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function x(t){if(t.__esModule)return t;var e=t.default;if("function"==typeof e){var r=function t(){return this instanceof t?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(e){var n=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,n.get?n:{enumerable:!0,get:function(){return t[e]}})}),r}let T=["UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE"],N=A(x(Object.freeze(Object.defineProperty({__proto__:null,default:class{constructor(t,e={}){if(O(this,"ERROR",-1),O(this,"CONNECTING",0),O(this,"OPEN",1),O(this,"CLOSED",2),O(this,"CRLF",`\r
`),O(this,"LF",`
`),O(this,"CR","\r"),this.lastEventId=null,this.status=this.CONNECTING,this.eventHandlers={open:[],message:[],error:[],close:[]},this.method=e.method||"GET",this.timeout=e.timeout??0,this.timeoutBeforeConnection=e.timeoutBeforeConnection??500,this.withCredentials=e.withCredentials||!1,this.headers=e.headers||{},this.body=e.body||void 0,this.debug=e.debug||!1,this.interval=e.pollingInterval??5e3,this.lineEndingCharacter=e.lineEndingCharacter||null,this._xhr=null,this._pollTimer=null,this._lastIndexProcessed=0,!t||"string"!=typeof t&&"function"!=typeof t.toString)throw SyntaxError("[EventSource] Invalid URL argument.");"function"==typeof t.toString?this.url=t.toString():this.url=t,this._pollAgain(this.timeoutBeforeConnection,!0)}_pollAgain(t,e){(t>0||e)&&(this._logDebug(`[EventSource] Will open new connection in ${t} ms.`),this._pollTimer=setTimeout(()=>{this.open()},t))}open(){try{if(this.status=this.CONNECTING,this._lastIndexProcessed=0,this._xhr=new XMLHttpRequest,this._xhr.open(this.method,this.url,!0),this.withCredentials&&(this._xhr.withCredentials=!0),this._xhr.setRequestHeader("Accept","text/event-stream"),this._xhr.setRequestHeader("Cache-Control","no-cache"),this._xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),this.headers)for(let[t,e]of Object.entries(this.headers))this._xhr.setRequestHeader(t,e);null!==this.lastEventId&&this._xhr.setRequestHeader("Last-Event-ID",this.lastEventId),this._xhr.timeout=this.timeout,this._xhr.onreadystatechange=()=>{if(this.status===this.CLOSED)return;let t=this._xhr;this._logDebug(`[EventSource][onreadystatechange] ReadyState: ${T[t.readyState]||"Unknown"}(${t.readyState}), status: ${t.status}`),[XMLHttpRequest.DONE,XMLHttpRequest.LOADING].includes(t.readyState)&&(t.status>=200&&t.status<400?(this.status===this.CONNECTING&&(this.status=this.OPEN,this.dispatch("open",{type:"open"}),this._logDebug("[EventSource][onreadystatechange][OPEN] Connection opened.")),this._handleEvent(t.responseText||""),t.readyState===XMLHttpRequest.DONE&&(this._logDebug("[EventSource][onreadystatechange][DONE] Operation done."),this._pollAgain(this.interval,!1))):0!==t.status&&(this.status=this.ERROR,this.dispatch("error",{type:"error",message:t.responseText,xhrStatus:t.status,xhrState:t.readyState}),t.readyState===XMLHttpRequest.DONE&&(this._logDebug("[EventSource][onreadystatechange][ERROR] Response status error."),this._pollAgain(this.interval,!1))))},this._xhr.onerror=()=>{this.status!==this.CLOSED&&(this.status=this.ERROR,this.dispatch("error",{type:"error",message:this._xhr.responseText,xhrStatus:this._xhr.status,xhrState:this._xhr.readyState}))},this.body?this._xhr.send(this.body):this._xhr.send(),this.timeout>0&&setTimeout(()=>{this._xhr.readyState===XMLHttpRequest.LOADING&&(this.dispatch("error",{type:"timeout"}),this.close())},this.timeout)}catch(t){this.status=this.ERROR,this.dispatch("error",{type:"exception",message:t.message,error:t})}}_logDebug(...t){this.debug&&console.debug(...t)}_handleEvent(t){if(null===this.lineEndingCharacter){let e=this._detectNewlineChar(t);if(null!==e)this._logDebug(`[EventSource] Automatically detected lineEndingCharacter: ${JSON.stringify(e).slice(1,-1)}`),this.lineEndingCharacter=e;else{console.warn("[EventSource] Unable to identify the line ending character. Ensure your server delivers a standard line ending character: \\r\\n, \\n, \\r, or specify your custom character using the 'lineEndingCharacter' option.");return}}let e=this._getLastDoubleNewlineIndex(t);if(e<=this._lastIndexProcessed)return;let r=t.substring(this._lastIndexProcessed,e).split(this.lineEndingCharacter);this._lastIndexProcessed=e;let n,o=null,i=[],u=0,a="";for(let t=0;t<r.length;t++)if((a=r[t].trim()).startsWith("event"))n=a.replace(/event:?\s*/,"");else if(a.startsWith("retry"))isNaN(u=parseInt(a.replace(/retry:?\s*/,""),10))||(this.interval=u);else if(a.startsWith("data"))i.push(a.replace(/data:?\s*/,""));else if(a.startsWith("id"))""!==(o=a.replace(/id:?\s*/,""))?this.lastEventId=o:this.lastEventId=null;else if(""===a&&i.length>0){let t=n||"message",e={type:t,data:i.join(`
`),url:this.url,lastEventId:this.lastEventId};this.dispatch(t,e),i=[],n=void 0}}_detectNewlineChar(t){for(let e of[this.CRLF,this.LF,this.CR])if(t.includes(e))return e;return null}_getLastDoubleNewlineIndex(t){let e=this.lineEndingCharacter+this.lineEndingCharacter,r=t.lastIndexOf(e);return -1===r?-1:r+e.length}addEventListener(t,e){void 0===this.eventHandlers[t]&&(this.eventHandlers[t]=[]),this.eventHandlers[t].push(e)}removeEventListener(t,e){void 0!==this.eventHandlers[t]&&(this.eventHandlers[t]=this.eventHandlers[t].filter(t=>t!==e))}removeAllEventListeners(t){let e=Object.keys(this.eventHandlers);if(void 0===t)for(let t of e)this.eventHandlers[t]=[];else{if(!e.includes(t))throw Error(`[EventSource] '${t}' type is not supported event type.`);this.eventHandlers[t]=[]}}dispatch(t,e){if(Object.keys(this.eventHandlers).includes(t))for(let r of Object.values(this.eventHandlers[t]))r(e)}close(){this.status!==this.CLOSED&&(this.status=this.CLOSED,this.dispatch("close",{type:"close"})),clearTimeout(this._pollTimer),this._xhr&&this._xhr.abort()}}},Symbol.toStringTag,{value:"Module"}))));var I={exports:{}};u=function(){var t={};function e(t){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(t))throw TypeError("invalid encoding")}return t.decodeUTF8=function(t){if("string"!=typeof t)throw TypeError("expected string");var e,r=unescape(encodeURIComponent(t)),n=new Uint8Array(r.length);for(e=0;e<r.length;e++)n[e]=r.charCodeAt(e);return n},t.encodeUTF8=function(t){var e,r=[];for(e=0;e<t.length;e++)r.push(String.fromCharCode(t[e]));return decodeURIComponent(escape(r.join("")))},typeof atob>"u"?"u">typeof n.from?(t.encodeBase64=function(t){return n.from(t).toString("base64")},t.decodeBase64=function(t){return e(t),new Uint8Array(Array.prototype.slice.call(n.from(t,"base64"),0))}):(t.encodeBase64=function(t){return new n(t).toString("base64")},t.decodeBase64=function(t){return e(t),new Uint8Array(Array.prototype.slice.call(new n(t,"base64"),0))}):(t.encodeBase64=function(t){var e,r=[],n=t.length;for(e=0;e<n;e++)r.push(String.fromCharCode(t[e]));return btoa(r.join(""))},t.decodeBase64=function(t){e(t);var r,n=atob(t),o=new Uint8Array(n.length);for(r=0;r<n.length;r++)o[r]=n.charCodeAt(r);return o}),t},I.exports?I.exports=u():(R.nacl||(R.nacl={}),R.nacl.util=u());let U=A(I.exports);var P={exports:{}};let C=x(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));!function(t){var e,r=function(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;e++)r[e]=t[e];return r},n=function(){throw Error("no PRNG")},o=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var u=r(),a=r([1]),s=r([56129,1]),c=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),f=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),l=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function _(t,e,r,n){t[e]=r>>24&255,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r,t[e+4]=n>>24&255,t[e+5]=n>>16&255,t[e+6]=n>>8&255,t[e+7]=255&n}function v(t,e,r,n,o){var i,u=0;for(i=0;i<o;i++)u|=t[e+i]^r[n+i];return(1&u-1>>>8)-1}function y(t,e,r,n){return v(t,e,r,n,16)}function d(t,e,r,n){return v(t,e,r,n,32)}function g(t,e,r,n){!function(t,e,r,n){for(var o,i=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,u=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,s=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,f=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,h=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,p=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,_=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,v=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,d=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,g=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,m=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,w=i,E=u,S=a,O=s,R=c,A=f,x=l,T=h,N=p,I=_,U=v,P=y,C=d,k=g,j=b,D=m,$=0;$<20;$+=2)R^=(o=w+C|0)<<7|o>>>25,N^=(o=R+w|0)<<9|o>>>23,C^=(o=N+R|0)<<13|o>>>19,w^=(o=C+N|0)<<18|o>>>14,I^=(o=A+E|0)<<7|o>>>25,k^=(o=I+A|0)<<9|o>>>23,E^=(o=k+I|0)<<13|o>>>19,A^=(o=E+k|0)<<18|o>>>14,j^=(o=U+x|0)<<7|o>>>25,S^=(o=j+U|0)<<9|o>>>23,x^=(o=S+j|0)<<13|o>>>19,U^=(o=x+S|0)<<18|o>>>14,O^=(o=D+P|0)<<7|o>>>25,T^=(o=O+D|0)<<9|o>>>23,P^=(o=T+O|0)<<13|o>>>19,D^=(o=P+T|0)<<18|o>>>14,E^=(o=w+O|0)<<7|o>>>25,S^=(o=E+w|0)<<9|o>>>23,O^=(o=S+E|0)<<13|o>>>19,w^=(o=O+S|0)<<18|o>>>14,x^=(o=A+R|0)<<7|o>>>25,T^=(o=x+A|0)<<9|o>>>23,R^=(o=T+x|0)<<13|o>>>19,A^=(o=R+T|0)<<18|o>>>14,P^=(o=U+I|0)<<7|o>>>25,N^=(o=P+U|0)<<9|o>>>23,I^=(o=N+P|0)<<13|o>>>19,U^=(o=I+N|0)<<18|o>>>14,C^=(o=D+j|0)<<7|o>>>25,k^=(o=C+D|0)<<9|o>>>23,j^=(o=k+C|0)<<13|o>>>19,D^=(o=j+k|0)<<18|o>>>14;w=w+i|0,E=E+u|0,S=S+a|0,O=O+s|0,R=R+c|0,A=A+f|0,x=x+l|0,T=T+h|0,N=N+p|0,I=I+_|0,U=U+v|0,P=P+y|0,C=C+d|0,k=k+g|0,j=j+b|0,D=D+m|0,t[0]=w>>>0&255,t[1]=w>>>8&255,t[2]=w>>>16&255,t[3]=w>>>24&255,t[4]=E>>>0&255,t[5]=E>>>8&255,t[6]=E>>>16&255,t[7]=E>>>24&255,t[8]=S>>>0&255,t[9]=S>>>8&255,t[10]=S>>>16&255,t[11]=S>>>24&255,t[12]=O>>>0&255,t[13]=O>>>8&255,t[14]=O>>>16&255,t[15]=O>>>24&255,t[16]=R>>>0&255,t[17]=R>>>8&255,t[18]=R>>>16&255,t[19]=R>>>24&255,t[20]=A>>>0&255,t[21]=A>>>8&255,t[22]=A>>>16&255,t[23]=A>>>24&255,t[24]=x>>>0&255,t[25]=x>>>8&255,t[26]=x>>>16&255,t[27]=x>>>24&255,t[28]=T>>>0&255,t[29]=T>>>8&255,t[30]=T>>>16&255,t[31]=T>>>24&255,t[32]=N>>>0&255,t[33]=N>>>8&255,t[34]=N>>>16&255,t[35]=N>>>24&255,t[36]=I>>>0&255,t[37]=I>>>8&255,t[38]=I>>>16&255,t[39]=I>>>24&255,t[40]=U>>>0&255,t[41]=U>>>8&255,t[42]=U>>>16&255,t[43]=U>>>24&255,t[44]=P>>>0&255,t[45]=P>>>8&255,t[46]=P>>>16&255,t[47]=P>>>24&255,t[48]=C>>>0&255,t[49]=C>>>8&255,t[50]=C>>>16&255,t[51]=C>>>24&255,t[52]=k>>>0&255,t[53]=k>>>8&255,t[54]=k>>>16&255,t[55]=k>>>24&255,t[56]=j>>>0&255,t[57]=j>>>8&255,t[58]=j>>>16&255,t[59]=j>>>24&255,t[60]=D>>>0&255,t[61]=D>>>8&255,t[62]=D>>>16&255,t[63]=D>>>24&255}(t,e,r,n)}function b(t,e,r,n){!function(t,e,r,n){for(var o,i=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,u=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,s=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,f=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,h=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,p=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,_=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,v=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,d=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,g=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,m=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,w=i,E=u,S=a,O=s,R=c,A=f,x=l,T=h,N=p,I=_,U=v,P=y,C=d,k=g,j=b,D=m,$=0;$<20;$+=2)R^=(o=w+C|0)<<7|o>>>25,N^=(o=R+w|0)<<9|o>>>23,C^=(o=N+R|0)<<13|o>>>19,w^=(o=C+N|0)<<18|o>>>14,I^=(o=A+E|0)<<7|o>>>25,k^=(o=I+A|0)<<9|o>>>23,E^=(o=k+I|0)<<13|o>>>19,A^=(o=E+k|0)<<18|o>>>14,j^=(o=U+x|0)<<7|o>>>25,S^=(o=j+U|0)<<9|o>>>23,x^=(o=S+j|0)<<13|o>>>19,U^=(o=x+S|0)<<18|o>>>14,O^=(o=D+P|0)<<7|o>>>25,T^=(o=O+D|0)<<9|o>>>23,P^=(o=T+O|0)<<13|o>>>19,D^=(o=P+T|0)<<18|o>>>14,E^=(o=w+O|0)<<7|o>>>25,S^=(o=E+w|0)<<9|o>>>23,O^=(o=S+E|0)<<13|o>>>19,w^=(o=O+S|0)<<18|o>>>14,x^=(o=A+R|0)<<7|o>>>25,T^=(o=x+A|0)<<9|o>>>23,R^=(o=T+x|0)<<13|o>>>19,A^=(o=R+T|0)<<18|o>>>14,P^=(o=U+I|0)<<7|o>>>25,N^=(o=P+U|0)<<9|o>>>23,I^=(o=N+P|0)<<13|o>>>19,U^=(o=I+N|0)<<18|o>>>14,C^=(o=D+j|0)<<7|o>>>25,k^=(o=C+D|0)<<9|o>>>23,j^=(o=k+C|0)<<13|o>>>19,D^=(o=j+k|0)<<18|o>>>14;t[0]=w>>>0&255,t[1]=w>>>8&255,t[2]=w>>>16&255,t[3]=w>>>24&255,t[4]=A>>>0&255,t[5]=A>>>8&255,t[6]=A>>>16&255,t[7]=A>>>24&255,t[8]=U>>>0&255,t[9]=U>>>8&255,t[10]=U>>>16&255,t[11]=U>>>24&255,t[12]=D>>>0&255,t[13]=D>>>8&255,t[14]=D>>>16&255,t[15]=D>>>24&255,t[16]=x>>>0&255,t[17]=x>>>8&255,t[18]=x>>>16&255,t[19]=x>>>24&255,t[20]=T>>>0&255,t[21]=T>>>8&255,t[22]=T>>>16&255,t[23]=T>>>24&255,t[24]=N>>>0&255,t[25]=N>>>8&255,t[26]=N>>>16&255,t[27]=N>>>24&255,t[28]=I>>>0&255,t[29]=I>>>8&255,t[30]=I>>>16&255,t[31]=I>>>24&255}(t,e,r,n)}var m=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(t,e,r,n,o,i,u){var a,s,c=new Uint8Array(16),f=new Uint8Array(64);for(s=0;s<16;s++)c[s]=0;for(s=0;s<8;s++)c[s]=i[s];for(;o>=64;){for(g(f,c,u,m),s=0;s<64;s++)t[e+s]=r[n+s]^f[s];for(a=1,s=8;s<16;s++)a=a+(255&c[s])|0,c[s]=255&a,a>>>=8;o-=64,e+=64,n+=64}if(o>0)for(g(f,c,u,m),s=0;s<o;s++)t[e+s]=r[n+s]^f[s];return 0}function E(t,e,r,n,o){var i,u,a=new Uint8Array(16),s=new Uint8Array(64);for(u=0;u<16;u++)a[u]=0;for(u=0;u<8;u++)a[u]=n[u];for(;r>=64;){for(g(s,a,o,m),u=0;u<64;u++)t[e+u]=s[u];for(i=1,u=8;u<16;u++)i=i+(255&a[u])|0,a[u]=255&i,i>>>=8;r-=64,e+=64}if(r>0)for(g(s,a,o,m),u=0;u<r;u++)t[e+u]=s[u];return 0}function S(t,e,r,n,o){var i=new Uint8Array(32);b(i,n,o,m);for(var u=new Uint8Array(8),a=0;a<8;a++)u[a]=n[a+16];return E(t,e,r,u,i)}function O(t,e,r,n,o,i,u){var a=new Uint8Array(32);b(a,i,u,m);for(var s=new Uint8Array(8),c=0;c<8;c++)s[c]=i[c+16];return w(t,e,r,n,o,s,a)}var R=function(t){var e,r,n,o,i,u,a,s;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,r=255&t[2]|(255&t[3])<<8,this.r[1]=(e>>>13|r<<3)&8191,n=255&t[4]|(255&t[5])<<8,this.r[2]=(r>>>10|n<<6)&7939,o=255&t[6]|(255&t[7])<<8,this.r[3]=(n>>>7|o<<9)&8191,i=255&t[8]|(255&t[9])<<8,this.r[4]=(o>>>4|i<<12)&255,this.r[5]=i>>>1&8190,u=255&t[10]|(255&t[11])<<8,this.r[6]=(i>>>14|u<<2)&8191,a=255&t[12]|(255&t[13])<<8,this.r[7]=(u>>>11|a<<5)&8065,s=255&t[14]|(255&t[15])<<8,this.r[8]=(a>>>8|s<<8)&8191,this.r[9]=s>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function A(t,e,r,n,o,i){var u=new R(i);return u.update(r,n,o),u.finish(t,e),0}function x(t,e,r,n,o,i){var u=new Uint8Array(16);return A(u,0,r,n,o,i),y(t,e,u,0)}function T(t,e,r,n,o){var i;if(r<32)return -1;for(O(t,0,e,0,r,n,o),A(t,16,t,32,r-32,t),i=0;i<16;i++)t[i]=0;return 0}function N(t,e,r,n,o){var i,u=new Uint8Array(32);if(r<32||(S(u,0,32,n,o),0!==x(e,16,e,32,r-32,u)))return -1;for(O(t,0,e,0,r,n,o),i=0;i<32;i++)t[i]=0;return 0}function I(t,e){var r;for(r=0;r<16;r++)t[r]=0|e[r]}function U(t){var e,r,n=1;for(e=0;e<16;e++)n=Math.floor((r=t[e]+n+65535)/65536),t[e]=r-65536*n;t[0]+=n-1+37*(n-1)}function P(t,e,r){for(var n,o=~(r-1),i=0;i<16;i++)n=o&(t[i]^e[i]),t[i]^=n,e[i]^=n}function k(t,e){var n,o,i,u=r(),a=r();for(n=0;n<16;n++)a[n]=e[n];for(U(a),U(a),U(a),o=0;o<2;o++){for(u[0]=a[0]-65517,n=1;n<15;n++)u[n]=a[n]-65535-(u[n-1]>>16&1),u[n-1]&=65535;u[15]=a[15]-32767-(u[14]>>16&1),i=u[15]>>16&1,u[14]&=65535,P(a,u,1-i)}for(n=0;n<16;n++)t[2*n]=255&a[n],t[2*n+1]=a[n]>>8}function j(t,e){var r=new Uint8Array(32),n=new Uint8Array(32);return k(r,t),k(n,e),d(r,0,n,0)}function D(t){var e=new Uint8Array(32);return k(e,t),1&e[0]}function $(t,e){var r;for(r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function L(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]+r[n]}function M(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]-r[n]}function K(t,e,r){var n,o,i=0,u=0,a=0,s=0,c=0,f=0,l=0,h=0,p=0,_=0,v=0,y=0,d=0,g=0,b=0,m=0,w=0,E=0,S=0,O=0,R=0,A=0,x=0,T=0,N=0,I=0,U=0,P=0,C=0,k=0,j=0,D=r[0],$=r[1],L=r[2],M=r[3],K=r[4],W=r[5],z=r[6],B=r[7],q=r[8],F=r[9],H=r[10],G=r[11],J=r[12],Y=r[13],V=r[14],Z=r[15];i+=(n=e[0])*D,u+=n*$,a+=n*L,s+=n*M,c+=n*K,f+=n*W,l+=n*z,h+=n*B,p+=n*q,_+=n*F,v+=n*H,y+=n*G,d+=n*J,g+=n*Y,b+=n*V,m+=n*Z,u+=(n=e[1])*D,a+=n*$,s+=n*L,c+=n*M,f+=n*K,l+=n*W,h+=n*z,p+=n*B,_+=n*q,v+=n*F,y+=n*H,d+=n*G,g+=n*J,b+=n*Y,m+=n*V,w+=n*Z,a+=(n=e[2])*D,s+=n*$,c+=n*L,f+=n*M,l+=n*K,h+=n*W,p+=n*z,_+=n*B,v+=n*q,y+=n*F,d+=n*H,g+=n*G,b+=n*J,m+=n*Y,w+=n*V,E+=n*Z,s+=(n=e[3])*D,c+=n*$,f+=n*L,l+=n*M,h+=n*K,p+=n*W,_+=n*z,v+=n*B,y+=n*q,d+=n*F,g+=n*H,b+=n*G,m+=n*J,w+=n*Y,E+=n*V,S+=n*Z,c+=(n=e[4])*D,f+=n*$,l+=n*L,h+=n*M,p+=n*K,_+=n*W,v+=n*z,y+=n*B,d+=n*q,g+=n*F,b+=n*H,m+=n*G,w+=n*J,E+=n*Y,S+=n*V,O+=n*Z,f+=(n=e[5])*D,l+=n*$,h+=n*L,p+=n*M,_+=n*K,v+=n*W,y+=n*z,d+=n*B,g+=n*q,b+=n*F,m+=n*H,w+=n*G,E+=n*J,S+=n*Y,O+=n*V,R+=n*Z,l+=(n=e[6])*D,h+=n*$,p+=n*L,_+=n*M,v+=n*K,y+=n*W,d+=n*z,g+=n*B,b+=n*q,m+=n*F,w+=n*H,E+=n*G,S+=n*J,O+=n*Y,R+=n*V,A+=n*Z,h+=(n=e[7])*D,p+=n*$,_+=n*L,v+=n*M,y+=n*K,d+=n*W,g+=n*z,b+=n*B,m+=n*q,w+=n*F,E+=n*H,S+=n*G,O+=n*J,R+=n*Y,A+=n*V,x+=n*Z,p+=(n=e[8])*D,_+=n*$,v+=n*L,y+=n*M,d+=n*K,g+=n*W,b+=n*z,m+=n*B,w+=n*q,E+=n*F,S+=n*H,O+=n*G,R+=n*J,A+=n*Y,x+=n*V,T+=n*Z,_+=(n=e[9])*D,v+=n*$,y+=n*L,d+=n*M,g+=n*K,b+=n*W,m+=n*z,w+=n*B,E+=n*q,S+=n*F,O+=n*H,R+=n*G,A+=n*J,x+=n*Y,T+=n*V,N+=n*Z,v+=(n=e[10])*D,y+=n*$,d+=n*L,g+=n*M,b+=n*K,m+=n*W,w+=n*z,E+=n*B,S+=n*q,O+=n*F,R+=n*H,A+=n*G,x+=n*J,T+=n*Y,N+=n*V,I+=n*Z,y+=(n=e[11])*D,d+=n*$,g+=n*L,b+=n*M,m+=n*K,w+=n*W,E+=n*z,S+=n*B,O+=n*q,R+=n*F,A+=n*H,x+=n*G,T+=n*J,N+=n*Y,I+=n*V,U+=n*Z,d+=(n=e[12])*D,g+=n*$,b+=n*L,m+=n*M,w+=n*K,E+=n*W,S+=n*z,O+=n*B,R+=n*q,A+=n*F,x+=n*H,T+=n*G,N+=n*J,I+=n*Y,U+=n*V,P+=n*Z,g+=(n=e[13])*D,b+=n*$,m+=n*L,w+=n*M,E+=n*K,S+=n*W,O+=n*z,R+=n*B,A+=n*q,x+=n*F,T+=n*H,N+=n*G,I+=n*J,U+=n*Y,P+=n*V,C+=n*Z,b+=(n=e[14])*D,m+=n*$,w+=n*L,E+=n*M,S+=n*K,O+=n*W,R+=n*z,A+=n*B,x+=n*q,T+=n*F,N+=n*H,I+=n*G,U+=n*J,P+=n*Y,C+=n*V,k+=n*Z,m+=(n=e[15])*D,w+=n*$,E+=n*L,S+=n*M,O+=n*K,R+=n*W,A+=n*z,x+=n*B,T+=n*q,N+=n*F,I+=n*H,U+=n*G,P+=n*J,C+=n*Y,k+=n*V,j+=n*Z,i+=38*w,u+=38*E,a+=38*S,s+=38*O,c+=38*R,f+=38*A,l+=38*x,h+=38*T,p+=38*N,_+=38*I,v+=38*U,y+=38*P,d+=38*C,g+=38*k,b+=38*j,o=Math.floor((n=i+(o=1)+65535)/65536),i=n-65536*o,o=Math.floor((n=u+o+65535)/65536),u=n-65536*o,o=Math.floor((n=a+o+65535)/65536),a=n-65536*o,o=Math.floor((n=s+o+65535)/65536),s=n-65536*o,o=Math.floor((n=c+o+65535)/65536),c=n-65536*o,o=Math.floor((n=f+o+65535)/65536),f=n-65536*o,o=Math.floor((n=l+o+65535)/65536),l=n-65536*o,o=Math.floor((n=h+o+65535)/65536),h=n-65536*o,o=Math.floor((n=p+o+65535)/65536),p=n-65536*o,o=Math.floor((n=_+o+65535)/65536),_=n-65536*o,o=Math.floor((n=v+o+65535)/65536),v=n-65536*o,o=Math.floor((n=y+o+65535)/65536),y=n-65536*o,o=Math.floor((n=d+o+65535)/65536),d=n-65536*o,o=Math.floor((n=g+o+65535)/65536),g=n-65536*o,o=Math.floor((n=b+o+65535)/65536),b=n-65536*o,o=Math.floor((n=m+o+65535)/65536),m=n-65536*o,i+=o-1+37*(o-1),o=Math.floor((n=i+(o=1)+65535)/65536),i=n-65536*o,o=Math.floor((n=u+o+65535)/65536),u=n-65536*o,o=Math.floor((n=a+o+65535)/65536),a=n-65536*o,o=Math.floor((n=s+o+65535)/65536),s=n-65536*o,o=Math.floor((n=c+o+65535)/65536),c=n-65536*o,o=Math.floor((n=f+o+65535)/65536),f=n-65536*o,o=Math.floor((n=l+o+65535)/65536),l=n-65536*o,o=Math.floor((n=h+o+65535)/65536),h=n-65536*o,o=Math.floor((n=p+o+65535)/65536),p=n-65536*o,o=Math.floor((n=_+o+65535)/65536),_=n-65536*o,o=Math.floor((n=v+o+65535)/65536),v=n-65536*o,o=Math.floor((n=y+o+65535)/65536),y=n-65536*o,o=Math.floor((n=d+o+65535)/65536),d=n-65536*o,o=Math.floor((n=g+o+65535)/65536),g=n-65536*o,o=Math.floor((n=b+o+65535)/65536),b=n-65536*o,o=Math.floor((n=m+o+65535)/65536),m=n-65536*o,i+=o-1+37*(o-1),t[0]=i,t[1]=u,t[2]=a,t[3]=s,t[4]=c,t[5]=f,t[6]=l,t[7]=h,t[8]=p,t[9]=_,t[10]=v,t[11]=y,t[12]=d,t[13]=g,t[14]=b,t[15]=m}function W(t,e){K(t,e,e)}function z(t,e){var n,o=r();for(n=0;n<16;n++)o[n]=e[n];for(n=253;n>=0;n--)W(o,o),2!==n&&4!==n&&K(o,o,e);for(n=0;n<16;n++)t[n]=o[n]}function B(t,e){var n,o=r();for(n=0;n<16;n++)o[n]=e[n];for(n=250;n>=0;n--)W(o,o),1!==n&&K(o,o,e);for(n=0;n<16;n++)t[n]=o[n]}function q(t,e,n){var o,i,u=new Uint8Array(32),a=new Float64Array(80),c=r(),f=r(),l=r(),h=r(),p=r(),_=r();for(i=0;i<31;i++)u[i]=e[i];for(u[31]=127&e[31]|64,u[0]&=248,$(a,n),i=0;i<16;i++)f[i]=a[i],h[i]=c[i]=l[i]=0;for(c[0]=h[0]=1,i=254;i>=0;--i)P(c,f,o=u[i>>>3]>>>(7&i)&1),P(l,h,o),L(p,c,l),M(c,c,l),L(l,f,h),M(f,f,h),W(h,p),W(_,c),K(c,l,c),K(l,f,p),L(p,c,l),M(c,c,l),W(f,c),M(l,h,_),K(c,l,s),L(c,c,h),K(l,l,c),K(c,h,_),K(h,f,a),W(f,p),P(c,f,o),P(l,h,o);for(i=0;i<16;i++)a[i+16]=c[i],a[i+32]=l[i],a[i+48]=f[i],a[i+64]=h[i];var v=a.subarray(32),y=a.subarray(16);return z(v,v),K(y,y,v),k(t,y),0}function F(t,e){return q(t,e,i)}function H(t,e){return n(e,32),F(t,e)}function G(t,e,r){var n=new Uint8Array(32);return q(n,r,e),b(t,o,n,m)}R.prototype.blocks=function(t,e,r){for(var n,o,i,u,a,s,c,f,l,h,p,_,v,y,d,g,b,m,w,E=this.fin?0:2048,S=this.h[0],O=this.h[1],R=this.h[2],A=this.h[3],x=this.h[4],T=this.h[5],N=this.h[6],I=this.h[7],U=this.h[8],P=this.h[9],C=this.r[0],k=this.r[1],j=this.r[2],D=this.r[3],$=this.r[4],L=this.r[5],M=this.r[6],K=this.r[7],W=this.r[8],z=this.r[9];r>=16;)S+=8191&(n=255&t[e+0]|(255&t[e+1])<<8),O+=(n>>>13|(o=255&t[e+2]|(255&t[e+3])<<8)<<3)&8191,R+=(o>>>10|(i=255&t[e+4]|(255&t[e+5])<<8)<<6)&8191,A+=(i>>>7|(u=255&t[e+6]|(255&t[e+7])<<8)<<9)&8191,x+=(u>>>4|(a=255&t[e+8]|(255&t[e+9])<<8)<<12)&8191,T+=a>>>1&8191,N+=(a>>>14|(s=255&t[e+10]|(255&t[e+11])<<8)<<2)&8191,I+=(s>>>11|(c=255&t[e+12]|(255&t[e+13])<<8)<<5)&8191,U+=(c>>>8|(f=255&t[e+14]|(255&t[e+15])<<8)<<8)&8191,P+=f>>>5|E,l=(h=(l=0)+S*C+5*z*O+5*W*R+5*K*A+5*M*x)>>>13,h&=8191,h+=5*L*T+5*$*N+5*D*I+5*j*U+5*k*P,l+=h>>>13,h&=8191,l=(p=l+S*k+O*C+5*z*R+5*W*A+5*K*x)>>>13,p&=8191,p+=5*M*T+5*L*N+5*$*I+5*D*U+5*j*P,l+=p>>>13,p&=8191,l=(_=l+S*j+O*k+R*C+5*z*A+5*W*x)>>>13,_&=8191,_+=5*K*T+5*M*N+5*L*I+5*$*U+5*D*P,l+=_>>>13,_&=8191,l=(v=l+S*D+O*j+R*k+A*C+5*z*x)>>>13,v&=8191,v+=5*W*T+5*K*N+5*M*I+5*L*U+5*$*P,l+=v>>>13,v&=8191,l=(y=l+S*$+O*D+R*j+A*k+x*C)>>>13,y&=8191,y+=5*z*T+5*W*N+5*K*I+5*M*U+5*L*P,l+=y>>>13,y&=8191,l=(d=l+S*L+O*$+R*D+A*j+x*k)>>>13,d&=8191,d+=T*C+5*z*N+5*W*I+5*K*U+5*M*P,l+=d>>>13,d&=8191,l=(g=l+S*M+O*L+R*$+A*D+x*j)>>>13,g&=8191,g+=T*k+N*C+5*z*I+5*W*U+5*K*P,l+=g>>>13,g&=8191,l=(b=l+S*K+O*M+R*L+A*$+x*D)>>>13,b&=8191,b+=T*j+N*k+I*C+5*z*U+5*W*P,l+=b>>>13,b&=8191,l=(m=l+S*W+O*K+R*M+A*L+x*$)>>>13,m&=8191,m+=T*D+N*j+I*k+U*C+5*z*P,l+=m>>>13,m&=8191,l=(w=l+S*z+O*W+R*K+A*M+x*L)>>>13,w&=8191,w+=T*$+N*D+I*j+U*k+P*C,l+=w>>>13,w&=8191,h=8191&(l=(l=(l<<2)+l|0)+h|0),l>>>=13,p+=l,S=h,O=p,R=_,A=v,x=y,T=d,N=g,I=b,U=m,P=w,e+=16,r-=16;this.h[0]=S,this.h[1]=O,this.h[2]=R,this.h[3]=A,this.h[4]=x,this.h[5]=T,this.h[6]=N,this.h[7]=I,this.h[8]=U,this.h[9]=P},R.prototype.finish=function(t,e){var r,n,o,i,u=new Uint16Array(10);if(this.leftover){for(i=this.leftover,this.buffer[i++]=1;i<16;i++)this.buffer[i]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,i=2;i<10;i++)this.h[i]+=r,r=this.h[i]>>>13,this.h[i]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,u[0]=this.h[0]+5,r=u[0]>>>13,u[0]&=8191,i=1;i<10;i++)u[i]=this.h[i]+r,r=u[i]>>>13,u[i]&=8191;for(u[9]-=8192,n=(1^r)-1,i=0;i<10;i++)u[i]&=n;for(n=~n,i=0;i<10;i++)this.h[i]=this.h[i]&n|u[i];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,o=this.h[0]+this.pad[0],this.h[0]=65535&o,i=1;i<8;i++)o=(this.h[i]+this.pad[i]|0)+(o>>>16)|0,this.h[i]=65535&o;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},R.prototype.update=function(t,e,r){var n,o;if(this.leftover){for((o=16-this.leftover)>r&&(o=r),n=0;n<o;n++)this.buffer[this.leftover+n]=t[e+n];if(r-=o,e+=o,this.leftover+=o,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(o=r-r%16,this.blocks(t,e,o),e+=o,r-=o),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=t[e+n];this.leftover+=r}};var J=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Y(t,e,r,n){for(var o,i,u,a,s,c,f,l,h,p,_,v,y,d,g,b,m,w,E,S,O,R,A,x,T,N,I=new Int32Array(16),U=new Int32Array(16),P=t[0],C=t[1],k=t[2],j=t[3],D=t[4],$=t[5],L=t[6],M=t[7],K=e[0],W=e[1],z=e[2],B=e[3],q=e[4],F=e[5],H=e[6],G=e[7],Y=0;n>=128;){for(E=0;E<16;E++)S=8*E+Y,I[E]=r[S+0]<<24|r[S+1]<<16|r[S+2]<<8|r[S+3],U[E]=r[S+4]<<24|r[S+5]<<16|r[S+6]<<8|r[S+7];for(E=0;E<80;E++)if(o=P,i=C,u=k,a=j,s=D,c=$,f=L,l=M,h=K,p=W,_=z,v=B,y=q,d=F,g=H,b=G,O=M,A=65535&(R=G),x=R>>>16,T=65535&O,N=O>>>16,O=(D>>>14|q<<18)^(D>>>18|q<<14)^(q>>>9|D<<23),A+=65535&(R=(q>>>14|D<<18)^(q>>>18|D<<14)^(D>>>9|q<<23)),x+=R>>>16,T+=65535&O,N+=O>>>16,O=D&$^~D&L,A+=65535&(R=q&F^~q&H),x+=R>>>16,T+=65535&O,N+=O>>>16,O=J[2*E],A+=65535&(R=J[2*E+1]),x+=R>>>16,T+=65535&O,N+=O>>>16,O=I[E%16],A+=65535&(R=U[E%16]),x+=R>>>16,T+=65535&O,N+=O>>>16,x+=A>>>16,T+=x>>>16,N+=T>>>16,m=65535&T|N<<16,w=65535&A|x<<16,O=m,A=65535&(R=w),x=R>>>16,T=65535&O,N=O>>>16,O=(P>>>28|K<<4)^(K>>>2|P<<30)^(K>>>7|P<<25),A+=65535&(R=(K>>>28|P<<4)^(P>>>2|K<<30)^(P>>>7|K<<25)),x+=R>>>16,T+=65535&O,N+=O>>>16,O=P&C^P&k^C&k,A+=65535&(R=K&W^K&z^W&z),x+=R>>>16,T+=65535&O,N+=O>>>16,x+=A>>>16,T+=x>>>16,N+=T>>>16,l=65535&T|N<<16,b=65535&A|x<<16,O=a,A=65535&(R=v),x=R>>>16,T=65535&O,N=O>>>16,O=m,A+=65535&(R=w),x+=R>>>16,T+=65535&O,N+=O>>>16,x+=A>>>16,T+=x>>>16,N+=T>>>16,a=65535&T|N<<16,v=65535&A|x<<16,C=o,k=i,j=u,D=a,$=s,L=c,M=f,P=l,W=h,z=p,B=_,q=v,F=y,H=d,G=g,K=b,E%16==15)for(S=0;S<16;S++)O=I[S],A=65535&(R=U[S]),x=R>>>16,T=65535&O,N=O>>>16,O=I[(S+9)%16],A+=65535&(R=U[(S+9)%16]),x+=R>>>16,T+=65535&O,N+=O>>>16,O=((m=I[(S+1)%16])>>>1|(w=U[(S+1)%16])<<31)^(m>>>8|w<<24)^m>>>7,A+=65535&(R=(w>>>1|m<<31)^(w>>>8|m<<24)^(w>>>7|m<<25)),x+=R>>>16,T+=65535&O,N+=O>>>16,O=((m=I[(S+14)%16])>>>19|(w=U[(S+14)%16])<<13)^(w>>>29|m<<3)^m>>>6,A+=65535&(R=(w>>>19|m<<13)^(m>>>29|w<<3)^(w>>>6|m<<26)),x+=R>>>16,T+=65535&O,N+=O>>>16,x+=A>>>16,T+=x>>>16,N+=T>>>16,I[S]=65535&T|N<<16,U[S]=65535&A|x<<16;O=P,A=65535&(R=K),x=R>>>16,T=65535&O,N=O>>>16,O=t[0],A+=65535&(R=e[0]),x+=R>>>16,T+=65535&O,N+=O>>>16,x+=A>>>16,T+=x>>>16,N+=T>>>16,t[0]=P=65535&T|N<<16,e[0]=K=65535&A|x<<16,O=C,A=65535&(R=W),x=R>>>16,T=65535&O,N=O>>>16,O=t[1],A+=65535&(R=e[1]),x+=R>>>16,T+=65535&O,N+=O>>>16,x+=A>>>16,T+=x>>>16,N+=T>>>16,t[1]=C=65535&T|N<<16,e[1]=W=65535&A|x<<16,O=k,A=65535&(R=z),x=R>>>16,T=65535&O,N=O>>>16,O=t[2],A+=65535&(R=e[2]),x+=R>>>16,T+=65535&O,N+=O>>>16,x+=A>>>16,T+=x>>>16,N+=T>>>16,t[2]=k=65535&T|N<<16,e[2]=z=65535&A|x<<16,O=j,A=65535&(R=B),x=R>>>16,T=65535&O,N=O>>>16,O=t[3],A+=65535&(R=e[3]),x+=R>>>16,T+=65535&O,N+=O>>>16,x+=A>>>16,T+=x>>>16,N+=T>>>16,t[3]=j=65535&T|N<<16,e[3]=B=65535&A|x<<16,O=D,A=65535&(R=q),x=R>>>16,T=65535&O,N=O>>>16,O=t[4],A+=65535&(R=e[4]),x+=R>>>16,T+=65535&O,N+=O>>>16,x+=A>>>16,T+=x>>>16,N+=T>>>16,t[4]=D=65535&T|N<<16,e[4]=q=65535&A|x<<16,O=$,A=65535&(R=F),x=R>>>16,T=65535&O,N=O>>>16,O=t[5],A+=65535&(R=e[5]),x+=R>>>16,T+=65535&O,N+=O>>>16,x+=A>>>16,T+=x>>>16,N+=T>>>16,t[5]=$=65535&T|N<<16,e[5]=F=65535&A|x<<16,O=L,A=65535&(R=H),x=R>>>16,T=65535&O,N=O>>>16,O=t[6],A+=65535&(R=e[6]),x+=R>>>16,T+=65535&O,N+=O>>>16,x+=A>>>16,T+=x>>>16,N+=T>>>16,t[6]=L=65535&T|N<<16,e[6]=H=65535&A|x<<16,O=M,A=65535&(R=G),x=R>>>16,T=65535&O,N=O>>>16,O=t[7],A+=65535&(R=e[7]),x+=R>>>16,T+=65535&O,N+=O>>>16,x+=A>>>16,T+=x>>>16,N+=T>>>16,t[7]=M=65535&T|N<<16,e[7]=G=65535&A|x<<16,Y+=128,n-=128}return n}function V(t,e,r){var n,o=new Int32Array(8),i=new Int32Array(8),u=new Uint8Array(256),a=r;for(o[0]=1779033703,o[1]=3144134277,o[2]=1013904242,o[3]=2773480762,o[4]=1359893119,o[5]=2600822924,o[6]=528734635,o[7]=1541459225,i[0]=4089235720,i[1]=2227873595,i[2]=4271175723,i[3]=1595750129,i[4]=2917565137,i[5]=725511199,i[6]=4215389547,i[7]=327033209,Y(o,i,e,r),r%=128,n=0;n<r;n++)u[n]=e[a-r+n];for(u[r]=128,u[(r=256-128*(r<112?1:0))-9]=0,_(u,r-8,a/536870912|0,a<<3),Y(o,i,u,r),n=0;n<8;n++)_(t,8*n,o[n],i[n]);return 0}function Z(t,e){var n=r(),o=r(),i=r(),u=r(),a=r(),s=r(),c=r(),l=r(),h=r();M(n,t[1],t[0]),M(h,e[1],e[0]),K(n,n,h),L(o,t[0],t[1]),L(h,e[0],e[1]),K(o,o,h),K(i,t[3],e[3]),K(i,i,f),K(u,t[2],e[2]),L(u,u,u),M(a,o,n),M(s,u,i),L(c,u,i),L(l,o,n),K(t[0],a,s),K(t[1],l,c),K(t[2],c,s),K(t[3],a,l)}function X(t,e,r){var n;for(n=0;n<4;n++)P(t[n],e[n],r)}function Q(t,e){var n=r(),o=r(),i=r();z(i,e[2]),K(n,e[0],i),K(o,e[1],i),k(t,o),t[31]^=D(n)<<7}function tt(t,e,r){var n,o;for(I(t[0],u),I(t[1],a),I(t[2],a),I(t[3],u),o=255;o>=0;--o)X(t,e,n=r[o/8|0]>>(7&o)&1),Z(e,t),Z(t,t),X(t,e,n)}function te(t,e){var n=[r(),r(),r(),r()];I(n[0],l),I(n[1],h),I(n[2],a),K(n[3],l,h),tt(t,n,e)}function tr(t,e,o){var i,u=new Uint8Array(64),a=[r(),r(),r(),r()];for(o||n(e,32),V(u,e,32),u[0]&=248,u[31]&=127,u[31]|=64,te(a,u),Q(t,a),i=0;i<32;i++)e[i+32]=t[i];return 0}var tn=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function to(t,e){var r,n,o,i;for(n=63;n>=32;--n){for(r=0,o=n-32,i=n-12;o<i;++o)e[o]+=r-16*e[n]*tn[o-(n-32)],r=Math.floor((e[o]+128)/256),e[o]-=256*r;e[o]+=r,e[n]=0}for(r=0,o=0;o<32;o++)e[o]+=r-(e[31]>>4)*tn[o],r=e[o]>>8,e[o]&=255;for(o=0;o<32;o++)e[o]-=r*tn[o];for(n=0;n<32;n++)e[n+1]+=e[n]>>8,t[n]=255&e[n]}function ti(t){var e,r=new Float64Array(64);for(e=0;e<64;e++)r[e]=t[e];for(e=0;e<64;e++)t[e]=0;to(t,r)}function tu(t,e,n,o){var i,u,a=new Uint8Array(64),s=new Uint8Array(64),c=new Uint8Array(64),f=new Float64Array(64),l=[r(),r(),r(),r()];for(V(a,o,32),a[0]&=248,a[31]&=127,a[31]|=64,i=0;i<n;i++)t[64+i]=e[i];for(i=0;i<32;i++)t[32+i]=a[32+i];for(V(c,t.subarray(32),n+32),ti(c),te(l,c),Q(t,l),i=32;i<64;i++)t[i]=o[i];for(V(s,t,n+64),ti(s),i=0;i<64;i++)f[i]=0;for(i=0;i<32;i++)f[i]=c[i];for(i=0;i<32;i++)for(u=0;u<32;u++)f[i+u]+=s[i]*a[u];return to(t.subarray(32),f),n+64}function ta(t,e,n,o){var i,s,f,l,h,_,v,y,g=new Uint8Array(32),b=new Uint8Array(64),m=[r(),r(),r(),r()],w=[r(),r(),r(),r()];if(n<64||(i=r(),s=r(),f=r(),l=r(),h=r(),_=r(),v=r(),I(w[2],a),$(w[1],o),W(f,w[1]),K(l,f,c),M(f,f,w[2]),L(l,w[2],l),W(h,l),W(_,h),K(v,_,h),K(i,v,f),K(i,i,l),B(i,i),K(i,i,f),K(i,i,l),K(i,i,l),K(w[0],i,l),W(s,w[0]),K(s,s,l),j(s,f)&&K(w[0],w[0],p),W(s,w[0]),K(s,s,l),j(s,f)?-1:(D(w[0])===o[31]>>7&&M(w[0],u,w[0]),K(w[3],w[0],w[1]),0)))return -1;for(y=0;y<n;y++)t[y]=e[y];for(y=0;y<32;y++)t[y+32]=o[y];if(V(b,t,n),ti(b),tt(m,w,b),te(w,e.subarray(32)),Z(m,w),Q(g,m),n-=64,d(e,0,g,0)){for(y=0;y<n;y++)t[y]=0;return -1}for(y=0;y<n;y++)t[y]=e[y+64];return n}function ts(t,e){if(32!==t.length)throw Error("bad key size");if(24!==e.length)throw Error("bad nonce size")}function tc(){for(var t=0;t<arguments.length;t++)if(!(arguments[t]instanceof Uint8Array))throw TypeError("unexpected type, use Uint8Array")}function tf(t){for(var e=0;e<t.length;e++)t[e]=0}t.lowlevel={crypto_core_hsalsa20:b,crypto_stream_xor:O,crypto_stream:S,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:E,crypto_onetimeauth:A,crypto_onetimeauth_verify:x,crypto_verify_16:y,crypto_verify_32:d,crypto_secretbox:T,crypto_secretbox_open:N,crypto_scalarmult:q,crypto_scalarmult_base:F,crypto_box_beforenm:G,crypto_box_afternm:T,crypto_box:function(t,e,r,n,o,i){var u=new Uint8Array(32);return G(u,o,i),T(t,e,r,n,u)},crypto_box_open:function(t,e,r,n,o,i){var u=new Uint8Array(32);return G(u,o,i),N(t,e,r,n,u)},crypto_box_keypair:H,crypto_hash:V,crypto_sign:tu,crypto_sign_keypair:tr,crypto_sign_open:ta,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:r,D:c,L:tn,pack25519:k,unpack25519:$,M:K,A:L,S:W,Z:M,pow2523:B,add:Z,set25519:I,modL:to,scalarmult:tt,scalarbase:te},t.randomBytes=function(t){var e=new Uint8Array(t);return n(e,t),e},t.secretbox=function(t,e,r){tc(t,e,r),ts(r,e);for(var n=new Uint8Array(32+t.length),o=new Uint8Array(n.length),i=0;i<t.length;i++)n[i+32]=t[i];return T(o,n,n.length,e,r),o.subarray(16)},t.secretbox.open=function(t,e,r){tc(t,e,r),ts(r,e);for(var n=new Uint8Array(16+t.length),o=new Uint8Array(n.length),i=0;i<t.length;i++)n[i+16]=t[i];return n.length<32||0!==N(o,n,n.length,e,r)?null:o.subarray(32)},t.secretbox.keyLength=32,t.secretbox.nonceLength=24,t.secretbox.overheadLength=16,t.scalarMult=function(t,e){if(tc(t,e),32!==t.length)throw Error("bad n size");if(32!==e.length)throw Error("bad p size");var r=new Uint8Array(32);return q(r,t,e),r},t.scalarMult.base=function(t){if(tc(t),32!==t.length)throw Error("bad n size");var e=new Uint8Array(32);return F(e,t),e},t.scalarMult.scalarLength=32,t.scalarMult.groupElementLength=32,t.box=function(e,r,n,o){var i=t.box.before(n,o);return t.secretbox(e,r,i)},t.box.before=function(t,e){tc(t,e),function(t,e){if(32!==t.length)throw Error("bad public key size");if(32!==e.length)throw Error("bad secret key size")}(t,e);var r=new Uint8Array(32);return G(r,t,e),r},t.box.after=t.secretbox,t.box.open=function(e,r,n,o){var i=t.box.before(n,o);return t.secretbox.open(e,r,i)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(32);return H(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if(tc(t),32!==t.length)throw Error("bad secret key size");var e=new Uint8Array(32);return F(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=32,t.box.secretKeyLength=32,t.box.sharedKeyLength=32,t.box.nonceLength=24,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if(tc(t,e),64!==e.length)throw Error("bad secret key size");var r=new Uint8Array(64+t.length);return tu(r,t,t.length,e),r},t.sign.open=function(t,e){if(tc(t,e),32!==e.length)throw Error("bad public key size");var r=new Uint8Array(t.length),n=ta(r,t,t.length,e);if(n<0)return null;for(var o=new Uint8Array(n),i=0;i<o.length;i++)o[i]=r[i];return o},t.sign.detached=function(e,r){for(var n=t.sign(e,r),o=new Uint8Array(64),i=0;i<o.length;i++)o[i]=n[i];return o},t.sign.detached.verify=function(t,e,r){if(tc(t,e,r),64!==e.length)throw Error("bad signature size");if(32!==r.length)throw Error("bad public key size");var n,o=new Uint8Array(64+t.length),i=new Uint8Array(64+t.length);for(n=0;n<64;n++)o[n]=e[n];for(n=0;n<t.length;n++)o[n+64]=t[n];return ta(i,o,o.length,r)>=0},t.sign.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(64);return tr(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if(tc(t),64!==t.length)throw Error("bad secret key size");for(var e=new Uint8Array(32),r=0;r<e.length;r++)e[r]=t[32+r];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if(tc(t),32!==t.length)throw Error("bad seed size");for(var e=new Uint8Array(32),r=new Uint8Array(64),n=0;n<32;n++)r[n]=t[n];return tr(e,r,!0),{publicKey:e,secretKey:r}},t.sign.publicKeyLength=32,t.sign.secretKeyLength=64,t.sign.seedLength=32,t.sign.signatureLength=64,t.hash=function(t){tc(t);var e=new Uint8Array(64);return V(e,t,t.length),e},t.hash.hashLength=64,t.verify=function(t,e){return tc(t,e),0!==t.length&&0!==e.length&&t.length===e.length&&0===v(t,0,e,0,t.length)},t.setPRNG=function(t){n=t},(e="u">typeof self?self.crypto||self.msCrypto:null)&&e.getRandomValues?t.setPRNG(function(t,r){var n,o=new Uint8Array(r);for(n=0;n<r;n+=65536)e.getRandomValues(o.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)t[n]=o[n];tf(o)}):(e=C)&&e.randomBytes&&t.setPRNG(function(t,r){var n,o=e.randomBytes(r);for(n=0;n<r;n++)t[n]=o[n];tf(o)})}(P.exports?P.exports:self.nacl=self.nacl||{});let k=A(P.exports);(a=_||(_={}))[a.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",a[a.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",a[a.MANIFEST_NOT_FOUND_ERROR=2]="MANIFEST_NOT_FOUND_ERROR",a[a.MANIFEST_CONTENT_ERROR=3]="MANIFEST_CONTENT_ERROR",a[a.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",a[a.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",a[a.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",(s=v||(v={}))[s.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",s[s.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",(c=y||(y={}))[c.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",c[c.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",c[c.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",c[c.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",c[c.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",(f=d||(d={}))[f.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",f[f.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",f[f.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",f[f.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",f[f.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",(l=g||(g={}))[l.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",l[l.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",l[l.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",l[l.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",(h=b||(b={})).MAINNET="-239",h.TESTNET="-3";let j={encode:function(t,e=!1){let r;return t instanceof Uint8Array?r=t:("string"!=typeof t&&(t=JSON.stringify(t)),r=U.decodeUTF8(t)),function(t,e){let r=U.encodeBase64(t);return e?encodeURIComponent(r):r}(r,e)},decode:function(t,e=!1){var r;let n=(r=t,e&&(r=decodeURIComponent(r)),U.decodeBase64(r));return{toString:()=>U.encodeUTF8(n),toObject(){try{return JSON.parse(U.encodeUTF8(n))}catch{return null}},toUint8Array:()=>n}}};function D(t){let e="";return t.forEach(t=>{e+=("0"+(255&t).toString(16)).slice(-2)}),e}function $(t){if(t.length%2!=0)throw Error(`Cannot convert ${t} to bytesArray`);let e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2)e[r/2]=parseInt(t.slice(r,r+2),16);return e}class L{constructor(t){this.nonceLength=24,this.keyPair=t?this.createKeypairFromString(t):this.createKeypair(),this.sessionId=D(this.keyPair.publicKey)}createKeypair(){return k.box.keyPair()}createKeypairFromString(t){return{publicKey:$(t.publicKey),secretKey:$(t.secretKey)}}createNonce(){return k.randomBytes(this.nonceLength)}encrypt(t,e){let r=new TextEncoder().encode(t),n=this.createNonce(),o=k.box(r,n,e,this.keyPair.secretKey);return function(t,e){let r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),r}(n,o)}decrypt(t,e){let[r,n]=function(t,e){if(e>=t.length)throw Error("Index is out of buffer");return[t.slice(0,e),t.slice(e)]}(t,this.nonceLength),o=k.box.open(n,r,e,this.keyPair.secretKey);if(!o)throw Error(`Decryption error: 
 message: ${t.toString()} 
 sender pubkey: ${e.toString()} 
 keypair pubkey: ${this.keyPair.publicKey.toString()} 
 keypair secretkey: ${this.keyPair.secretKey.toString()}`);return new TextDecoder().decode(o)}stringifyKeypair(){return{publicKey:D(this.keyPair.publicKey),secretKey:D(this.keyPair.secretKey)}}}var M=function(t,e){return(M=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function K(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}M(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function W(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function z(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u}function B(t,e,r){if(r||2==arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))}function q(t){return"function"==typeof t}function F(t){var e=t(function(t){Error.call(t),t.stack=Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}"function"==typeof SuppressedError&&SuppressedError;var H=F(function(t){return function(e){t(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(t,e){return e+1+") "+t.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e}});function G(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var J=function(){var t;function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,e,r,n,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i){if(this._parentage=null,Array.isArray(i))try{for(var u=W(i),a=u.next();!a.done;a=u.next())a.value.remove(this)}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=u.return)&&e.call(u)}finally{if(t)throw t.error}}else i.remove(this)}var s=this.initialTeardown;if(q(s))try{s()}catch(t){o=t instanceof H?t.errors:[t]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var f=W(c),l=f.next();!l.done;l=f.next()){var h=l.value;try{Z(h)}catch(t){o=o??[],t instanceof H?o=B(B([],z(o)),z(t.errors)):o.push(t)}}}catch(t){r={error:t}}finally{try{l&&!l.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}}if(o)throw new H(o)}},e.prototype.add=function(t){var r;if(t&&t!==this){if(this.closed)Z(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}}},e.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},e.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},e.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&G(e,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&G(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}(),Y=J.EMPTY;function V(t){return t instanceof J||t&&"closed"in t&&q(t.remove)&&q(t.add)&&q(t.unsubscribe)}function Z(t){q(t)?t():t.unsubscribe()}var X={Promise:void 0,useDeprecatedNextContext:!1},Q=function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,B([t,e],z(r)))};function tt(){}var te=function(t){function e(e){var r=t.call(this)||this;return r.isStopped=!1,e?(r.destination=e,V(e)&&e.add(r)):r.destination=ta,r}return K(e,t),e.create=function(t,e,r){return new ti(t,e,r)},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(J),tr=Function.prototype.bind;function tn(t,e){return tr.call(t,e)}var to=function(){function t(t){this.partialObserver=t}return t.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(t){tu(t)}},t.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(t){tu(t)}else tu(t)},t.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(t){tu(t)}},t}(),ti=function(t){function e(e,r,n){var o,i,u=t.call(this)||this;return q(e)||!e?i={next:e??void 0,error:r??void 0,complete:n??void 0}:u&&X.useDeprecatedNextContext?((o=Object.create(e)).unsubscribe=function(){return u.unsubscribe()},i={next:e.next&&tn(e.next,o),error:e.error&&tn(e.error,o),complete:e.complete&&tn(e.complete,o)}):i=e,u.destination=new to(i),u}return K(e,t),e}(te);function tu(t){Q(function(){throw t})}var ta={closed:!0,next:tt,error:function(t){throw t},complete:tt},ts="function"==typeof Symbol&&Symbol.observable||"@@observable",tc=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n,o,i,u=(n=t)&&n instanceof te||n&&q(n.next)&&q(n.error)&&q(n.complete)&&V(n)?t:new ti(t,e,r);return o=this.operator,i=this.source,u.add(o?o.call(u,i):i?this._subscribe(u):this._trySubscribe(u)),u},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=tf(e))(function(e,n){var o=new ti({next:function(e){try{t(e)}catch(t){n(t),o.unsubscribe()}},error:n,complete:e});r.subscribe(o)})},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[ts]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0===t.length?function(t){return t}:1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)})(this)},t.prototype.toPromise=function(t){var e=this;return new(t=tf(t))(function(t,r){var n;e.subscribe(function(t){return n=t},function(t){return r(t)},function(){return t(n)})})},t.create=function(e){return new t(e)},t}();function tf(t){var e;return null!==(e=t??X.Promise)&&void 0!==e?e:Promise}var tl=F(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),th=function(t){function e(){var e=t.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return K(e,t),e.prototype.lift=function(t){var e=new tp(this,this);return e.operator=t,e},e.prototype._throwIfClosed=function(){if(this.closed)throw new tl},e.prototype.next=function(t){var e=this;(function(){var r,n;if(e._throwIfClosed(),!e.isStopped){e.currentObservers||(e.currentObservers=Array.from(e.observers));try{for(var o=W(e.currentObservers),i=o.next();!i.done;i=o.next())i.value.next(t)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}}})()},e.prototype.error=function(t){var e=this;(function(){if(e._throwIfClosed(),!e.isStopped){e.hasError=e.isStopped=!0,e.thrownError=t;for(var r=e.observers;r.length;)r.shift().error(t)}})()},e.prototype.complete=function(){var t=this;(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var e=t.observers;e.length;)e.shift().complete()}})()},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var e=this,r=this.hasError,n=this.isStopped,o=this.observers;return r||n?Y:(this.currentObservers=null,o.push(t),new J(function(){e.currentObservers=null,G(o,t)}))},e.prototype._checkFinalizedStatuses=function(t){var e=this.hasError,r=this.thrownError,n=this.isStopped;e?t.error(r):n&&t.complete()},e.prototype.asObservable=function(){var t=new tc;return t.source=this,t},e.create=function(t,e){return new tp(t,e)},e}(tc),tp=function(t){function e(e,r){var n=t.call(this)||this;return n.destination=e,n.source=r,n}return K(e,t),e.prototype.next=function(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)},e.prototype.error=function(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)},e.prototype.complete=function(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)},e.prototype._subscribe=function(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:Y},e}(th),t_=((e=t_||{}).Remote="remote",e.Injected="injected",e);let tv={namespaceKey:"",connected:!1,result:{}},ty=t=>{if("[object Object]"!==Object.prototype.toString.call(t))return!1;let e=Object.getPrototypeOf(t);return null===e||e===Object.prototype},{hasOwnProperty:td}=Object.prototype,{propertyIsEnumerable:tg}=Object,tb=(t,e,r)=>Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!0,configurable:!0}),tm={concatArrays:!1,ignoreUndefined:!1},tw=t=>{let e=[];for(let r in t)td.call(t,r)&&e.push(r);if(Object.getOwnPropertySymbols)for(let r of Object.getOwnPropertySymbols(t))tg.call(t,r)&&e.push(r);return e};function tE(t){return Array.isArray(t)?function(t){let e=t.slice(0,0);return tw(t).forEach(r=>{tb(e,r,tE(t[r]))}),e}(t):ty(t)?function(t){let e=null===Object.getPrototypeOf(t)?Object.create(null):{};return tw(t).forEach(r=>{tb(e,r,tE(t[r]))}),e}(t):t}let tS=(t,e,r,n)=>(r.forEach(r=>{typeof e[r]>"u"&&n.ignoreUndefined||(r in t&&t[r]!==Object.getPrototypeOf(t)?tb(t,r,tR(t[r],e[r],n)):tb(t,r,tE(e[r])))}),t),tO=(t,e,r)=>{let n=t.slice(0,0),o=0;return[t,e].forEach(e=>{let i=[];for(let r=0;r<e.length;r++)td.call(e,r)&&(i.push(String(r)),e===t?tb(n,o++,e[r]):tb(n,o++,tE(e[r])));n=tS(n,e,tw(e).filter(t=>!i.includes(t)),r)}),n};function tR(t,e,r){return r.concatArrays&&Array.isArray(t)&&Array.isArray(e)?tO(t,e,r):ty(e)&&ty(t)?tS(t,e,tw(e),r):tE(e)}let tA=A(function(...t){let e=tR(tE(tm),this!==R&&this||{},tm),r={_:{}};for(let n of t)if(void 0!==n){if(!ty(n))throw TypeError("`"+n+"` is not an Option Object");r=tR(r,{_:n},e)}return r._}).bind({concatArrays:!0,ignoreUndefined:!0});function tx(t,e){return new Promise((r,n)=>{try{let n=t();null==e||e(null,n),r(n)}catch(t){null==e||e(t),n(t)}})}function tT(t,e,r){return Promise.all(t).then(t=>{let n=(null==r?void 0:r(t))??null;return null==e||e(null,n),Promise.resolve(n)},t=>(null==e||e(t),Promise.reject(t)))}let tN={getItem:(t,e)=>tx(()=>window.localStorage.getItem(t),e),setItem:(t,e,r)=>tx(()=>window.localStorage.setItem(t,e),r),removeItem:(t,e)=>tx(()=>window.localStorage.removeItem(t),e),mergeItem:(t,e,r)=>tx(()=>(function(t,e){let r=window.localStorage.getItem(t);if(r){let n=JSON.stringify(tA(JSON.parse(r),JSON.parse(e)));window.localStorage.setItem(t,n)}else window.localStorage.setItem(t,e)})(t,e),r),clear:t=>tx(()=>window.localStorage.clear(),t),getAllKeys:t=>tx(()=>{let t=window.localStorage.length,e=[];for(let r=0;r<t;r+=1){let t=window.localStorage.key(r)||"";e.push(t)}return e},t),flushGetRequests:()=>{},multiGet:(t,e)=>tT(t.map(t=>tN.getItem(t)),e,e=>e.map((e,r)=>[t[r],e])),multiSet:(t,e)=>tT(t.map(t=>tN.setItem(t[0],t[1])),e),multiRemove:(t,e)=>tT(t.map(t=>tN.removeItem(t)),e),multiMerge:(t,e)=>tT(t.map(t=>tN.mergeItem(t[0],t[1])),e)};class tI{constructor(){this.eventIdStoreKey="ton-connect-service-event-id",this.eventId=0,tN.getItem(this.eventIdStoreKey).then(t=>{this.eventId=Number(t)}).catch(()=>{})}getId(){return this.eventId++,tN.setItem(this.eventIdStoreKey,String(this.eventId)).catch(()=>{}),this.eventId}}let tU=new tI;var tP={},tC={exports:{}},tk={};tC.exports=function(){if(m)return tk;m=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),u=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),s=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),l=Symbol.iterator,h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,_={};function v(t,e,r){this.props=t,this.context=e,this.refs=_,this.updater=r||h}function y(){}function d(t,e,r){this.props=t,this.context=e,this.refs=_,this.updater=r||h}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=v.prototype;var g=d.prototype=new y;g.constructor=d,p(g,v.prototype),g.isPureReactComponent=!0;var b=Array.isArray,w=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function O(e,r,n){var o,i={},u=null,a=null;if(null!=r)for(o in void 0!==r.ref&&(a=r.ref),void 0!==r.key&&(u=""+r.key),r)w.call(r,o)&&!S.hasOwnProperty(o)&&(i[o]=r[o]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var c=Array(s),f=0;f<s;f++)c[f]=arguments[f+2];i.children=c}if(e&&e.defaultProps)for(o in s=e.defaultProps)void 0===i[o]&&(i[o]=s[o]);return{$$typeof:t,type:e,key:u,ref:a,props:i,_owner:E.current}}function R(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}var A=/\/+/g;function x(t,e){var r,n;return"object"==typeof t&&null!==t&&null!=t.key?(r=""+t.key,n={"=":"=0",":":"=2"},"$"+r.replace(/[=:]/g,function(t){return n[t]})):e.toString(36)}function T(r,n,o){if(null==r)return r;var i=[],u=0;return function r(n,o,i,u,a){var s,c,f,h=typeof n;("undefined"===h||"boolean"===h)&&(n=null);var p=!1;if(null===n)p=!0;else switch(h){case"string":case"number":p=!0;break;case"object":switch(n.$$typeof){case t:case e:p=!0}}if(p)return a=a(p=n),n=""===u?"."+x(p,0):u,b(a)?(i="",null!=n&&(i=n.replace(A,"$&/")+"/"),r(a,o,i,"",function(t){return t})):null!=a&&(R(a)&&(s=a,c=i+(!a.key||p&&p.key===a.key?"":(""+a.key).replace(A,"$&/")+"/")+n,a={$$typeof:t,type:s.type,key:c,ref:s.ref,props:s.props,_owner:s._owner}),o.push(a)),1;if(p=0,u=""===u?".":u+":",b(n))for(var _=0;_<n.length;_++){var v=u+x(h=n[_],_);p+=r(h,o,i,v,a)}else if("function"==typeof(v=null===(f=n)||"object"!=typeof f?null:"function"==typeof(f=l&&f[l]||f["@@iterator"])?f:null))for(n=v.call(n),_=0;!(h=n.next()).done;)v=u+x(h=h.value,_++),p+=r(h,o,i,v,a);else if("object"===h)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(o=String(n))?"object with keys {"+Object.keys(n).join(", ")+"}":o)+"). If you meant to render a collection of children, use an array instead.");return p}(r,i,"","",function(t){return n.call(o,t,u++)}),i}function N(t){if(-1===t._status){var e=t._result;(e=e()).then(function(e){(0===t._status||-1===t._status)&&(t._status=1,t._result=e)},function(e){(0===t._status||-1===t._status)&&(t._status=2,t._result=e)}),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var I={current:null},U={transition:null};function P(){throw Error("act(...) is not supported in production builds of React.")}return tk.Children={map:T,forEach:function(t,e,r){T(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return T(t,function(){e++}),e},toArray:function(t){return T(t,function(t){return t})||[]},only:function(t){if(!R(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},tk.Component=v,tk.Fragment=r,tk.Profiler=o,tk.PureComponent=d,tk.StrictMode=n,tk.Suspense=s,tk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:U,ReactCurrentOwner:E},tk.act=P,tk.cloneElement=function(e,r,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=p({},e.props),i=e.key,u=e.ref,a=e._owner;if(null!=r){if(void 0!==r.ref&&(u=r.ref,a=E.current),void 0!==r.key&&(i=""+r.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in r)w.call(r,c)&&!S.hasOwnProperty(c)&&(o[c]=void 0===r[c]&&void 0!==s?s[c]:r[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){s=Array(c);for(var f=0;f<c;f++)s[f]=arguments[f+2];o.children=s}return{$$typeof:t,type:e.type,key:i,ref:u,props:o,_owner:a}},tk.createContext=function(t){return(t={$$typeof:u,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:t},t.Consumer=t},tk.createElement=O,tk.createFactory=function(t){var e=O.bind(null,t);return e.type=t,e},tk.createRef=function(){return{current:null}},tk.forwardRef=function(t){return{$$typeof:a,render:t}},tk.isValidElement=R,tk.lazy=function(t){return{$$typeof:f,_payload:{_status:-1,_result:t},_init:N}},tk.memo=function(t,e){return{$$typeof:c,type:t,compare:void 0===e?null:e}},tk.startTransition=function(t){var e=U.transition;U.transition={};try{t()}finally{U.transition=e}},tk.unstable_act=P,tk.useCallback=function(t,e){return I.current.useCallback(t,e)},tk.useContext=function(t){return I.current.useContext(t)},tk.useDebugValue=function(){},tk.useDeferredValue=function(t){return I.current.useDeferredValue(t)},tk.useEffect=function(t,e){return I.current.useEffect(t,e)},tk.useId=function(){return I.current.useId()},tk.useImperativeHandle=function(t,e,r){return I.current.useImperativeHandle(t,e,r)},tk.useInsertionEffect=function(t,e){return I.current.useInsertionEffect(t,e)},tk.useLayoutEffect=function(t,e){return I.current.useLayoutEffect(t,e)},tk.useMemo=function(t,e){return I.current.useMemo(t,e)},tk.useReducer=function(t,e,r){return I.current.useReducer(t,e,r)},tk.useRef=function(t){return I.current.useRef(t)},tk.useState=function(t){return I.current.useState(t)},tk.useSyncExternalStore=function(t,e,r){return I.current.useSyncExternalStore(t,e,r)},tk.useTransition=function(){return I.current.useTransition()},tk.version="18.3.1",tk}();var tj=tC.exports;!function(){if(!w){w=1;var t=Symbol.for("react.element"),e=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,n=tj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};tP.Fragment=e,tP.jsx=i,tP.jsxs=i}function i(e,i,u){var a,s={},c=null,f=null;for(a in void 0!==u&&(c=""+u),void 0!==i.key&&(c=""+i.key),void 0!==i.ref&&(f=i.ref),i)r.call(i,a)&&!o.hasOwnProperty(a)&&(s[a]=i[a]);if(e&&e.defaultProps)for(a in i=e.defaultProps)void 0===s[a]&&(s[a]=i[a]);return{$$typeof:t,type:e,key:c,ref:f,props:s,_owner:n.current}}}();var tD=Object.defineProperty,t$=(t,e,r)=>e in t?tD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,tL=(t,e,r)=>(t$(t,"symbol"!=typeof e?e+"":e,r),r);function tM(t,e){let r;let n=()=>{void 0!==r&&e&&e(r),r=void 0};return[()=>void 0===r?r=t(n):r,n]}class tK{constructor(t,e={}){this.scope=t,this.options=e}print(t,...e){let r=new Date,n=Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(r),{textColor:o,bgColor:i}=this.options,u="font-weight: bold;padding: 0 5px;border-radius:5px";console[t](`%c${n}%c / %c${this.scope}`,`${u};background-color: lightblue;color:black`,"",`${u};${o?`color:${o};`:""}${i?`background-color:${i}`:""}`,...e)}error(...t){this.print("error",...t)}log(...t){this.print("log",...t)}}let tW=new tK("SDK",{bgColor:"forestgreen",textColor:"white"});class tz{constructor(){tL(this,"listeners",new Map),tL(this,"listenersCount",0),tL(this,"subscribeListeners",[])}clear(){this.listeners.clear(),this.subscribeListeners=[]}get count(){return this.listenersCount+this.subscribeListeners.length}emit(t,...e){this.subscribeListeners.forEach(r=>r({event:t,args:e})),(this.listeners.get(t)||[]).forEach(([r,n])=>{r(...e),n&&this.off(t,r)})}on(t,e,r){let n=this.listeners.get(t);return n||this.listeners.set(t,n=[]),n.push([e,r]),this.listenersCount+=1,()=>this.off(t,e)}off(t,e){let r=this.listeners.get(t)||[];for(let t=0;t<r.length;t+=1)if(e===r[t][0]){r.splice(t,1),this.listenersCount-=1;return}}subscribe(t){return this.subscribeListeners.push(t),()=>this.unsubscribe(t)}unsubscribe(t){for(let e=0;e<this.subscribeListeners.length;e+=1)if(this.subscribeListeners[e]===t){this.subscribeListeners.splice(e,1);return}}}function tB(t,e,r){return window.addEventListener(t,e,r),()=>window.removeEventListener(t,e,r)}function tq(...t){let e=!1,r=t.flat(1);return[t=>!e&&r.push(t),()=>{e||(e=!0,r.forEach(t=>t()))},e]}class tF extends Error{constructor(t,e,r){super(e,{cause:r}),this.type=t,Object.setPrototypeOf(this,tF.prototype)}}function tH(t,e,r){return new tF(t,e,r)}let tG="ERR_PARSE";function tJ(){return tH("ERR_UNEXPECTED_TYPE","Value has unexpected type")}class tY{constructor(t,e,r){this.parser=t,this.isOptional=e,this.type=r}parse(t){if(!(this.isOptional&&void 0===t))try{return this.parser(t)}catch(t){throw tH(tG,`Unable to parse value${this.type?` as ${this.type}`:""}`,t)}}optional(){return this.isOptional=!0,this}}function tV(t,e){return()=>new tY(t,!1,e)}let tZ=tV(t=>{if("boolean"==typeof t)return t;let e=String(t);if("1"===e||"true"===e)return!0;if("0"===e||"false"===e)return!1;throw tJ()},"boolean");function tX(t,e){let r={};for(let n in t){let o,i;let u=t[n];if(u){if("function"==typeof u||"parse"in u)o=n,i="function"==typeof u?u:u.parse.bind(u);else{let{type:t}=u;o=u.from||n,i="function"==typeof t?t:t.parse.bind(t)}try{let t=i(e(o));void 0!==t&&(r[n]=t)}catch(t){throw tH(tG,`Unable to parse field "${n}"`,t)}}}return r}function tQ(t){let e=t;if("string"==typeof e&&(e=JSON.parse(e)),"object"!=typeof e||null===e||Array.isArray(e))throw tJ();return e}function t5(t,e){return new tY(e=>{let r=tQ(e);return tX(t,t=>r[t])},!1,e)}let t1=tV(t=>{if("number"==typeof t)return t;if("string"==typeof t){let e=Number(t);if(!Number.isNaN(e))return e}throw tJ()},"number"),t0=tV(t=>{if("string"==typeof t||"number"==typeof t)return t.toString();throw tJ()},"string");function t2(){["TelegramGameProxy_receiveEvent","TelegramGameProxy","Telegram"].forEach(t=>{delete window[t]})}function t6(t,e){window.dispatchEvent(new MessageEvent("message",{data:JSON.stringify({eventType:t,eventData:e}),source:window.parent}))}let t3={clipboard_text_received:t5({req_id:t0(),data:t=>null===t?t:t0().optional().parse(t)}),custom_method_invoked:t5({req_id:t0(),result:t=>t,error:t0().optional()}),popup_closed:{parse:t=>t5({button_id:t=>null==t?void 0:t0().parse(t)}).parse(t??{})},viewport_changed:t5({height:t1(),width:t=>null==t?window.innerWidth:t1().parse(t),is_state_stable:tZ(),is_expanded:tZ()})},[t8,t4]=tM(t=>{let[e,r]=function(){let t=new tz,e=new tz;e.subscribe(e=>{t.emit("event",{name:e.event,payload:e.args[0]})}),[["TelegramGameProxy_receiveEvent"],["TelegramGameProxy","receiveEvent"],["Telegram","WebView","receiveEvent"]].forEach(t=>{let e=window;t.forEach((t,r,n)=>{if(r===n.length-1){e[t]=t6;return}t in e||(e[t]={}),e=e[t]})});let[,r]=tq(t2,tB("resize",()=>{e.emit("viewport_changed",{width:window.innerWidth,height:window.innerHeight,is_state_stable:!0,is_expanded:!0})}),tB("message",t=>{let r;if(t.source!==window.parent)return;try{var n;n=t.data,r=t5({eventType:t0(),eventData:t=>t}).parse(n)}catch{return}let{eventType:o,eventData:i}=r,u=t3[o];try{let t=u?u.parse(i):i;e.emit(...t?[o,t]:[o])}catch(t){tW.error(`An error occurred processing the "${o}" event from the Telegram application.
Please, file an issue here:
https://github.com/Telegram-Mini-Apps/telegram-apps/issues/new/choose`,r,t)}}),()=>t.clear(),()=>e.clear());return[{on:e.on.bind(e),off:e.off.bind(e),subscribe:e=>t.on("event",e),unsubscribe(e){t.off("event",e)},get count(){return e.count+t.count}},r]}(),n=e.off.bind(e);return e.off=(r,o)=>{let{count:i}=e;n(r,o),i&&!e.count&&t()},[e,r]},([,t])=>t());function t9(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function t7(t,e){return 0>=function(t,e){let r=t.split("."),n=e.split("."),o=Math.max(r.length,n.length);for(let t=0;t<o;t+=1){let e=parseInt(r[t]||"0",10),o=parseInt(n[t]||"0",10);if(e!==o)return e>o?1:-1}return 0}(t,e)}function et(t,e,r){if("string"==typeof r){if("web_app_open_link"===t){if("try_instant_view"===e)return t7("6.4",r);if("try_browser"===e)return t7("7.6",r)}if("web_app_set_header_color"===t&&"color"===e)return t7("6.9",r);if("web_app_close"===t&&"return_back"===e)return t7("7.6",r)}switch(t){case"web_app_open_tg_link":case"web_app_open_invoice":case"web_app_setup_back_button":case"web_app_set_background_color":case"web_app_set_header_color":case"web_app_trigger_haptic_feedback":return t7("6.1",e);case"web_app_open_popup":return t7("6.2",e);case"web_app_close_scan_qr_popup":case"web_app_open_scan_qr_popup":case"web_app_read_text_from_clipboard":return t7("6.4",e);case"web_app_switch_inline_query":return t7("6.7",e);case"web_app_invoke_custom_method":case"web_app_request_write_access":case"web_app_request_phone":return t7("6.9",e);case"web_app_setup_settings_button":return t7("6.10",e);case"web_app_biometry_get_info":case"web_app_biometry_open_settings":case"web_app_biometry_request_access":case"web_app_biometry_request_auth":case"web_app_biometry_update_token":return t7("7.2",e);case"web_app_setup_swipe_behavior":return t7("7.7",e);default:return["iframe_ready","iframe_will_reload","web_app_close","web_app_data_send","web_app_expand","web_app_open_link","web_app_ready","web_app_request_theme","web_app_request_viewport","web_app_setup_main_button","web_app_setup_closing_behavior"].includes(t)}}function ee(t){return"TelegramWebviewProxy"in t&&t9(t.TelegramWebviewProxy)&&"postEvent"in t.TelegramWebviewProxy&&"function"==typeof t.TelegramWebviewProxy.postEvent}function er(t,e,r){var n;let o={},i;if(e||r?e&&r?(o=r,i=e):e&&("targetOrigin"in e?o=e:i=e):o={},function(){try{return window.self!==window.top}catch{return!0}}())return window.parent.postMessage(JSON.stringify({eventType:t,eventData:i}),o.targetOrigin||"https://web.telegram.org");if("external"in(n=window)&&t9(n.external)&&"notify"in n.external&&"function"==typeof n.external.notify){window.external.notify(JSON.stringify({eventType:t,eventData:i}));return}if(ee(window)){window.TelegramWebviewProxy.postEvent(t,JSON.stringify(i));return}throw tH("ERR_UNKNOWN_ENV","Unable to determine current environment and possible way to send event. You are probably trying to use Mini Apps method outside the Telegram application environment.")}async function en(t){let e;let r=new Promise(t=>e=t),{event:n,capture:o,timeout:i}=t,[,u]=tq((Array.isArray(n)?n:[n]).map(t=>{var r;return r=r=>{(!o||(Array.isArray(n)?o({event:t,payload:r}):o(r)))&&e(r)},t8()[0].on(t,r,void 0)}));try{return(t.postEvent||er)(t.method,t.params),await (i?Promise.race(["function"==typeof r?r():r,new Promise((t,e)=>{setTimeout(()=>{e(tH("ERR_TIMED_OUT",`Timeout reached: ${i}ms`))},i)})]):r)}finally{u()}}let eo=tV(t=>t instanceof Date?t:new Date(1e3*t1().parse(t)),"Date");function ei(t,e){return new tY(e=>{if("string"!=typeof e&&!(e instanceof URLSearchParams))throw tJ();let r="string"==typeof e?new URLSearchParams(e):e;return tX(t,t=>{let e=r.get(t);return null===e?void 0:e})},!1,e)}let eu=t5({id:t1(),type:t0(),title:t0(),photoUrl:{type:t0().optional(),from:"photo_url"},username:t0().optional()},"Chat").optional(),ea=t5({addedToAttachmentMenu:{type:tZ().optional(),from:"added_to_attachment_menu"},allowsWriteToPm:{type:tZ().optional(),from:"allows_write_to_pm"},firstName:{type:t0(),from:"first_name"},id:t1(),isBot:{type:tZ().optional(),from:"is_bot"},isPremium:{type:tZ().optional(),from:"is_premium"},languageCode:{type:t0().optional(),from:"language_code"},lastName:{type:t0().optional(),from:"last_name"},photoUrl:{type:t0().optional(),from:"photo_url"},username:t0().optional()},"User").optional(),es=tV(t=>(function(t){let e=t.replace(/\s/g,"").toLowerCase();if(/^#[\da-f]{6}$/i.test(e))return e;if(/^#[\da-f]{3}$/i.test(e)){let t="#";for(let r=0;r<3;r+=1)t+=e[1+r].repeat(2);return t}let r=e.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||e.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);if(!r)throw Error(`Value "${t}" does not satisfy any of known RGB formats.`);return r.slice(1).reduce((t,e)=>{let r=parseInt(e,10).toString(16);return t+(1===r.length?"0":"")+r},"#")})(t0().parse(t)),"rgb"),ec=tV(t=>{let e=es().optional();return Object.entries(tQ(t)).reduce((t,[r,n])=>(t[r.replace(/_[a-z]/g,t=>t[1].toUpperCase())]=e.parse(n),t),{})},"ThemeParams");function ef(t){return ei({botInline:{type:tZ().optional(),from:"tgWebAppBotInline"},initData:{type:ei({authDate:{type:eo(),from:"auth_date"},canSendAfter:{type:t1().optional(),from:"can_send_after"},chat:eu,chatInstance:{type:t0().optional(),from:"chat_instance"},chatType:{type:t0().optional(),from:"chat_type"},hash:t0(),queryId:{type:t0().optional(),from:"query_id"},receiver:ea,startParam:{type:t0().optional(),from:"start_param"},user:ea},"InitData").optional(),from:"tgWebAppData"},initDataRaw:{type:t0().optional(),from:"tgWebAppData"},platform:{type:t0(),from:"tgWebAppPlatform"},showSettings:{type:tZ().optional(),from:"tgWebAppShowSettings"},startParam:{type:t0().optional(),from:"tgWebAppStartParam"},themeParams:{type:ec(),from:"tgWebAppThemeParams"},version:{type:t0(),from:"tgWebAppVersion"}}).parse(t)}function el(t){return ef(t.replace(/^[^?#]*[?#]/,"").replace(/[?#]/g,"&"))}function eh(){return el(window.location.href)}function ep(){return performance.getEntriesByType("navigation")[0]}function e_(){let t=ep();if(!t)throw Error("Unable to get first navigation entry.");return el(t.name)}function ev(t){return`telegram-apps/${t.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}`}function ey(t,e){sessionStorage.setItem(ev(t),JSON.stringify(e))}function ed(t){let e=sessionStorage.getItem(ev(t));try{return e?JSON.parse(e):void 0}catch{}}function eg(){return ef(ed("launchParams")||"")}let[eb]=tM(function(){let t=0;return()=>(t+=1).toString()});class em{constructor(t,e){tL(this,"supports"),this.supports=r=>et(e[r],t)}}function ew(t,e){return t.startsWith(e)?t:`${e}${t}`}class eE extends em{constructor(t,e,r){var n;super(t,{readTextFromClipboard:"web_app_read_text_from_clipboard"}),tL(this,"supportsParam"),this.version=t,this.createRequestId=e,this.postEvent=r,this.supportsParam=(n={"openLink.tryInstantView":["web_app_open_link","try_instant_view"]},e=>{let[r,o]=n[e];return et(r,o,t)})}openLink(t,e){let r=new URL("string"==typeof t?t:`${t.pathname||""}${ew(t.search||"","?")}${ew(t.hash||"","#")}`,"http://a").toString();if(!et("web_app_open_link",this.version)){window.open(r,"_blank");return}let n="boolean"==typeof e?{tryInstantView:e}:e||{};this.postEvent("web_app_open_link",{url:r,try_browser:n.tryBrowser,try_instant_view:n.tryInstantView})}openTelegramLink(t){let{hostname:e,pathname:r,search:n}=new URL(t,"https://t.me");if("t.me"!==e)throw Error(`URL has not allowed hostname: ${e}. Only "t.me" is allowed`);if(!et("web_app_open_tg_link",this.version)){window.location.href=t;return}this.postEvent("web_app_open_tg_link",{path_full:r+n})}async readTextFromClipboard(){let t=this.createRequestId(),{data:e=null}=await en({method:"web_app_read_text_from_clipboard",event:"clipboard_text_received",postEvent:this.postEvent,params:{req_id:t},capture:({req_id:e})=>e===t});return e}shareURL(t,e){this.openTelegramLink("https://t.me/share/url?"+new URLSearchParams({url:t,text:e||""}).toString().replace(/\+/g,"%20"))}}let eS=(p=({version:t,postEvent:e,createRequestId:r})=>new eE(t,r,e),()=>{var t;let e=function(){let t=[];for(let e of[eh,e_,eg])try{let t=e();return ey("launchParams",function(t){let{initDataRaw:e,themeParams:r,platform:n,version:o,showSettings:i,startParam:u,botInline:a}=t,s=new URLSearchParams;return s.set("tgWebAppPlatform",n),s.set("tgWebAppThemeParams",JSON.stringify(Object.fromEntries(Object.entries(r).map(([t,e])=>[t.replace(/[A-Z]/g,t=>`_${t.toLowerCase()}`),e])))),s.set("tgWebAppVersion",o),e&&s.set("tgWebAppData",e),u&&s.set("tgWebAppStartParam",u),"boolean"==typeof i&&s.set("tgWebAppShowSettings",i?"1":"0"),"boolean"==typeof a&&s.set("tgWebAppBotInline",a?"1":"0"),s.toString()}(t)),t}catch(e){t.push(e instanceof Error?e.message:JSON.stringify(e))}throw Error([`Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside Telegram?
`,"\uD83D\uDCD6 Refer to docs for more information:",`https://docs.telegram-mini-apps.com/packages/telegram-apps-sdk/environment
`,"Collected errors:",t.map(t=>`— ${t}`)].join(`
`))}(),r={...e,postEvent:(t=e.version,(e,r)=>{if(!et(e,t))throw tH("ERR_METHOD_UNSUPPORTED",`Method "${e}" is unsupported in Mini Apps version ${t}`);if(t9(r)&&"web_app_set_header_color"===e&&"color"in r&&!et(e,"color",t))throw tH("ERR_METHOD_PARAMETER_UNSUPPORTED",`Parameter "color" of "${e}" method is unsupported in Mini Apps version ${t}`);return er(e,r)}),createRequestId:eb()};if("function"==typeof p)return p(r);let[n,o,i]=tq(),u=(void 0)({...r,state:!function(){let t=ep();return!!(t&&"reload"===t.type)}()?void 0:ed(p),addCleanup:n}),a=t=>(i||n(t.on("change",t=>{ey(p,t)})),t);return[u instanceof Promise?u.then(a):a(u),o]});async function eO(){if(ee(window))return!0;try{return await en({method:"web_app_request_theme",event:"theme_changed",timeout:100}),!0}catch{return!1}}async function eR(t){await eO()?eS().openTelegramLink(t):window.open(t,"_blank","noreferrer noopener")}tj.createContext(void 0);let eA=()=>"u">typeof window&&"u">typeof window.localStorage?window.localStorage:localStorage;var ex={exports:{}};ex.exports,function(t,e){(function(){var r,n="Expected a function",o="__lodash_hash_undefined__",i="__lodash_placeholder__",u=1/0,a=NaN,s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],c="[object Arguments]",f="[object Array]",l="[object Boolean]",h="[object Date]",p="[object Error]",_="[object Function]",v="[object GeneratorFunction]",y="[object Map]",d="[object Number]",g="[object Object]",b="[object Promise]",m="[object RegExp]",w="[object Set]",E="[object String]",S="[object Symbol]",O="[object WeakMap]",A="[object ArrayBuffer]",x="[object DataView]",T="[object Float32Array]",N="[object Float64Array]",I="[object Int8Array]",U="[object Int16Array]",P="[object Int32Array]",C="[object Uint8Array]",k="[object Uint8ClampedArray]",j="[object Uint16Array]",D="[object Uint32Array]",$=/\b__p \+= '';/g,L=/\b(__p \+=) '' \+/g,M=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39);/g,W=/[&<>"']/g,z=RegExp(K.source),B=RegExp(W.source),q=/<%-([\s\S]+?)%>/g,F=/<%([\s\S]+?)%>/g,H=/<%=([\s\S]+?)%>/g,G=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J=/^\w*$/,Y=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,V=/[\\^$.*+?()[\]{}|]/g,Z=RegExp(V.source),X=/^\s+/,Q=/\s/,tt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,te=/\{\n\/\* \[wrapped with (.+)\] \*/,tr=/,? & /,tn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,to=/[()=,{}\[\]\/\s]/,ti=/\\(\\)?/g,tu=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ta=/\w*$/,ts=/^[-+]0x[0-9a-f]+$/i,tc=/^0b[01]+$/i,tf=/^\[object .+?Constructor\]$/,tl=/^0o[0-7]+$/i,th=/^(?:0|[1-9]\d*)$/,tp=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,t_=/($^)/,tv=/['\n\r\u2028\u2029\\]/g,ty="\ud800-\udfff",td="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",tg="\\u2700-\\u27bf",tb="a-z\\xdf-\\xf6\\xf8-\\xff",tm="A-Z\\xc0-\\xd6\\xd8-\\xde",tw="\\ufe0e\\ufe0f",tE="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",tS="['’]",tO="["+tE+"]",tR="["+td+"]",tA="["+tb+"]",tx="[^"+ty+tE+"\\d+"+tg+tb+tm+"]",tT="\ud83c[\udffb-\udfff]",tN="[^"+ty+"]",tI="(?:\ud83c[\udde6-\uddff]){2}",tU="[\ud800-\udbff][\udc00-\udfff]",tP="["+tm+"]",tC="\\u200d",tk="(?:"+tA+"|"+tx+")",tj="(?:"+tS+"(?:d|ll|m|re|s|t|ve))?",tD="(?:"+tS+"(?:D|LL|M|RE|S|T|VE))?",t$="(?:"+tR+"|"+tT+")?",tL="["+tw+"]?",tM="(?:"+tC+"(?:"+[tN,tI,tU].join("|")+")"+tL+t$+")*",tK=tL+t$+tM,tW="(?:"+["["+tg+"]",tI,tU].join("|")+")"+tK,tz="(?:"+[tN+tR+"?",tR,tI,tU,"["+ty+"]"].join("|")+")",tB=RegExp(tS,"g"),tq=RegExp(tR,"g"),tF=RegExp(tT+"(?="+tT+")|"+tz+tK,"g"),tH=RegExp([tP+"?"+tA+"+"+tj+"(?="+[tO,tP,"$"].join("|")+")","(?:"+tP+"|"+tx+")+"+tD+"(?="+[tO,tP+tk,"$"].join("|")+")",tP+"?"+tk+"+"+tj,tP+"+"+tD,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",tW].join("|"),"g"),tG=RegExp("["+tC+ty+td+tw+"]"),tJ=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,tY=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],tV=-1,tZ={};tZ[T]=tZ[N]=tZ[I]=tZ[U]=tZ[P]=tZ[C]=tZ[k]=tZ[j]=tZ[D]=!0,tZ[c]=tZ[f]=tZ[A]=tZ[l]=tZ[x]=tZ[h]=tZ[p]=tZ[_]=tZ[y]=tZ[d]=tZ[g]=tZ[m]=tZ[w]=tZ[E]=tZ[O]=!1;var tX={};tX[c]=tX[f]=tX[A]=tX[x]=tX[l]=tX[h]=tX[T]=tX[N]=tX[I]=tX[U]=tX[P]=tX[y]=tX[d]=tX[g]=tX[m]=tX[w]=tX[E]=tX[S]=tX[C]=tX[k]=tX[j]=tX[D]=!0,tX[p]=tX[_]=tX[O]=!1;var tQ={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},t5=parseFloat,t1=parseInt,t0="object"==typeof R&&R&&R.Object===Object&&R,t2="object"==typeof self&&self&&self.Object===Object&&self,t6=t0||t2||Function("return this")(),t3=e&&!e.nodeType&&e,t8=t3&&t&&!t.nodeType&&t,t4=t8&&t8.exports===t3,t9=t4&&t0.process,t7=function(){try{return t8&&t8.require&&t8.require("util").types||t9&&t9.binding&&t9.binding("util")}catch{}}(),et=t7&&t7.isArrayBuffer,ee=t7&&t7.isDate,er=t7&&t7.isMap,en=t7&&t7.isRegExp,eo=t7&&t7.isSet,ei=t7&&t7.isTypedArray;function eu(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function ea(t,e,r,n){for(var o=-1,i=null==t?0:t.length;++o<i;){var u=t[o];e(n,u,r(u),t)}return n}function es(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function ec(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function ef(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var u=t[r];e(u,r,t)&&(i[o++]=u)}return i}function el(t,e){return!!(null==t?0:t.length)&&ew(t,e,0)>-1}function eh(t,e,r){for(var n=-1,o=null==t?0:t.length;++n<o;)if(r(e,t[n]))return!0;return!1}function ep(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}function e_(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}function ev(t,e,r,n){var o=-1,i=null==t?0:t.length;for(n&&i&&(r=t[++o]);++o<i;)r=e(r,t[o],o,t);return r}function ey(t,e,r,n){var o=null==t?0:t.length;for(n&&o&&(r=t[--o]);o--;)r=e(r,t[o],o,t);return r}function ed(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var eg=eR("length");function eb(t,e,r){var n;return r(t,function(t,r,o){if(e(t,r,o))return n=r,!1}),n}function em(t,e,r,n){for(var o=t.length,i=r+(n?1:-1);n?i--:++i<o;)if(e(t[i],i,t))return i;return -1}function ew(t,e,r){return e==e?function(t,e,r){for(var n=r-1,o=t.length;++n<o;)if(t[n]===e)return n;return -1}(t,e,r):em(t,eS,r)}function eE(t,e,r,n){for(var o=r-1,i=t.length;++o<i;)if(n(t[o],e))return o;return -1}function eS(t){return t!=t}function eO(t,e){var r=null==t?0:t.length;return r?eT(t,e)/r:a}function eR(t){return function(e){return null==e?r:e[t]}}function eA(t){return function(e){return null==t?r:t[e]}}function ex(t,e,r,n,o){return o(t,function(t,o,i){r=n?(n=!1,t):e(r,t,o,i)}),r}function eT(t,e){for(var n,o=-1,i=t.length;++o<i;){var u=e(t[o]);u!==r&&(n=n===r?u:n+u)}return n}function eN(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function eI(t){return t&&t.slice(0,eH(t)+1).replace(X,"")}function eU(t){return function(e){return t(e)}}function eP(t,e){return ep(e,function(e){return t[e]})}function eC(t,e){return t.has(e)}function ek(t,e){for(var r=-1,n=t.length;++r<n&&ew(e,t[r],0)>-1;);return r}function ej(t,e){for(var r=t.length;r--&&ew(e,t[r],0)>-1;);return r}var eD=eA({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),e$=eA({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function eL(t){return"\\"+tQ[t]}function eM(t){return tG.test(t)}function eK(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function eW(t,e){return function(r){return t(e(r))}}function ez(t,e){for(var r=-1,n=t.length,o=0,u=[];++r<n;){var a=t[r];(a===e||a===i)&&(t[r]=i,u[o++]=r)}return u}function eB(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}function eq(t){return eM(t)?function(t){for(var e=tF.lastIndex=0;tF.test(t);)++e;return e}(t):eg(t)}function eF(t){return eM(t)?t.match(tF)||[]:t.split("")}function eH(t){for(var e=t.length;e--&&Q.test(t.charAt(e)););return e}var eG=eA({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),eJ=function t(e){var R,Q,ty,td,tg=(e=null==e?t6:eJ.defaults(t6.Object(),e,eJ.pick(t6,tY))).Array,tb=e.Date,tm=e.Error,tw=e.Function,tE=e.Math,tS=e.Object,tO=e.RegExp,tR=e.String,tA=e.TypeError,tx=tg.prototype,tT=tw.prototype,tN=tS.prototype,tI=e["__core-js_shared__"],tU=tT.toString,tP=tN.hasOwnProperty,tC=0,tk=(R=/[^.]+$/.exec(tI&&tI.keys&&tI.keys.IE_PROTO||""))?"Symbol(src)_1."+R:"",tj=tN.toString,tD=tU.call(tS),t$=t6._,tL=tO("^"+tU.call(tP).replace(V,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tM=t4?e.Buffer:r,tK=e.Symbol,tW=e.Uint8Array,tz=tM?tM.allocUnsafe:r,tF=eW(tS.getPrototypeOf,tS),tG=tS.create,tQ=tN.propertyIsEnumerable,t0=tx.splice,t2=tK?tK.isConcatSpreadable:r,t3=tK?tK.iterator:r,t8=tK?tK.toStringTag:r,t9=function(){try{var t=oh(tS,"defineProperty");return t({},"",{}),t}catch{}}(),t7=e.clearTimeout!==t6.clearTimeout&&e.clearTimeout,eg=tb&&tb.now!==t6.Date.now&&tb.now,eA=e.setTimeout!==t6.setTimeout&&e.setTimeout,eY=tE.ceil,eV=tE.floor,eZ=tS.getOwnPropertySymbols,eX=tM?tM.isBuffer:r,eQ=e.isFinite,e5=tx.join,e1=eW(tS.keys,tS),e0=tE.max,e2=tE.min,e6=tb.now,e3=e.parseInt,e8=tE.random,e4=tx.reverse,e9=oh(e,"DataView"),e7=oh(e,"Map"),rt=oh(e,"Promise"),re=oh(e,"Set"),rr=oh(e,"WeakMap"),rn=oh(tS,"create"),ro=rr&&new rr,ri={},ru=o$(e9),ra=o$(e7),rs=o$(rt),rc=o$(re),rf=o$(rr),rl=tK?tK.prototype:r,rh=rl?rl.valueOf:r,rp=rl?rl.toString:r;function r_(t){if(iH(t)&&!ij(t)&&!(t instanceof rg)){if(t instanceof rd)return t;if(tP.call(t,"__wrapped__"))return oL(t)}return new rd(t)}var rv=function(){function t(){}return function(e){if(!iF(e))return{};if(tG)return tG(e);t.prototype=e;var n=new t;return t.prototype=r,n}}();function ry(){}function rd(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=r}function rg(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function rb(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function rm(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function rw(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function rE(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new rw;++e<r;)this.add(t[e])}function rS(t){var e=this.__data__=new rm(t);this.size=e.size}function rO(t,e){var r=ij(t),n=!r&&ik(t),o=!r&&!n&&iM(t),i=!r&&!n&&!o&&i5(t),u=r||n||o||i,a=u?eN(t.length,tR):[],s=a.length;for(var c in t)(e||tP.call(t,c))&&!(u&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ob(c,s)))&&a.push(c);return a}function rR(t){var e=t.length;return e?t[nc(0,e-1)]:r}function rA(t,e,n){(n===r||iU(t[e],n))&&(n!==r||e in t)||rU(t,e,n)}function rx(t,e,n){var o=t[e];tP.call(t,e)&&iU(o,n)&&(n!==r||e in t)||rU(t,e,n)}function rT(t,e){for(var r=t.length;r--;)if(iU(t[r][0],e))return r;return -1}function rN(t,e,r,n){return rL(t,function(t,o,i){e(n,t,r(t),i)}),n}function rI(t,e){return t&&nW(e,uh(e),t)}function rU(t,e,r){"__proto__"==e&&t9?t9(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function rP(t,e){for(var n=-1,o=e.length,i=tg(o),u=null==t;++n<o;)i[n]=u?r:ua(t,e[n]);return i}function rC(t,e,n){return t==t&&(n!==r&&(t=t<=n?t:n),e!==r&&(t=t>=e?t:e)),t}function rk(t,e,n,o,i,u){var a,s=1&e,f=2&e,p=4&e;if(n&&(a=i?n(t,o,i,u):n(t)),a!==r)return a;if(!iF(t))return t;var b=ij(t);if(b){if(O=t.length,R=new t.constructor(O),O&&"string"==typeof t[0]&&tP.call(t,"index")&&(R.index=t.index,R.input=t.input),a=R,!s)return nK(t,a)}else{var O,R,$,L,M,K=ov(t),W=K==_||K==v;if(iM(t))return nk(t,s);if(K==g||K==c||W&&!i){if(a=f||W?{}:od(t),!s)return f?($=(M=a)&&nW(t,up(t),M),nW(t,o_(t),$)):(L=rI(a,t),nW(t,op(t),L))}else{if(!tX[K])return i?t:{};a=function(t,e,r){var n,o,i=t.constructor;switch(e){case A:return nj(t);case l:case h:return new i(+t);case x:return n=r?nj(t.buffer):t.buffer,new t.constructor(n,t.byteOffset,t.byteLength);case T:case N:case I:case U:case P:case C:case k:case j:case D:return nD(t,r);case y:return new i;case d:case E:return new i(t);case m:return(o=new t.constructor(t.source,ta.exec(t))).lastIndex=t.lastIndex,o;case w:return new i;case S:return rh?tS(rh.call(t)):{}}}(t,K,s)}}u||(u=new rS);var z=u.get(t);if(z)return z;u.set(t,a),iZ(t)?t.forEach(function(r){a.add(rk(r,e,n,r,t,u))}):iG(t)&&t.forEach(function(r,o){a.set(o,rk(r,e,n,o,t,u))});var B=p?f?oi:oo:f?up:uh,q=b?r:B(t);return es(q||t,function(r,o){q&&(r=t[o=r]),rx(a,o,rk(r,e,n,o,t,u))}),a}function rj(t,e,n){var o=n.length;if(null==t)return!o;for(t=tS(t);o--;){var i=n[o],u=e[i],a=t[i];if(a===r&&!(i in t)||!u(a))return!1}return!0}function rD(t,e,o){if("function"!=typeof t)throw new tA(n);return oI(function(){t.apply(r,o)},e)}function r$(t,e,r,n){var o=-1,i=el,u=!0,a=t.length,s=[],c=e.length;if(!a)return s;r&&(e=ep(e,eU(r))),n?(i=eh,u=!1):e.length>=200&&(i=eC,u=!1,e=new rE(e));t:for(;++o<a;){var f=t[o],l=null==r?f:r(f);if(f=n||0!==f?f:0,u&&l==l){for(var h=c;h--;)if(e[h]===l)continue t;s.push(f)}else i(e,l,n)||s.push(f)}return s}r_.templateSettings={escape:q,evaluate:F,interpolate:H,variable:"",imports:{_:r_}},r_.prototype=ry.prototype,r_.prototype.constructor=r_,rd.prototype=rv(ry.prototype),rd.prototype.constructor=rd,rg.prototype=rv(ry.prototype),rg.prototype.constructor=rg,rb.prototype.clear=function(){this.__data__=rn?rn(null):{},this.size=0},rb.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},rb.prototype.get=function(t){var e=this.__data__;if(rn){var n=e[t];return n===o?r:n}return tP.call(e,t)?e[t]:r},rb.prototype.has=function(t){var e=this.__data__;return rn?e[t]!==r:tP.call(e,t)},rb.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=rn&&e===r?o:e,this},rm.prototype.clear=function(){this.__data__=[],this.size=0},rm.prototype.delete=function(t){var e=this.__data__,r=rT(e,t);return!(r<0)&&(r==e.length-1?e.pop():t0.call(e,r,1),--this.size,!0)},rm.prototype.get=function(t){var e=this.__data__,n=rT(e,t);return n<0?r:e[n][1]},rm.prototype.has=function(t){return rT(this.__data__,t)>-1},rm.prototype.set=function(t,e){var r=this.__data__,n=rT(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},rw.prototype.clear=function(){this.size=0,this.__data__={hash:new rb,map:new(e7||rm),string:new rb}},rw.prototype.delete=function(t){var e=of(this,t).delete(t);return this.size-=e?1:0,e},rw.prototype.get=function(t){return of(this,t).get(t)},rw.prototype.has=function(t){return of(this,t).has(t)},rw.prototype.set=function(t,e){var r=of(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},rE.prototype.add=rE.prototype.push=function(t){return this.__data__.set(t,o),this},rE.prototype.has=function(t){return this.__data__.has(t)},rS.prototype.clear=function(){this.__data__=new rm,this.size=0},rS.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},rS.prototype.get=function(t){return this.__data__.get(t)},rS.prototype.has=function(t){return this.__data__.has(t)},rS.prototype.set=function(t,e){var r=this.__data__;if(r instanceof rm){var n=r.__data__;if(!e7||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new rw(n)}return r.set(t,e),this.size=r.size,this};var rL=nq(rH),rM=nq(rG,!0);function rK(t,e){var r=!0;return rL(t,function(t,n,o){return r=!!e(t,n,o)}),r}function rW(t,e,n){for(var o=-1,i=t.length;++o<i;){var u=t[o],a=e(u);if(null!=a&&(s===r?a==a&&!iQ(a):n(a,s)))var s=a,c=u}return c}function rz(t,e){var r=[];return rL(t,function(t,n,o){e(t,n,o)&&r.push(t)}),r}function rB(t,e,r,n,o){var i=-1,u=t.length;for(r||(r=og),o||(o=[]);++i<u;){var a=t[i];e>0&&r(a)?e>1?rB(a,e-1,r,n,o):e_(o,a):n||(o[o.length]=a)}return o}var rq=nF(),rF=nF(!0);function rH(t,e){return t&&rq(t,e,uh)}function rG(t,e){return t&&rF(t,e,uh)}function rJ(t,e){return ef(e,function(e){return iz(t[e])})}function rY(t,e){e=nU(e,t);for(var n=0,o=e.length;null!=t&&n<o;)t=t[oD(e[n++])];return n&&n==o?t:r}function rV(t,e,r){var n=e(t);return ij(t)?n:e_(n,r(t))}function rZ(t){return null==t?t===r?"[object Undefined]":"[object Null]":t8&&t8 in tS(t)?function(t){var e=tP.call(t,t8),n=t[t8];try{t[t8]=r;var o=!0}catch{}var i=tj.call(t);return o&&(e?t[t8]=n:delete t[t8]),i}(t):tj.call(t)}function rX(t,e){return t>e}function rQ(t,e){return null!=t&&tP.call(t,e)}function r5(t,e){return null!=t&&e in tS(t)}function r1(t,e,n){for(var o=n?eh:el,i=t[0].length,u=t.length,a=u,s=tg(u),c=1/0,f=[];a--;){var l=t[a];a&&e&&(l=ep(l,eU(e))),c=e2(l.length,c),s[a]=!n&&(e||i>=120&&l.length>=120)?new rE(a&&l):r}l=t[0];var h=-1,p=s[0];t:for(;++h<i&&f.length<c;){var _=l[h],v=e?e(_):_;if(_=n||0!==_?_:0,!(p?eC(p,v):o(f,v,n))){for(a=u;--a;){var y=s[a];if(!(y?eC(y,v):o(t[a],v,n)))continue t}p&&p.push(v),f.push(_)}}return f}function r0(t,e,n){e=nU(e,t);var o=null==(t=ox(t,e))?t:t[oD(oY(e))];return null==o?r:eu(o,t,n)}function r2(t){return iH(t)&&rZ(t)==c}function r6(t,e,n,o,i){return t===e||(null!=t&&null!=e&&(iH(t)||iH(e))?function(t,e,n,o,i,u){var a=ij(t),s=ij(e),_=a?f:ov(t),v=s?f:ov(e);_=_==c?g:_,v=v==c?g:v;var b=_==g,O=v==g,R=_==v;if(R&&iM(t)){if(!iM(e))return!1;a=!0,b=!1}if(R&&!b)return u||(u=new rS),a||i5(t)?or(t,e,n,o,i,u):function(t,e,r,n,o,i,u){switch(r){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)break;t=t.buffer,e=e.buffer;case A:return!(t.byteLength!=e.byteLength||!i(new tW(t),new tW(e)));case l:case h:case d:return iU(+t,+e);case p:return t.name==e.name&&t.message==e.message;case m:case E:return t==e+"";case y:var a=eK;case w:var s=1&n;if(a||(a=eB),t.size!=e.size&&!s)break;var c=u.get(t);if(c)return c==e;n|=2,u.set(t,e);var f=or(a(t),a(e),n,o,i,u);return u.delete(t),f;case S:if(rh)return rh.call(t)==rh.call(e)}return!1}(t,e,_,n,o,i,u);if(!(1&n)){var T=b&&tP.call(t,"__wrapped__"),N=O&&tP.call(e,"__wrapped__");if(T||N){var I=T?t.value():t,U=N?e.value():e;return u||(u=new rS),i(I,U,n,o,u)}}return!!R&&(u||(u=new rS),function(t,e,n,o,i,u){var a=1&n,s=oo(t),c=s.length;if(c!=oo(e).length&&!a)return!1;for(var f=c;f--;){var l=s[f];if(!(a?l in e:tP.call(e,l)))return!1}var h=u.get(t),p=u.get(e);if(h&&p)return h==e&&p==t;var _=!0;u.set(t,e),u.set(e,t);for(var v=a;++f<c;){var y=t[l=s[f]],d=e[l];if(o)var g=a?o(d,y,l,e,t,u):o(y,d,l,t,e,u);if(!(g===r?y===d||i(y,d,n,o,u):g)){_=!1;break}v||(v="constructor"==l)}if(_&&!v){var b=t.constructor,m=e.constructor;b!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof m&&m instanceof m)&&(_=!1)}return u.delete(t),u.delete(e),_}(t,e,n,o,i,u))}(t,e,n,o,r6,i):t!=t&&e!=e)}function r3(t,e,n,o){var i=n.length,u=i,a=!o;if(null==t)return!u;for(t=tS(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<u;){var c=(s=n[i])[0],f=t[c],l=s[1];if(a&&s[2]){if(f===r&&!(c in t))return!1}else{var h=new rS;if(o)var p=o(f,l,c,t,e,h);if(!(p===r?r6(l,f,3,o,h):p))return!1}}return!0}function r8(t){return!(!iF(t)||tk&&tk in t)&&(iz(t)?tL:tf).test(o$(t))}function r4(t){return"function"==typeof t?t:null==t?uL:"object"==typeof t?ij(t)?nr(t[0],t[1]):ne(t):uG(t)}function r9(t){if(!oO(t))return e1(t);var e=[];for(var r in tS(t))tP.call(t,r)&&"constructor"!=r&&e.push(r);return e}function r7(t,e){return t<e}function nt(t,e){var r=-1,n=i$(t)?tg(t.length):[];return rL(t,function(t,o,i){n[++r]=e(t,o,i)}),n}function ne(t){var e=ol(t);return 1==e.length&&e[0][2]?oR(e[0][0],e[0][1]):function(r){return r===t||r3(r,t,e)}}function nr(t,e){var n;return ow(t)&&(n=e)==n&&!iF(n)?oR(oD(t),e):function(n){var o=ua(n,t);return o===r&&o===e?us(n,t):r6(e,o,3)}}function nn(t,e,n,o,i){t!==e&&rq(e,function(u,a){if(i||(i=new rS),iF(u))(function(t,e,n,o,i,u,a){var s=oT(t,n),c=oT(e,n),f=a.get(c);if(f){rA(t,n,f);return}var l=u?u(s,c,n+"",t,e,a):r,h=l===r;if(h){var p=ij(c),_=!p&&iM(c),v=!p&&!_&&i5(c);l=c,p||_||v?ij(s)?l=s:iL(s)?l=nK(s):_?(h=!1,l=nk(c,!0)):v?(h=!1,l=nD(c,!0)):l=[]:iY(c)||ik(c)?(l=s,ik(s)?l=i9(s):(!iF(s)||iz(s))&&(l=od(c))):h=!1}h&&(a.set(c,l),i(l,c,o,u,a),a.delete(c)),rA(t,n,l)})(t,e,a,n,nn,o,i);else{var s=o?o(oT(t,a),u,a+"",t,e,i):r;s===r&&(s=u),rA(t,a,s)}},up)}function no(t,e){var n=t.length;if(n)return ob(e+=e<0?n:0,n)?t[e]:r}function ni(t,e,r){e=e.length?ep(e,function(t){return ij(t)?function(e){return rY(e,1===t.length?t[0]:t)}:t}):[uL];var n=-1;return e=ep(e,eU(oc())),function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}(nt(t,function(t,r,o){return{criteria:ep(e,function(e){return e(t)}),index:++n,value:t}}),function(t,e){return function(t,e,r){for(var n=-1,o=t.criteria,i=e.criteria,u=o.length,a=r.length;++n<u;){var s=n$(o[n],i[n]);if(s){if(n>=a)return s;return s*("desc"==r[n]?-1:1)}}return t.index-e.index}(t,e,r)})}function nu(t,e,r){for(var n=-1,o=e.length,i={};++n<o;){var u=e[n],a=rY(t,u);r(a,u)&&nh(i,nU(u,t),a)}return i}function na(t,e,r,n){var o=n?eE:ew,i=-1,u=e.length,a=t;for(t===e&&(e=nK(e)),r&&(a=ep(t,eU(r)));++i<u;)for(var s=0,c=e[i],f=r?r(c):c;(s=o(a,f,s,n))>-1;)a!==t&&t0.call(a,s,1),t0.call(t,s,1);return t}function ns(t,e){for(var r=t?e.length:0,n=r-1;r--;){var o=e[r];if(r==n||o!==i){var i=o;ob(o)?t0.call(t,o,1):nS(t,o)}}return t}function nc(t,e){return t+eV(e8()*(e-t+1))}function nf(t,e){var r="";if(!t||e<1||e>9007199254740991)return r;do e%2&&(r+=t),(e=eV(e/2))&&(t+=t);while(e);return r}function nl(t,e){return oU(oA(t,e,uL),t+"")}function nh(t,e,n,o){if(!iF(t))return t;e=nU(e,t);for(var i=-1,u=e.length,a=u-1,s=t;null!=s&&++i<u;){var c=oD(e[i]),f=n;if("__proto__"===c||"constructor"===c||"prototype"===c)break;if(i!=a){var l=s[c];(f=o?o(l,c,s):r)===r&&(f=iF(l)?l:ob(e[i+1])?[]:{})}rx(s,c,f),s=s[c]}return t}var np=ro?function(t,e){return ro.set(t,e),t}:uL,n_=t9?function(t,e){return t9(t,"toString",{configurable:!0,enumerable:!1,value:uj(e),writable:!0})}:uL;function nv(t,e,r){var n=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var i=tg(o);++n<o;)i[n]=t[n+e];return i}function ny(t,e){var r;return rL(t,function(t,n,o){return!(r=e(t,n,o))}),!!r}function nd(t,e,r){var n=0,o=null==t?n:t.length;if("number"==typeof e&&e==e&&o<=2147483647){for(;n<o;){var i=n+o>>>1,u=t[i];null!==u&&!iQ(u)&&(r?u<=e:u<e)?n=i+1:o=i}return o}return ng(t,e,uL,r)}function ng(t,e,n,o){var i=0,u=null==t?0:t.length;if(0===u)return 0;e=n(e);for(var a=e!=e,s=null===e,c=iQ(e),f=e===r;i<u;){var l=eV((i+u)/2),h=n(t[l]),p=h!==r,_=null===h,v=h==h,y=iQ(h);if(a)var d=o||v;else d=f?v&&(o||p):s?v&&p&&(o||!_):c?v&&p&&!_&&(o||!y):!_&&!y&&(o?h<=e:h<e);d?i=l+1:u=l}return e2(u,4294967294)}function nb(t,e){for(var r=-1,n=t.length,o=0,i=[];++r<n;){var u=t[r],a=e?e(u):u;if(!r||!iU(a,s)){var s=a;i[o++]=0===u?0:u}}return i}function nm(t){return"number"==typeof t?t:iQ(t)?a:+t}function nw(t){if("string"==typeof t)return t;if(ij(t))return ep(t,nw)+"";if(iQ(t))return rp?rp.call(t):"";var e=t+"";return"0"==e&&1/t==-u?"-0":e}function nE(t,e,r){var n=-1,o=el,i=t.length,u=!0,a=[],s=a;if(r)u=!1,o=eh;else if(i>=200){var c=e?null:n8(t);if(c)return eB(c);u=!1,o=eC,s=new rE}else s=e?[]:a;t:for(;++n<i;){var f=t[n],l=e?e(f):f;if(f=r||0!==f?f:0,u&&l==l){for(var h=s.length;h--;)if(s[h]===l)continue t;e&&s.push(l),a.push(f)}else o(s,l,r)||(s!==a&&s.push(l),a.push(f))}return a}function nS(t,e){return e=nU(e,t),null==(t=ox(t,e))||delete t[oD(oY(e))]}function nO(t,e,r,n){return nh(t,e,r(rY(t,e)),n)}function nR(t,e,r,n){for(var o=t.length,i=n?o:-1;(n?i--:++i<o)&&e(t[i],i,t););return r?nv(t,n?0:i,n?i+1:o):nv(t,n?i+1:0,n?o:i)}function nA(t,e){var r=t;return r instanceof rg&&(r=r.value()),ev(e,function(t,e){return e.func.apply(e.thisArg,e_([t],e.args))},r)}function nx(t,e,r){var n=t.length;if(n<2)return n?nE(t[0]):[];for(var o=-1,i=tg(n);++o<n;)for(var u=t[o],a=-1;++a<n;)a!=o&&(i[o]=r$(i[o]||u,t[a],e,r));return nE(rB(i,1),e,r)}function nT(t,e,n){for(var o=-1,i=t.length,u=e.length,a={};++o<i;){var s=o<u?e[o]:r;n(a,t[o],s)}return a}function nN(t){return iL(t)?t:[]}function nI(t){return"function"==typeof t?t:uL}function nU(t,e){return ij(t)?t:ow(t,e)?[t]:oj(i7(t))}function nP(t,e,n){var o=t.length;return n=n===r?o:n,!e&&n>=o?t:nv(t,e,n)}var nC=t7||function(t){return t6.clearTimeout(t)};function nk(t,e){if(e)return t.slice();var r=t.length,n=tz?tz(r):new t.constructor(r);return t.copy(n),n}function nj(t){var e=new t.constructor(t.byteLength);return new tW(e).set(new tW(t)),e}function nD(t,e){var r=e?nj(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function n$(t,e){if(t!==e){var n=t!==r,o=null===t,i=t==t,u=iQ(t),a=e!==r,s=null===e,c=e==e,f=iQ(e);if(!s&&!f&&!u&&t>e||u&&a&&c&&!s&&!f||o&&a&&c||!n&&c||!i)return 1;if(!o&&!u&&!f&&t<e||f&&n&&i&&!o&&!u||s&&n&&i||!a&&i||!c)return -1}return 0}function nL(t,e,r,n){for(var o=-1,i=t.length,u=r.length,a=-1,s=e.length,c=e0(i-u,0),f=tg(s+c),l=!n;++a<s;)f[a]=e[a];for(;++o<u;)(l||o<i)&&(f[r[o]]=t[o]);for(;c--;)f[a++]=t[o++];return f}function nM(t,e,r,n){for(var o=-1,i=t.length,u=-1,a=r.length,s=-1,c=e.length,f=e0(i-a,0),l=tg(f+c),h=!n;++o<f;)l[o]=t[o];for(var p=o;++s<c;)l[p+s]=e[s];for(;++u<a;)(h||o<i)&&(l[p+r[u]]=t[o++]);return l}function nK(t,e){var r=-1,n=t.length;for(e||(e=tg(n));++r<n;)e[r]=t[r];return e}function nW(t,e,n,o){var i=!n;n||(n={});for(var u=-1,a=e.length;++u<a;){var s=e[u],c=o?o(n[s],t[s],s,n,t):r;c===r&&(c=t[s]),i?rU(n,s,c):rx(n,s,c)}return n}function nz(t,e){return function(r,n){var o=ij(r)?ea:rN,i=e?e():{};return o(r,t,oc(n,2),i)}}function nB(t){return nl(function(e,n){var o=-1,i=n.length,u=i>1?n[i-1]:r,a=i>2?n[2]:r;for(u=t.length>3&&"function"==typeof u?(i--,u):r,a&&om(n[0],n[1],a)&&(u=i<3?r:u,i=1),e=tS(e);++o<i;){var s=n[o];s&&t(e,s,o,u)}return e})}function nq(t,e){return function(r,n){if(null==r)return r;if(!i$(r))return t(r,n);for(var o=r.length,i=e?o:-1,u=tS(r);(e?i--:++i<o)&&!1!==n(u[i],i,u););return r}}function nF(t){return function(e,r,n){for(var o=-1,i=tS(e),u=n(e),a=u.length;a--;){var s=u[t?a:++o];if(!1===r(i[s],s,i))break}return e}}function nH(t){return function(e){var n=eM(e=i7(e))?eF(e):r,o=n?n[0]:e.charAt(0),i=n?nP(n,1).join(""):e.slice(1);return o[t]()+i}}function nG(t){return function(e){return ev(uP(uO(e).replace(tB,"")),t,"")}}function nJ(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=rv(t.prototype),n=t.apply(r,e);return iF(n)?n:r}}function nY(t){return function(e,n,o){var i=tS(e);if(!i$(e)){var u=oc(n,3);e=uh(e),n=function(t){return u(i[t],t,i)}}var a=t(e,n,o);return a>-1?i[u?e[a]:a]:r}}function nV(t){return on(function(e){var o=e.length,i=o,u=rd.prototype.thru;for(t&&e.reverse();i--;){var a=e[i];if("function"!=typeof a)throw new tA(n);if(u&&!s&&"wrapper"==oa(a))var s=new rd([],!0)}for(i=s?i:o;++i<o;){var c=oa(a=e[i]),f="wrapper"==c?ou(a):r;s=f&&oE(f[0])&&424==f[1]&&!f[4].length&&1==f[9]?s[oa(f[0])].apply(s,f[3]):1==a.length&&oE(a)?s[c]():s.thru(a)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&ij(r))return s.plant(r).value();for(var n=0,i=o?e[n].apply(this,t):r;++n<o;)i=e[n].call(this,i);return i}})}function nZ(t,e,n,o,i,u,a,s,c,f){var l=128&e,h=1&e,p=2&e,_=24&e,v=512&e,y=p?r:nJ(t);return function d(){for(var g=arguments.length,b=tg(g),m=g;m--;)b[m]=arguments[m];if(_)var w=os(d),E=function(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}(b,w);if(o&&(b=nL(b,o,i,_)),u&&(b=nM(b,u,a,_)),g-=E,_&&g<f){var S=ez(b,w);return n6(t,e,nZ,d.placeholder,n,b,S,s,c,f-g)}var O=h?n:this,R=p?O[t]:t;return g=b.length,s?b=function(t,e){for(var n=t.length,o=e2(e.length,n),i=nK(t);o--;){var u=e[o];t[o]=ob(u,n)?i[u]:r}return t}(b,s):v&&g>1&&b.reverse(),l&&c<g&&(b.length=c),this&&this!==t6&&this instanceof d&&(R=y||nJ(R)),R.apply(O,b)}}function nX(t,e){return function(r,n){var o,i;return o=e(n),i={},rH(r,function(e,r,n){t(i,o(e),r,n)}),i}}function nQ(t,e){return function(n,o){var i;if(n===r&&o===r)return e;if(n!==r&&(i=n),o!==r){if(i===r)return o;"string"==typeof n||"string"==typeof o?(n=nw(n),o=nw(o)):(n=nm(n),o=nm(o)),i=t(n,o)}return i}}function n5(t){return on(function(e){return e=ep(e,eU(oc())),nl(function(r){var n=this;return t(e,function(t){return eu(t,n,r)})})})}function n1(t,e){var n=(e=e===r?" ":nw(e)).length;if(n<2)return n?nf(e,t):e;var o=nf(e,eY(t/eq(e)));return eM(e)?nP(eF(o),0,t).join(""):o.slice(0,t)}function n0(t){return function(e,n,o){return o&&"number"!=typeof o&&om(e,n,o)&&(n=o=r),e=i6(e),n===r?(n=e,e=0):n=i6(n),o=o===r?e<n?1:-1:i6(o),function(t,e,r,n){for(var o=-1,i=e0(eY((e-t)/(r||1)),0),u=tg(i);i--;)u[n?i:++o]=t,t+=r;return u}(e,n,o,t)}}function n2(t){return function(e,r){return"string"==typeof e&&"string"==typeof r||(e=i4(e),r=i4(r)),t(e,r)}}function n6(t,e,n,o,i,u,a,s,c,f){var l=8&e,h=l?a:r,p=l?r:a,_=l?u:r,v=l?r:u;e|=l?32:64,4&(e&=~(l?64:32))||(e&=-4);var y=[t,e,i,_,h,v,p,s,c,f],d=n.apply(r,y);return oE(t)&&oN(d,y),d.placeholder=o,oP(d,t,e)}function n3(t){var e=tE[t];return function(t,r){if(t=i4(t),(r=null==r?0:e2(i3(r),292))&&eQ(t)){var n=(i7(t)+"e").split("e");return+((n=(i7(e(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}var n8=re&&1/eB(new re([,-0]))[1]==u?function(t){return new re(t)}:uB;function n4(t){return function(e){var r,n,o=ov(e);return o==y?eK(e):o==w?(r=-1,n=Array(e.size),e.forEach(function(t){n[++r]=[t,t]}),n):ep(t(e),function(t){return[t,e[t]]})}}function n9(t,e,o,u,a,s,c,f){var l=2&e;if(!l&&"function"!=typeof t)throw new tA(n);var h=u?u.length:0;if(h||(e&=-97,u=a=r),c=c===r?c:e0(i3(c),0),f=f===r?f:i3(f),h-=a?a.length:0,64&e){var p=u,_=a;u=a=r}var v=l?r:ou(t),y=[t,e,o,u,a,p,_,s,c,f];if(v&&function(t,e){var r=t[1],n=e[1],o=r|n,u=o<131,a=128==n&&8==r||128==n&&256==r&&t[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==r;if(u||a){1&n&&(t[2]=e[2],o|=1&r?0:4);var s=e[3];if(s){var c=t[3];t[3]=c?nL(c,s,e[4]):s,t[4]=c?ez(t[3],i):e[4]}(s=e[5])&&(c=t[5],t[5]=c?nM(c,s,e[6]):s,t[6]=c?ez(t[5],i):e[6]),(s=e[7])&&(t[7]=s),128&n&&(t[8]=null==t[8]?e[8]:e2(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=o}}(y,v),t=y[0],e=y[1],o=y[2],u=y[3],a=y[4],(f=y[9]=y[9]===r?l?0:t.length:e0(y[9]-h,0))||!(24&e)||(e&=-25),e&&1!=e)8==e||16==e?(d=t,g=e,b=f,m=nJ(d),P=function t(){for(var e=arguments.length,n=tg(e),o=e,i=os(t);o--;)n[o]=arguments[o];var u=e<3&&n[0]!==i&&n[e-1]!==i?[]:ez(n,i);return(e-=u.length)<b?n6(d,g,nZ,t.placeholder,r,n,u,r,r,b-e):eu(this&&this!==t6&&this instanceof t?m:d,this,n)}):32!=e&&33!=e||a.length?P=nZ.apply(r,y):(w=t,E=e,S=o,O=u,R=1&E,A=nJ(w),P=function t(){for(var e=-1,r=arguments.length,n=-1,o=O.length,i=tg(o+r),u=this&&this!==t6&&this instanceof t?A:w;++n<o;)i[n]=O[n];for(;r--;)i[n++]=arguments[++e];return eu(u,R?S:this,i)});else var d,g,b,m,w,E,S,O,R,A,x,T,N,I,U,P=(x=t,T=e,N=o,I=1&T,U=nJ(x),function t(){return(this&&this!==t6&&this instanceof t?U:x).apply(I?N:this,arguments)});return oP((v?np:oN)(P,y),t,e)}function n7(t,e,n,o){return t===r||iU(t,tN[n])&&!tP.call(o,n)?e:t}function ot(t,e,n,o,i,u){return iF(t)&&iF(e)&&(u.set(e,t),nn(t,e,r,ot,u),u.delete(e)),t}function oe(t){return iY(t)?r:t}function or(t,e,n,o,i,u){var a=1&n,s=t.length,c=e.length;if(s!=c&&!(a&&c>s))return!1;var f=u.get(t),l=u.get(e);if(f&&l)return f==e&&l==t;var h=-1,p=!0,_=2&n?new rE:r;for(u.set(t,e),u.set(e,t);++h<s;){var v=t[h],y=e[h];if(o)var d=a?o(y,v,h,e,t,u):o(v,y,h,t,e,u);if(d!==r){if(d)continue;p=!1;break}if(_){if(!ed(e,function(t,e){if(!eC(_,e)&&(v===t||i(v,t,n,o,u)))return _.push(e)})){p=!1;break}}else if(!(v===y||i(v,y,n,o,u))){p=!1;break}}return u.delete(t),u.delete(e),p}function on(t){return oU(oA(t,r,oq),t+"")}function oo(t){return rV(t,uh,op)}function oi(t){return rV(t,up,o_)}var ou=ro?function(t){return ro.get(t)}:uB;function oa(t){for(var e=t.name+"",r=ri[e],n=tP.call(ri,e)?r.length:0;n--;){var o=r[n],i=o.func;if(null==i||i==t)return o.name}return e}function os(t){return(tP.call(r_,"placeholder")?r_:t).placeholder}function oc(){var t=r_.iteratee||uM;return t=t===uM?r4:t,arguments.length?t(arguments[0],arguments[1]):t}function of(t,e){var r,n=t.__data__;return("string"==(r=typeof e)||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e)?n["string"==typeof e?"string":"hash"]:n.map}function ol(t){for(var e=uh(t),r=e.length;r--;){var n=e[r],o=t[n];e[r]=[n,o,o==o&&!iF(o)]}return e}function oh(t,e){var n=null==t?r:t[e];return r8(n)?n:r}var op=eZ?function(t){return null==t?[]:ef(eZ(t=tS(t)),function(e){return tQ.call(t,e)})}:uV,o_=eZ?function(t){for(var e=[];t;)e_(e,op(t)),t=tF(t);return e}:uV,ov=rZ;function oy(t,e,r){e=nU(e,t);for(var n=-1,o=e.length,i=!1;++n<o;){var u=oD(e[n]);if(!(i=null!=t&&r(t,u)))break;t=t[u]}return i||++n!=o?i:!!(o=null==t?0:t.length)&&iq(o)&&ob(u,o)&&(ij(t)||ik(t))}function od(t){return"function"!=typeof t.constructor||oO(t)?{}:rv(tF(t))}function og(t){return ij(t)||ik(t)||!!(t2&&t&&t[t2])}function ob(t,e){var r=typeof t;return!!(e=e??9007199254740991)&&("number"==r||"symbol"!=r&&th.test(t))&&t>-1&&t%1==0&&t<e}function om(t,e,r){if(!iF(r))return!1;var n=typeof e;return("number"==n?!!(i$(r)&&ob(e,r.length)):"string"==n&&e in r)&&iU(r[e],t)}function ow(t,e){if(ij(t))return!1;var r=typeof t;return!!("number"==r||"symbol"==r||"boolean"==r||null==t||iQ(t))||J.test(t)||!G.test(t)||null!=e&&t in tS(e)}function oE(t){var e=oa(t),r=r_[e];if("function"!=typeof r||!(e in rg.prototype))return!1;if(t===r)return!0;var n=ou(r);return!!n&&t===n[0]}(e9&&ov(new e9(new ArrayBuffer(1)))!=x||e7&&ov(new e7)!=y||rt&&ov(rt.resolve())!=b||re&&ov(new re)!=w||rr&&ov(new rr)!=O)&&(ov=function(t){var e=rZ(t),n=e==g?t.constructor:r,o=n?o$(n):"";if(o)switch(o){case ru:return x;case ra:return y;case rs:return b;case rc:return w;case rf:return O}return e});var oS=tI?iz:uZ;function oO(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||tN)}function oR(t,e){return function(n){return null!=n&&n[t]===e&&(e!==r||t in tS(n))}}function oA(t,e,n){return e=e0(e===r?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=e0(r.length-e,0),u=tg(i);++o<i;)u[o]=r[e+o];o=-1;for(var a=tg(e+1);++o<e;)a[o]=r[o];return a[e]=n(u),eu(t,this,a)}}function ox(t,e){return e.length<2?t:rY(t,nv(e,0,-1))}function oT(t,e){if(!("constructor"===e&&"function"==typeof t[e])&&"__proto__"!=e)return t[e]}var oN=oC(np),oI=eA||function(t,e){return t6.setTimeout(t,e)},oU=oC(n_);function oP(t,e,r){var n,o,i=e+"";return oU(t,function(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(tt,`{
/* [wrapped with `+e+`] */
`)}(i,(n=(o=i.match(te))?o[1].split(tr):[],es(s,function(t){var e="_."+t[0];r&t[1]&&!el(n,e)&&n.push(e)}),n.sort())))}function oC(t){var e=0,n=0;return function(){var o=e6(),i=16-(o-n);if(n=o,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(r,arguments)}}function ok(t,e){var n=-1,o=t.length,i=o-1;for(e=e===r?o:e;++n<e;){var u=nc(n,i),a=t[u];t[u]=t[n],t[n]=a}return t.length=e,t}var oj=(ty=(Q=iR(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Y,function(t,r,n,o){e.push(n?o.replace(ti,"$1"):r||t)}),e},function(t){return 500===ty.size&&ty.clear(),t})).cache,Q);function oD(t){if("string"==typeof t||iQ(t))return t;var e=t+"";return"0"==e&&1/t==-u?"-0":e}function o$(t){if(null!=t){try{return tU.call(t)}catch{}try{return t+""}catch{}}return""}function oL(t){if(t instanceof rg)return t.clone();var e=new rd(t.__wrapped__,t.__chain__);return e.__actions__=nK(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var oM=nl(function(t,e){return iL(t)?r$(t,rB(e,1,iL,!0)):[]}),oK=nl(function(t,e){var n=oY(e);return iL(n)&&(n=r),iL(t)?r$(t,rB(e,1,iL,!0),oc(n,2)):[]}),oW=nl(function(t,e){var n=oY(e);return iL(n)&&(n=r),iL(t)?r$(t,rB(e,1,iL,!0),r,n):[]});function oz(t,e,r){var n=null==t?0:t.length;if(!n)return -1;var o=null==r?0:i3(r);return o<0&&(o=e0(n+o,0)),em(t,oc(e,3),o)}function oB(t,e,n){var o=null==t?0:t.length;if(!o)return -1;var i=o-1;return n!==r&&(i=i3(n),i=n<0?e0(o+i,0):e2(i,o-1)),em(t,oc(e,3),i,!0)}function oq(t){return(null==t?0:t.length)?rB(t,1):[]}function oF(t){return t&&t.length?t[0]:r}var oH=nl(function(t){var e=ep(t,nN);return e.length&&e[0]===t[0]?r1(e):[]}),oG=nl(function(t){var e=oY(t),n=ep(t,nN);return e===oY(n)?e=r:n.pop(),n.length&&n[0]===t[0]?r1(n,oc(e,2)):[]}),oJ=nl(function(t){var e=oY(t),n=ep(t,nN);return(e="function"==typeof e?e:r)&&n.pop(),n.length&&n[0]===t[0]?r1(n,r,e):[]});function oY(t){var e=null==t?0:t.length;return e?t[e-1]:r}var oV=nl(oZ);function oZ(t,e){return t&&t.length&&e&&e.length?na(t,e):t}var oX=on(function(t,e){var r=null==t?0:t.length,n=rP(t,e);return ns(t,ep(e,function(t){return ob(t,r)?+t:t}).sort(n$)),n});function oQ(t){return null==t?t:e4.call(t)}var o5=nl(function(t){return nE(rB(t,1,iL,!0))}),o1=nl(function(t){var e=oY(t);return iL(e)&&(e=r),nE(rB(t,1,iL,!0),oc(e,2))}),o0=nl(function(t){var e=oY(t);return e="function"==typeof e?e:r,nE(rB(t,1,iL,!0),r,e)});function o2(t){if(!(t&&t.length))return[];var e=0;return t=ef(t,function(t){if(iL(t))return e=e0(t.length,e),!0}),eN(e,function(e){return ep(t,eR(e))})}function o6(t,e){if(!(t&&t.length))return[];var n=o2(t);return null==e?n:ep(n,function(t){return eu(e,r,t)})}var o3=nl(function(t,e){return iL(t)?r$(t,e):[]}),o8=nl(function(t){return nx(ef(t,iL))}),o4=nl(function(t){var e=oY(t);return iL(e)&&(e=r),nx(ef(t,iL),oc(e,2))}),o9=nl(function(t){var e=oY(t);return e="function"==typeof e?e:r,nx(ef(t,iL),r,e)}),o7=nl(o2),it=nl(function(t){var e=t.length,n=e>1?t[e-1]:r;return n="function"==typeof n?(t.pop(),n):r,o6(t,n)});function ie(t){var e=r_(t);return e.__chain__=!0,e}function ir(t,e){return e(t)}var io=on(function(t){var e=t.length,n=e?t[0]:0,o=this.__wrapped__,i=function(e){return rP(e,t)};return!(e>1)&&!this.__actions__.length&&o instanceof rg&&ob(n)?((o=o.slice(n,+n+(e?1:0))).__actions__.push({func:ir,args:[i],thisArg:r}),new rd(o,this.__chain__).thru(function(t){return e&&!t.length&&t.push(r),t})):this.thru(i)}),ii=nz(function(t,e,r){tP.call(t,r)?++t[r]:rU(t,r,1)}),iu=nY(oz),ia=nY(oB);function is(t,e){return(ij(t)?es:rL)(t,oc(e,3))}function ic(t,e){return(ij(t)?function(t,e){for(var r=null==t?0:t.length;r--&&!1!==e(t[r],r,t););return t}:rM)(t,oc(e,3))}var il=nz(function(t,e,r){tP.call(t,r)?t[r].push(e):rU(t,r,[e])}),ih=nl(function(t,e,r){var n=-1,o="function"==typeof e,i=i$(t)?tg(t.length):[];return rL(t,function(t){i[++n]=o?eu(e,t,r):r0(t,e,r)}),i}),ip=nz(function(t,e,r){rU(t,r,e)});function i_(t,e){return(ij(t)?ep:nt)(t,oc(e,3))}var iv=nz(function(t,e,r){t[r?0:1].push(e)},function(){return[[],[]]}),iy=nl(function(t,e){if(null==t)return[];var r=e.length;return r>1&&om(t,e[0],e[1])?e=[]:r>2&&om(e[0],e[1],e[2])&&(e=[e[0]]),ni(t,rB(e,1),[])}),id=eg||function(){return t6.Date.now()};function ig(t,e,n){return e=n?r:e,e=t&&null==e?t.length:e,n9(t,128,r,r,r,r,e)}function ib(t,e){var o;if("function"!=typeof e)throw new tA(n);return t=i3(t),function(){return--t>0&&(o=e.apply(this,arguments)),t<=1&&(e=r),o}}var im=nl(function(t,e,r){var n=1;if(r.length){var o=ez(r,os(im));n|=32}return n9(t,n,e,r,o)}),iw=nl(function(t,e,r){var n=3;if(r.length){var o=ez(r,os(iw));n|=32}return n9(e,n,t,r,o)});function iE(t,e,o){var i,u,a,s,c,f,l=0,h=!1,p=!1,_=!0;if("function"!=typeof t)throw new tA(n);function v(e){var n=i,o=u;return i=u=r,l=e,s=t.apply(o,n)}function y(t){var n=t-f,o=t-l;return f===r||n>=e||n<0||p&&o>=a}function d(){var t,r,n,o=id();if(y(o))return g(o);c=oI(d,(t=o-f,r=o-l,n=e-t,p?e2(n,a-r):n))}function g(t){return c=r,_&&i?v(t):(i=u=r,s)}function b(){var t,n=id(),o=y(n);if(i=arguments,u=this,f=n,o){if(c===r)return l=t=f,c=oI(d,e),h?v(t):s;if(p)return nC(c),c=oI(d,e),v(f)}return c===r&&(c=oI(d,e)),s}return e=i4(e)||0,iF(o)&&(h=!!o.leading,a=(p="maxWait"in o)?e0(i4(o.maxWait)||0,e):a,_="trailing"in o?!!o.trailing:_),b.cancel=function(){c!==r&&nC(c),l=0,i=f=u=c=r},b.flush=function(){return c===r?s:g(id())},b}var iS=nl(function(t,e){return rD(t,1,e)}),iO=nl(function(t,e,r){return rD(t,i4(e)||0,r)});function iR(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new tA(n);var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var u=t.apply(this,n);return r.cache=i.set(o,u)||i,u};return r.cache=new(iR.Cache||rw),r}function iA(t){if("function"!=typeof t)throw new tA(n);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}iR.Cache=rw;var ix=nl(function(t,e){var r=(e=1==e.length&&ij(e[0])?ep(e[0],eU(oc())):ep(rB(e,1),eU(oc()))).length;return nl(function(n){for(var o=-1,i=e2(n.length,r);++o<i;)n[o]=e[o].call(this,n[o]);return eu(t,this,n)})}),iT=nl(function(t,e){var n=ez(e,os(iT));return n9(t,32,r,e,n)}),iN=nl(function(t,e){var n=ez(e,os(iN));return n9(t,64,r,e,n)}),iI=on(function(t,e){return n9(t,256,r,r,r,e)});function iU(t,e){return t===e||t!=t&&e!=e}var iP=n2(rX),iC=n2(function(t,e){return t>=e}),ik=r2(function(){return arguments}())?r2:function(t){return iH(t)&&tP.call(t,"callee")&&!tQ.call(t,"callee")},ij=tg.isArray,iD=et?eU(et):function(t){return iH(t)&&rZ(t)==A};function i$(t){return null!=t&&iq(t.length)&&!iz(t)}function iL(t){return iH(t)&&i$(t)}var iM=eX||uZ,iK=ee?eU(ee):function(t){return iH(t)&&rZ(t)==h};function iW(t){if(!iH(t))return!1;var e=rZ(t);return e==p||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!iY(t)}function iz(t){if(!iF(t))return!1;var e=rZ(t);return e==_||e==v||"[object AsyncFunction]"==e||"[object Proxy]"==e}function iB(t){return"number"==typeof t&&t==i3(t)}function iq(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function iF(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function iH(t){return null!=t&&"object"==typeof t}var iG=er?eU(er):function(t){return iH(t)&&ov(t)==y};function iJ(t){return"number"==typeof t||iH(t)&&rZ(t)==d}function iY(t){if(!iH(t)||rZ(t)!=g)return!1;var e=tF(t);if(null===e)return!0;var r=tP.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&tU.call(r)==tD}var iV=en?eU(en):function(t){return iH(t)&&rZ(t)==m},iZ=eo?eU(eo):function(t){return iH(t)&&ov(t)==w};function iX(t){return"string"==typeof t||!ij(t)&&iH(t)&&rZ(t)==E}function iQ(t){return"symbol"==typeof t||iH(t)&&rZ(t)==S}var i5=ei?eU(ei):function(t){return iH(t)&&iq(t.length)&&!!tZ[rZ(t)]},i1=n2(r7),i0=n2(function(t,e){return t<=e});function i2(t){if(!t)return[];if(i$(t))return iX(t)?eF(t):nK(t);if(t3&&t[t3])return function(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}(t[t3]());var e=ov(t);return(e==y?eK:e==w?eB:uw)(t)}function i6(t){return t?(t=i4(t))===u||t===-u?(t<0?-1:1)*17976931348623157e292:t==t?t:0:0===t?t:0}function i3(t){var e=i6(t),r=e%1;return e==e?r?e-r:e:0}function i8(t){return t?rC(i3(t),0,4294967295):0}function i4(t){if("number"==typeof t)return t;if(iQ(t))return a;if(iF(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=iF(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=eI(t);var r=tc.test(t);return r||tl.test(t)?t1(t.slice(2),r?2:8):ts.test(t)?a:+t}function i9(t){return nW(t,up(t))}function i7(t){return null==t?"":nw(t)}var ut=nB(function(t,e){if(oO(e)||i$(e)){nW(e,uh(e),t);return}for(var r in e)tP.call(e,r)&&rx(t,r,e[r])}),ue=nB(function(t,e){nW(e,up(e),t)}),ur=nB(function(t,e,r,n){nW(e,up(e),t,n)}),un=nB(function(t,e,r,n){nW(e,uh(e),t,n)}),uo=on(rP),ui=nl(function(t,e){t=tS(t);var n=-1,o=e.length,i=o>2?e[2]:r;for(i&&om(e[0],e[1],i)&&(o=1);++n<o;)for(var u=e[n],a=up(u),s=-1,c=a.length;++s<c;){var f=a[s],l=t[f];(l===r||iU(l,tN[f])&&!tP.call(t,f))&&(t[f]=u[f])}return t}),uu=nl(function(t){return t.push(r,ot),eu(uv,r,t)});function ua(t,e,n){var o=null==t?r:rY(t,e);return o===r?n:o}function us(t,e){return null!=t&&oy(t,e,r5)}var uc=nX(function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=tj.call(e)),t[e]=r},uj(uL)),uf=nX(function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=tj.call(e)),tP.call(t,e)?t[e].push(r):t[e]=[r]},oc),ul=nl(r0);function uh(t){return i$(t)?rO(t):r9(t)}function up(t){return i$(t)?rO(t,!0):function(t){if(!iF(t))return function(t){var e=[];if(null!=t)for(var r in tS(t))e.push(r);return e}(t);var e=oO(t),r=[];for(var n in t)"constructor"==n&&(e||!tP.call(t,n))||r.push(n);return r}(t)}var u_=nB(function(t,e,r){nn(t,e,r)}),uv=nB(function(t,e,r,n){nn(t,e,r,n)}),uy=on(function(t,e){var r={};if(null==t)return r;var n=!1;e=ep(e,function(e){return e=nU(e,t),n||(n=e.length>1),e}),nW(t,oi(t),r),n&&(r=rk(r,7,oe));for(var o=e.length;o--;)nS(r,e[o]);return r}),ud=on(function(t,e){return null==t?{}:nu(t,e,function(e,r){return us(t,r)})});function ug(t,e){if(null==t)return{};var r=ep(oi(t),function(t){return[t]});return e=oc(e),nu(t,r,function(t,r){return e(t,r[0])})}var ub=n4(uh),um=n4(up);function uw(t){return null==t?[]:eP(t,uh(t))}var uE=nG(function(t,e,r){return e=e.toLowerCase(),t+(r?uS(e):e)});function uS(t){return uU(i7(t).toLowerCase())}function uO(t){return(t=i7(t))&&t.replace(tp,eD).replace(tq,"")}var uR=nG(function(t,e,r){return t+(r?"-":"")+e.toLowerCase()}),uA=nG(function(t,e,r){return t+(r?" ":"")+e.toLowerCase()}),ux=nH("toLowerCase"),uT=nG(function(t,e,r){return t+(r?"_":"")+e.toLowerCase()}),uN=nG(function(t,e,r){return t+(r?" ":"")+uU(e)}),uI=nG(function(t,e,r){return t+(r?" ":"")+e.toUpperCase()}),uU=nH("toUpperCase");function uP(t,e,n){var o;return t=i7(t),(e=n?r:e)===r?(o=t,tJ.test(o))?t.match(tH)||[]:t.match(tn)||[]:t.match(e)||[]}var uC=nl(function(t,e){try{return eu(t,r,e)}catch(t){return iW(t)?t:new tm(t)}}),uk=on(function(t,e){return es(e,function(e){rU(t,e=oD(e),im(t[e],t))}),t});function uj(t){return function(){return t}}var uD=nV(),u$=nV(!0);function uL(t){return t}function uM(t){return r4("function"==typeof t?t:rk(t,1))}var uK=nl(function(t,e){return function(r){return r0(r,t,e)}}),uW=nl(function(t,e){return function(r){return r0(t,r,e)}});function uz(t,e,r){var n=uh(e),o=rJ(e,n);null!=r||iF(e)&&(o.length||!n.length)||(r=e,e=t,t=this,o=rJ(e,uh(e)));var i=!(iF(r)&&"chain"in r)||!!r.chain,u=iz(t);return es(o,function(r){var n=e[r];t[r]=n,u&&(t.prototype[r]=function(){var e=this.__chain__;if(i||e){var r=t(this.__wrapped__);return(r.__actions__=nK(this.__actions__)).push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}return n.apply(t,e_([this.value()],arguments))})}),t}function uB(){}var uq=n5(ep),uF=n5(ec),uH=n5(ed);function uG(t){return ow(t)?eR(oD(t)):function(e){return rY(e,t)}}var uJ=n0(),uY=n0(!0);function uV(){return[]}function uZ(){return!1}var uX=nQ(function(t,e){return t+e},0),uQ=n3("ceil"),u5=nQ(function(t,e){return t/e},1),u1=n3("floor"),u0=nQ(function(t,e){return t*e},1),u2=n3("round"),u6=nQ(function(t,e){return t-e},0);return r_.after=function(t,e){if("function"!=typeof e)throw new tA(n);return t=i3(t),function(){if(--t<1)return e.apply(this,arguments)}},r_.ary=ig,r_.assign=ut,r_.assignIn=ue,r_.assignInWith=ur,r_.assignWith=un,r_.at=uo,r_.before=ib,r_.bind=im,r_.bindAll=uk,r_.bindKey=iw,r_.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return ij(t)?t:[t]},r_.chain=ie,r_.chunk=function(t,e,n){e=(n?om(t,e,n):e===r)?1:e0(i3(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var i=0,u=0,a=tg(eY(o/e));i<o;)a[u++]=nv(t,i,i+=e);return a},r_.compact=function(t){for(var e=-1,r=null==t?0:t.length,n=0,o=[];++e<r;){var i=t[e];i&&(o[n++]=i)}return o},r_.concat=function(){var t=arguments.length;if(!t)return[];for(var e=tg(t-1),r=arguments[0],n=t;n--;)e[n-1]=arguments[n];return e_(ij(r)?nK(r):[r],rB(e,1))},r_.cond=function(t){var e=null==t?0:t.length,r=oc();return t=e?ep(t,function(t){if("function"!=typeof t[1])throw new tA(n);return[r(t[0]),t[1]]}):[],nl(function(r){for(var n=-1;++n<e;){var o=t[n];if(eu(o[0],this,r))return eu(o[1],this,r)}})},r_.conforms=function(t){var e,r;return r=uh(e=rk(t,1)),function(t){return rj(t,e,r)}},r_.constant=uj,r_.countBy=ii,r_.create=function(t,e){var r=rv(t);return null==e?r:rI(r,e)},r_.curry=function t(e,n,o){n=o?r:n;var i=n9(e,8,r,r,r,r,r,n);return i.placeholder=t.placeholder,i},r_.curryRight=function t(e,n,o){n=o?r:n;var i=n9(e,16,r,r,r,r,r,n);return i.placeholder=t.placeholder,i},r_.debounce=iE,r_.defaults=ui,r_.defaultsDeep=uu,r_.defer=iS,r_.delay=iO,r_.difference=oM,r_.differenceBy=oK,r_.differenceWith=oW,r_.drop=function(t,e,n){var o=null==t?0:t.length;return o?nv(t,(e=n||e===r?1:i3(e))<0?0:e,o):[]},r_.dropRight=function(t,e,n){var o=null==t?0:t.length;return o?nv(t,0,(e=o-(e=n||e===r?1:i3(e)))<0?0:e):[]},r_.dropRightWhile=function(t,e){return t&&t.length?nR(t,oc(e,3),!0,!0):[]},r_.dropWhile=function(t,e){return t&&t.length?nR(t,oc(e,3),!0):[]},r_.fill=function(t,e,n,o){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&om(t,e,n)&&(n=0,o=i),function(t,e,n,o){var i=t.length;for((n=i3(n))<0&&(n=-n>i?0:i+n),(o=o===r||o>i?i:i3(o))<0&&(o+=i),o=n>o?0:i8(o);n<o;)t[n++]=e;return t}(t,e,n,o)):[]},r_.filter=function(t,e){return(ij(t)?ef:rz)(t,oc(e,3))},r_.flatMap=function(t,e){return rB(i_(t,e),1)},r_.flatMapDeep=function(t,e){return rB(i_(t,e),u)},r_.flatMapDepth=function(t,e,n){return n=n===r?1:i3(n),rB(i_(t,e),n)},r_.flatten=oq,r_.flattenDeep=function(t){return(null==t?0:t.length)?rB(t,u):[]},r_.flattenDepth=function(t,e){return(null==t?0:t.length)?rB(t,e=e===r?1:i3(e)):[]},r_.flip=function(t){return n9(t,512)},r_.flow=uD,r_.flowRight=u$,r_.fromPairs=function(t){for(var e=-1,r=null==t?0:t.length,n={};++e<r;){var o=t[e];n[o[0]]=o[1]}return n},r_.functions=function(t){return null==t?[]:rJ(t,uh(t))},r_.functionsIn=function(t){return null==t?[]:rJ(t,up(t))},r_.groupBy=il,r_.initial=function(t){return(null==t?0:t.length)?nv(t,0,-1):[]},r_.intersection=oH,r_.intersectionBy=oG,r_.intersectionWith=oJ,r_.invert=uc,r_.invertBy=uf,r_.invokeMap=ih,r_.iteratee=uM,r_.keyBy=ip,r_.keys=uh,r_.keysIn=up,r_.map=i_,r_.mapKeys=function(t,e){var r={};return e=oc(e,3),rH(t,function(t,n,o){rU(r,e(t,n,o),t)}),r},r_.mapValues=function(t,e){var r={};return e=oc(e,3),rH(t,function(t,n,o){rU(r,n,e(t,n,o))}),r},r_.matches=function(t){return ne(rk(t,1))},r_.matchesProperty=function(t,e){return nr(t,rk(e,1))},r_.memoize=iR,r_.merge=u_,r_.mergeWith=uv,r_.method=uK,r_.methodOf=uW,r_.mixin=uz,r_.negate=iA,r_.nthArg=function(t){return t=i3(t),nl(function(e){return no(e,t)})},r_.omit=uy,r_.omitBy=function(t,e){return ug(t,iA(oc(e)))},r_.once=function(t){return ib(2,t)},r_.orderBy=function(t,e,n,o){return null==t?[]:(ij(e)||(e=null==e?[]:[e]),ij(n=o?r:n)||(n=null==n?[]:[n]),ni(t,e,n))},r_.over=uq,r_.overArgs=ix,r_.overEvery=uF,r_.overSome=uH,r_.partial=iT,r_.partialRight=iN,r_.partition=iv,r_.pick=ud,r_.pickBy=ug,r_.property=uG,r_.propertyOf=function(t){return function(e){return null==t?r:rY(t,e)}},r_.pull=oV,r_.pullAll=oZ,r_.pullAllBy=function(t,e,r){return t&&t.length&&e&&e.length?na(t,e,oc(r,2)):t},r_.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?na(t,e,r,n):t},r_.pullAt=oX,r_.range=uJ,r_.rangeRight=uY,r_.rearg=iI,r_.reject=function(t,e){return(ij(t)?ef:rz)(t,iA(oc(e,3)))},r_.remove=function(t,e){var r=[];if(!(t&&t.length))return r;var n=-1,o=[],i=t.length;for(e=oc(e,3);++n<i;){var u=t[n];e(u,n,t)&&(r.push(u),o.push(n))}return ns(t,o),r},r_.rest=function(t,e){if("function"!=typeof t)throw new tA(n);return nl(t,e=e===r?e:i3(e))},r_.reverse=oQ,r_.sampleSize=function(t,e,n){return e=(n?om(t,e,n):e===r)?1:i3(e),(ij(t)?function(t,e){return ok(nK(t),rC(e,0,t.length))}:function(t,e){var r=uw(t);return ok(r,rC(e,0,r.length))})(t,e)},r_.set=function(t,e,r){return null==t?t:nh(t,e,r)},r_.setWith=function(t,e,n,o){return o="function"==typeof o?o:r,null==t?t:nh(t,e,n,o)},r_.shuffle=function(t){return(ij(t)?function(t){return ok(nK(t))}:function(t){return ok(uw(t))})(t)},r_.slice=function(t,e,n){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&om(t,e,n)?(e=0,n=o):(e=null==e?0:i3(e),n=n===r?o:i3(n)),nv(t,e,n)):[]},r_.sortBy=iy,r_.sortedUniq=function(t){return t&&t.length?nb(t):[]},r_.sortedUniqBy=function(t,e){return t&&t.length?nb(t,oc(e,2)):[]},r_.split=function(t,e,n){return n&&"number"!=typeof n&&om(t,e,n)&&(e=n=r),(n=n===r?4294967295:n>>>0)?(t=i7(t))&&("string"==typeof e||null!=e&&!iV(e))&&!(e=nw(e))&&eM(t)?nP(eF(t),0,n):t.split(e,n):[]},r_.spread=function(t,e){if("function"!=typeof t)throw new tA(n);return e=null==e?0:e0(i3(e),0),nl(function(r){var n=r[e],o=nP(r,0,e);return n&&e_(o,n),eu(t,this,o)})},r_.tail=function(t){var e=null==t?0:t.length;return e?nv(t,1,e):[]},r_.take=function(t,e,n){return t&&t.length?nv(t,0,(e=n||e===r?1:i3(e))<0?0:e):[]},r_.takeRight=function(t,e,n){var o=null==t?0:t.length;return o?nv(t,(e=o-(e=n||e===r?1:i3(e)))<0?0:e,o):[]},r_.takeRightWhile=function(t,e){return t&&t.length?nR(t,oc(e,3),!1,!0):[]},r_.takeWhile=function(t,e){return t&&t.length?nR(t,oc(e,3)):[]},r_.tap=function(t,e){return e(t),t},r_.throttle=function(t,e,r){var o=!0,i=!0;if("function"!=typeof t)throw new tA(n);return iF(r)&&(o="leading"in r?!!r.leading:o,i="trailing"in r?!!r.trailing:i),iE(t,e,{leading:o,maxWait:e,trailing:i})},r_.thru=ir,r_.toArray=i2,r_.toPairs=ub,r_.toPairsIn=um,r_.toPath=function(t){return ij(t)?ep(t,oD):iQ(t)?[t]:nK(oj(i7(t)))},r_.toPlainObject=i9,r_.transform=function(t,e,r){var n=ij(t),o=n||iM(t)||i5(t);if(e=oc(e,4),null==r){var i=t&&t.constructor;r=o?n?new i:[]:iF(t)&&iz(i)?rv(tF(t)):{}}return(o?es:rH)(t,function(t,n,o){return e(r,t,n,o)}),r},r_.unary=function(t){return ig(t,1)},r_.union=o5,r_.unionBy=o1,r_.unionWith=o0,r_.uniq=function(t){return t&&t.length?nE(t):[]},r_.uniqBy=function(t,e){return t&&t.length?nE(t,oc(e,2)):[]},r_.uniqWith=function(t,e){return e="function"==typeof e?e:r,t&&t.length?nE(t,r,e):[]},r_.unset=function(t,e){return null==t||nS(t,e)},r_.unzip=o2,r_.unzipWith=o6,r_.update=function(t,e,r){return null==t?t:nO(t,e,nI(r))},r_.updateWith=function(t,e,n,o){return o="function"==typeof o?o:r,null==t?t:nO(t,e,nI(n),o)},r_.values=uw,r_.valuesIn=function(t){return null==t?[]:eP(t,up(t))},r_.without=o3,r_.words=uP,r_.wrap=function(t,e){return iT(nI(e),t)},r_.xor=o8,r_.xorBy=o4,r_.xorWith=o9,r_.zip=o7,r_.zipObject=function(t,e){return nT(t||[],e||[],rx)},r_.zipObjectDeep=function(t,e){return nT(t||[],e||[],nh)},r_.zipWith=it,r_.entries=ub,r_.entriesIn=um,r_.extend=ue,r_.extendWith=ur,uz(r_,r_),r_.add=uX,r_.attempt=uC,r_.camelCase=uE,r_.capitalize=uS,r_.ceil=uQ,r_.clamp=function(t,e,n){return n===r&&(n=e,e=r),n!==r&&(n=(n=i4(n))==n?n:0),e!==r&&(e=(e=i4(e))==e?e:0),rC(i4(t),e,n)},r_.clone=function(t){return rk(t,4)},r_.cloneDeep=function(t){return rk(t,5)},r_.cloneDeepWith=function(t,e){return rk(t,5,e="function"==typeof e?e:r)},r_.cloneWith=function(t,e){return rk(t,4,e="function"==typeof e?e:r)},r_.conformsTo=function(t,e){return null==e||rj(t,e,uh(e))},r_.deburr=uO,r_.defaultTo=function(t,e){return null==t||t!=t?e:t},r_.divide=u5,r_.endsWith=function(t,e,n){t=i7(t),e=nw(e);var o=t.length,i=n=n===r?o:rC(i3(n),0,o);return(n-=e.length)>=0&&t.slice(n,i)==e},r_.eq=iU,r_.escape=function(t){return(t=i7(t))&&B.test(t)?t.replace(W,e$):t},r_.escapeRegExp=function(t){return(t=i7(t))&&Z.test(t)?t.replace(V,"\\$&"):t},r_.every=function(t,e,n){var o=ij(t)?ec:rK;return n&&om(t,e,n)&&(e=r),o(t,oc(e,3))},r_.find=iu,r_.findIndex=oz,r_.findKey=function(t,e){return eb(t,oc(e,3),rH)},r_.findLast=ia,r_.findLastIndex=oB,r_.findLastKey=function(t,e){return eb(t,oc(e,3),rG)},r_.floor=u1,r_.forEach=is,r_.forEachRight=ic,r_.forIn=function(t,e){return null==t?t:rq(t,oc(e,3),up)},r_.forInRight=function(t,e){return null==t?t:rF(t,oc(e,3),up)},r_.forOwn=function(t,e){return t&&rH(t,oc(e,3))},r_.forOwnRight=function(t,e){return t&&rG(t,oc(e,3))},r_.get=ua,r_.gt=iP,r_.gte=iC,r_.has=function(t,e){return null!=t&&oy(t,e,rQ)},r_.hasIn=us,r_.head=oF,r_.identity=uL,r_.includes=function(t,e,r,n){t=i$(t)?t:uw(t),r=r&&!n?i3(r):0;var o=t.length;return r<0&&(r=e0(o+r,0)),iX(t)?r<=o&&t.indexOf(e,r)>-1:!!o&&ew(t,e,r)>-1},r_.indexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return -1;var o=null==r?0:i3(r);return o<0&&(o=e0(n+o,0)),ew(t,e,o)},r_.inRange=function(t,e,n){var o,i,u;return e=i6(e),n===r?(n=e,e=0):n=i6(n),(o=t=i4(t))>=e2(i=e,u=n)&&o<e0(i,u)},r_.invoke=ul,r_.isArguments=ik,r_.isArray=ij,r_.isArrayBuffer=iD,r_.isArrayLike=i$,r_.isArrayLikeObject=iL,r_.isBoolean=function(t){return!0===t||!1===t||iH(t)&&rZ(t)==l},r_.isBuffer=iM,r_.isDate=iK,r_.isElement=function(t){return iH(t)&&1===t.nodeType&&!iY(t)},r_.isEmpty=function(t){if(null==t)return!0;if(i$(t)&&(ij(t)||"string"==typeof t||"function"==typeof t.splice||iM(t)||i5(t)||ik(t)))return!t.length;var e=ov(t);if(e==y||e==w)return!t.size;if(oO(t))return!r9(t).length;for(var r in t)if(tP.call(t,r))return!1;return!0},r_.isEqual=function(t,e){return r6(t,e)},r_.isEqualWith=function(t,e,n){var o=(n="function"==typeof n?n:r)?n(t,e):r;return o===r?r6(t,e,r,n):!!o},r_.isError=iW,r_.isFinite=function(t){return"number"==typeof t&&eQ(t)},r_.isFunction=iz,r_.isInteger=iB,r_.isLength=iq,r_.isMap=iG,r_.isMatch=function(t,e){return t===e||r3(t,e,ol(e))},r_.isMatchWith=function(t,e,n){return n="function"==typeof n?n:r,r3(t,e,ol(e),n)},r_.isNaN=function(t){return iJ(t)&&t!=+t},r_.isNative=function(t){if(oS(t))throw new tm("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return r8(t)},r_.isNil=function(t){return null==t},r_.isNull=function(t){return null===t},r_.isNumber=iJ,r_.isObject=iF,r_.isObjectLike=iH,r_.isPlainObject=iY,r_.isRegExp=iV,r_.isSafeInteger=function(t){return iB(t)&&t>=-9007199254740991&&t<=9007199254740991},r_.isSet=iZ,r_.isString=iX,r_.isSymbol=iQ,r_.isTypedArray=i5,r_.isUndefined=function(t){return t===r},r_.isWeakMap=function(t){return iH(t)&&ov(t)==O},r_.isWeakSet=function(t){return iH(t)&&"[object WeakSet]"==rZ(t)},r_.join=function(t,e){return null==t?"":e5.call(t,e)},r_.kebabCase=uR,r_.last=oY,r_.lastIndexOf=function(t,e,n){var o=null==t?0:t.length;if(!o)return -1;var i=o;return n!==r&&(i=(i=i3(n))<0?e0(o+i,0):e2(i,o-1)),e==e?function(t,e,r){for(var n=r+1;n--&&t[n]!==e;);return n}(t,e,i):em(t,eS,i,!0)},r_.lowerCase=uA,r_.lowerFirst=ux,r_.lt=i1,r_.lte=i0,r_.max=function(t){return t&&t.length?rW(t,uL,rX):r},r_.maxBy=function(t,e){return t&&t.length?rW(t,oc(e,2),rX):r},r_.mean=function(t){return eO(t,uL)},r_.meanBy=function(t,e){return eO(t,oc(e,2))},r_.min=function(t){return t&&t.length?rW(t,uL,r7):r},r_.minBy=function(t,e){return t&&t.length?rW(t,oc(e,2),r7):r},r_.stubArray=uV,r_.stubFalse=uZ,r_.stubObject=function(){return{}},r_.stubString=function(){return""},r_.stubTrue=function(){return!0},r_.multiply=u0,r_.nth=function(t,e){return t&&t.length?no(t,i3(e)):r},r_.noConflict=function(){return t6._===this&&(t6._=t$),this},r_.noop=uB,r_.now=id,r_.pad=function(t,e,r){t=i7(t);var n=(e=i3(e))?eq(t):0;if(!e||n>=e)return t;var o=(e-n)/2;return n1(eV(o),r)+t+n1(eY(o),r)},r_.padEnd=function(t,e,r){t=i7(t);var n=(e=i3(e))?eq(t):0;return e&&n<e?t+n1(e-n,r):t},r_.padStart=function(t,e,r){t=i7(t);var n=(e=i3(e))?eq(t):0;return e&&n<e?n1(e-n,r)+t:t},r_.parseInt=function(t,e,r){return r||null==e?e=0:e&&(e=+e),e3(i7(t).replace(X,""),e||0)},r_.random=function(t,e,n){if(n&&"boolean"!=typeof n&&om(t,e,n)&&(e=n=r),n===r&&("boolean"==typeof e?(n=e,e=r):"boolean"==typeof t&&(n=t,t=r)),t===r&&e===r?(t=0,e=1):(t=i6(t),e===r?(e=t,t=0):e=i6(e)),t>e){var o=t;t=e,e=o}if(n||t%1||e%1){var i=e8();return e2(t+i*(e-t+t5("1e-"+((i+"").length-1))),e)}return nc(t,e)},r_.reduce=function(t,e,r){var n=ij(t)?ev:ex,o=arguments.length<3;return n(t,oc(e,4),r,o,rL)},r_.reduceRight=function(t,e,r){var n=ij(t)?ey:ex,o=arguments.length<3;return n(t,oc(e,4),r,o,rM)},r_.repeat=function(t,e,n){return e=(n?om(t,e,n):e===r)?1:i3(e),nf(i7(t),e)},r_.replace=function(){var t=arguments,e=i7(t[0]);return t.length<3?e:e.replace(t[1],t[2])},r_.result=function(t,e,n){e=nU(e,t);var o=-1,i=e.length;for(i||(i=1,t=r);++o<i;){var u=null==t?r:t[oD(e[o])];u===r&&(o=i,u=n),t=iz(u)?u.call(t):u}return t},r_.round=u2,r_.runInContext=t,r_.sample=function(t){return(ij(t)?rR:function(t){return rR(uw(t))})(t)},r_.size=function(t){if(null==t)return 0;if(i$(t))return iX(t)?eq(t):t.length;var e=ov(t);return e==y||e==w?t.size:r9(t).length},r_.snakeCase=uT,r_.some=function(t,e,n){var o=ij(t)?ed:ny;return n&&om(t,e,n)&&(e=r),o(t,oc(e,3))},r_.sortedIndex=function(t,e){return nd(t,e)},r_.sortedIndexBy=function(t,e,r){return ng(t,e,oc(r,2))},r_.sortedIndexOf=function(t,e){var r=null==t?0:t.length;if(r){var n=nd(t,e);if(n<r&&iU(t[n],e))return n}return -1},r_.sortedLastIndex=function(t,e){return nd(t,e,!0)},r_.sortedLastIndexBy=function(t,e,r){return ng(t,e,oc(r,2),!0)},r_.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var r=nd(t,e,!0)-1;if(iU(t[r],e))return r}return -1},r_.startCase=uN,r_.startsWith=function(t,e,r){return t=i7(t),r=null==r?0:rC(i3(r),0,t.length),e=nw(e),t.slice(r,r+e.length)==e},r_.subtract=u6,r_.sum=function(t){return t&&t.length?eT(t,uL):0},r_.sumBy=function(t,e){return t&&t.length?eT(t,oc(e,2)):0},r_.template=function(t,e,n){var o=r_.templateSettings;n&&om(t,e,n)&&(e=r),t=i7(t),e=ur({},e,o,n7);var i,u,a=ur({},e.imports,o.imports,n7),s=uh(a),c=eP(a,s),f=0,l=e.interpolate||t_,h="__p += '",p=tO((e.escape||t_).source+"|"+l.source+"|"+(l===H?tu:t_).source+"|"+(e.evaluate||t_).source+"|$","g"),_="//# sourceURL="+(tP.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++tV+"]")+`
`;t.replace(p,function(e,r,n,o,a,s){return n||(n=o),h+=t.slice(f,s).replace(tv,eL),r&&(i=!0,h+=`' +
__e(`+r+`) +
'`),a&&(u=!0,h+=`';
`+a+`;
__p += '`),n&&(h+=`' +
((__t = (`+n+`)) == null ? '' : __t) +
'`),f=s+e.length,e}),h+=`';
`;var v=tP.call(e,"variable")&&e.variable;if(v){if(to.test(v))throw new tm("Invalid `variable` option passed into `_.template`")}else h=`with (obj) {
`+h+`
}
`;h=(u?h.replace($,""):h).replace(L,"$1").replace(M,"$1;"),h="function("+(v||"obj")+`) {
`+(v?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(i?", __e = _.escape":"")+(u?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+h+`return __p
}`;var y=uC(function(){return tw(s,_+"return "+h).apply(r,c)});if(y.source=h,iW(y))throw y;return y},r_.times=function(t,e){if((t=i3(t))<1||t>9007199254740991)return[];var r=4294967295,n=e2(t,4294967295);e=oc(e),t-=4294967295;for(var o=eN(n,e);++r<t;)e(r);return o},r_.toFinite=i6,r_.toInteger=i3,r_.toLength=i8,r_.toLower=function(t){return i7(t).toLowerCase()},r_.toNumber=i4,r_.toSafeInteger=function(t){return t?rC(i3(t),-9007199254740991,9007199254740991):0===t?t:0},r_.toString=i7,r_.toUpper=function(t){return i7(t).toUpperCase()},r_.trim=function(t,e,n){if((t=i7(t))&&(n||e===r))return eI(t);if(!t||!(e=nw(e)))return t;var o=eF(t),i=eF(e),u=ek(o,i),a=ej(o,i)+1;return nP(o,u,a).join("")},r_.trimEnd=function(t,e,n){if((t=i7(t))&&(n||e===r))return t.slice(0,eH(t)+1);if(!t||!(e=nw(e)))return t;var o=eF(t),i=ej(o,eF(e))+1;return nP(o,0,i).join("")},r_.trimStart=function(t,e,n){if((t=i7(t))&&(n||e===r))return t.replace(X,"");if(!t||!(e=nw(e)))return t;var o=eF(t),i=ek(o,eF(e));return nP(o,i).join("")},r_.truncate=function(t,e){var n=30,o="...";if(iF(e)){var i="separator"in e?e.separator:i;n="length"in e?i3(e.length):n,o="omission"in e?nw(e.omission):o}var u=(t=i7(t)).length;if(eM(t)){var a=eF(t);u=a.length}if(n>=u)return t;var s=n-eq(o);if(s<1)return o;var c=a?nP(a,0,s).join(""):t.slice(0,s);if(i===r)return c+o;if(a&&(s+=c.length-s),iV(i)){if(t.slice(s).search(i)){var f,l=c;for(i.global||(i=tO(i.source,i7(ta.exec(i))+"g")),i.lastIndex=0;f=i.exec(l);)var h=f.index;c=c.slice(0,h===r?s:h)}}else if(t.indexOf(nw(i),s)!=s){var p=c.lastIndexOf(i);p>-1&&(c=c.slice(0,p))}return c+o},r_.unescape=function(t){return(t=i7(t))&&z.test(t)?t.replace(K,eG):t},r_.uniqueId=function(t){var e=++tC;return i7(t)+e},r_.upperCase=uI,r_.upperFirst=uU,r_.each=is,r_.eachRight=ic,r_.first=oF,uz(r_,(td={},rH(r_,function(t,e){tP.call(r_.prototype,e)||(td[e]=t)}),td),{chain:!1}),r_.VERSION="4.17.21",es(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){r_[t].placeholder=r_}),es(["drop","take"],function(t,e){rg.prototype[t]=function(n){n=n===r?1:e0(i3(n),0);var o=this.__filtered__&&!e?new rg(this):this.clone();return o.__filtered__?o.__takeCount__=e2(n,o.__takeCount__):o.__views__.push({size:e2(n,4294967295),type:t+(o.__dir__<0?"Right":"")}),o},rg.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),es(["filter","map","takeWhile"],function(t,e){var r=e+1,n=1==r||3==r;rg.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:oc(t,3),type:r}),e.__filtered__=e.__filtered__||n,e}}),es(["head","last"],function(t,e){var r="take"+(e?"Right":"");rg.prototype[t]=function(){return this[r](1).value()[0]}}),es(["initial","tail"],function(t,e){var r="drop"+(e?"":"Right");rg.prototype[t]=function(){return this.__filtered__?new rg(this):this[r](1)}}),rg.prototype.compact=function(){return this.filter(uL)},rg.prototype.find=function(t){return this.filter(t).head()},rg.prototype.findLast=function(t){return this.reverse().find(t)},rg.prototype.invokeMap=nl(function(t,e){return"function"==typeof t?new rg(this):this.map(function(r){return r0(r,t,e)})}),rg.prototype.reject=function(t){return this.filter(iA(oc(t)))},rg.prototype.slice=function(t,e){t=i3(t);var n=this;return n.__filtered__&&(t>0||e<0)?new rg(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==r&&(n=(e=i3(e))<0?n.dropRight(-e):n.take(e-t)),n)},rg.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},rg.prototype.toArray=function(){return this.take(4294967295)},rH(rg.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),o=/^(?:head|last)$/.test(e),i=r_[o?"take"+("last"==e?"Right":""):e],u=o||/^find/.test(e);i&&(r_.prototype[e]=function(){var e=this.__wrapped__,a=o?[1]:arguments,s=e instanceof rg,c=a[0],f=s||ij(e),l=function(t){var e=i.apply(r_,e_([t],a));return o&&h?e[0]:e};f&&n&&"function"==typeof c&&1!=c.length&&(s=f=!1);var h=this.__chain__,p=!!this.__actions__.length,_=u&&!h,v=s&&!p;if(!u&&f){e=v?e:new rg(this);var y=t.apply(e,a);return y.__actions__.push({func:ir,args:[l],thisArg:r}),new rd(y,h)}return _&&v?t.apply(this,a):(y=this.thru(l),_?o?y.value()[0]:y.value():y)})}),es(["pop","push","shift","sort","splice","unshift"],function(t){var e=tx[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);r_.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var o=this.value();return e.apply(ij(o)?o:[],t)}return this[r](function(r){return e.apply(ij(r)?r:[],t)})}}),rH(rg.prototype,function(t,e){var r=r_[e];if(r){var n=r.name+"";tP.call(ri,n)||(ri[n]=[]),ri[n].push({name:e,func:r})}}),ri[nZ(r,2).name]=[{name:"wrapper",func:r}],rg.prototype.clone=function(){var t=new rg(this.__wrapped__);return t.__actions__=nK(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=nK(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=nK(this.__views__),t},rg.prototype.reverse=function(){if(this.__filtered__){var t=new rg(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t},rg.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,r=ij(t),n=e<0,o=r?t.length:0,i=function(t,e,r){for(var n=-1,o=r.length;++n<o;){var i=r[n],u=i.size;switch(i.type){case"drop":t+=u;break;case"dropRight":e-=u;break;case"take":e=e2(e,t+u);break;case"takeRight":t=e0(t,e-u)}}return{start:t,end:e}}(0,o,this.__views__),u=i.start,a=i.end,s=a-u,c=n?a:u-1,f=this.__iteratees__,l=f.length,h=0,p=e2(s,this.__takeCount__);if(!r||!n&&o==s&&p==s)return nA(t,this.__actions__);var _=[];t:for(;s--&&h<p;){c+=e;for(var v=-1,y=t[c];++v<l;){var d=f[v],g=d.iteratee,b=d.type,m=g(y);if(2==b)y=m;else if(!m){if(1==b)continue t;break t}}_[h++]=y}return _},r_.prototype.at=io,r_.prototype.chain=function(){return ie(this)},r_.prototype.commit=function(){return new rd(this.value(),this.__chain__)},r_.prototype.next=function(){this.__values__===r&&(this.__values__=i2(this.value()));var t=this.__index__>=this.__values__.length,e=t?r:this.__values__[this.__index__++];return{done:t,value:e}},r_.prototype.plant=function(t){for(var e,n=this;n instanceof ry;){var o=oL(n);o.__index__=0,o.__values__=r,e?i.__wrapped__=o:e=o;var i=o;n=n.__wrapped__}return i.__wrapped__=t,e},r_.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof rg){var e=t;return this.__actions__.length&&(e=new rg(this)),(e=e.reverse()).__actions__.push({func:ir,args:[oQ],thisArg:r}),new rd(e,this.__chain__)}return this.thru(oQ)},r_.prototype.toJSON=r_.prototype.valueOf=r_.prototype.value=function(){return nA(this.__wrapped__,this.__actions__)},r_.prototype.first=r_.prototype.head,t3&&(r_.prototype[t3]=function(){return this}),r_}();t8?((t8.exports=eJ)._=eJ,t3._=eJ):t6._=eJ}).call(R)}(ex,ex.exports);let eT=A(ex.exports),eN="OmniConnect",eI="OMNICONNECTION_CACHE";var eU=((o=eU||{}).CONNECT="connect",o.SIGN_MESSAGE="signMessage",o.SIGN_TRANSACTION="signTransaction",o.SEND_TRANSACTION="sendTransaction",o.DISCONNECT="disconnect",o);let eP=t=>{eA().setItem(eI,JSON.stringify(t))},eC=t=>{let e=eA().getItem(eI);if(e)try{let r=JSON.parse(e);eA().setItem(eI,JSON.stringify({...r,...t}))}catch(t){console.error(t)}},ek=()=>{eA().removeItem(eI)};var ej=((i=ej||{}).ETH_SIGN="eth_sign",i.PERSONAL_SIGN="personal_sign",i.ETH_SIGN_TYPED_DATA="eth_signTypedData",i.ETH_SIGN_TYPED_DATA_V3="eth_signTypedData_v3",i.ETH_SIGN_TYPED_DATA_V4="eth_signTypedData_v4",i.ETH_SIGN_TRANSACTION="eth_signTransaction",i.ETH_SEND_TRANSACTION="eth_sendTransaction",i.ETH_SEND_RAW_TRANSACTION="eth_sendRawTransaction",i);let eD=["668808","1313161554","43114","10000","56","288","32520","199","42220","71394","820","256256","25","1818","2000","61","2152","250","122","86","1280","24","2222","321","8217","998","115","137","82","57","40","8082","8081","1030","88","19330","106","100","20212","324","201022","1442","1101","42161","210425","4689","1666600000","66","10","2019","108","8453","20201022","5000","5001","59144","59140","204","534352","1116","22222","7000","7001","1","128","42766","88888","169","80085","2810","2710","2818","34443","4200","81457","666666666","200901","167000","1329","698","60808"],e$={chains:eD,methods:Object.values(ej)},eL=Object.freeze(Object.defineProperty({__proto__:null,DefaultSupportedChainIds:eD,EIP155_SIGNING_METHODS:ej,default:{connect:()=>{console.log("eip155 connect")},getRequestParams:({eip155:t})=>t,signMessage:t=>{var e,r;switch(t.method){case"eth_sign":return JSON.stringify({params:t.params,__type:"ethSign"});case"personal_sign":return JSON.stringify({params:t.params,__type:"personal"});case"eth_signTypedData":return JSON.stringify({data:null==(e=t.params)?void 0:e[1],__type:"typedData"});case"eth_signTypedData_v3":case"eth_signTypedData_v4":return JSON.stringify({data:{...null==(r=t.params)?void 0:r[1]},__type:"typedData",__v4:!0})}},signTransaction:t=>{if("eth_signTransaction"===t.method)return JSON.stringify(t.params[0])},sendTransaction:t=>{if("eth_sendTransaction"===t.method)return JSON.stringify(t.params[0])}},defaultEip155Namespace:e$},Symbol.toStringTag,{value:"Module"})),eM=new th,eK=t=>{if(t.eip155){let e=eT.intersection(e$.chains,t.eip155.chains);if(e.length!==t.eip155.chains.length){let r=eT.difference(t.eip155.chains,e);console.error(`[${eN}]: These chainIds are not currently supported: ${JSON.stringify(r)}`)}}};class eW{constructor(t){this.defaultTtl=300,this.bridgeUrl="https://ton-connect-bridge-tg.bgwapi.io/bridge",this.deeplink="https://t.me/MatzohBot/bgw_local_herbert",this.eventSource=null,this.valid=!0,this.connection={sessionKeyPair:{publicKey:"",secretKey:""},from:""},this.initialize(t)}async initialize(t){if(!t.metadata)throw Error(`[${eN}]: missing parameter metadata!`);this.metadata=t.metadata,eK(t.namespace),this.namespace=t.namespace;let e=Object.keys(this.namespace);if(!e.length||e.length>1)throw Error("Namespace length error!");this.namespaceKey=e[0];let r=await Object.assign({"./providers/eip155.ts":()=>Promise.resolve().then(()=>eL),"./providers/ton.ts":()=>Promise.resolve().then(()=>ez)})[`./providers/${this.namespaceKey}.ts`]();if(this.provider=r.default,!this.provider)throw this.valid=!1,Error(`[${eN}]: provider ${this.namespaceKey} does not exist!`);new URL(this.metadata.url),this.walletInfo={...tv},this.restoreConnection()}genClientId(t){let e=new L(t??void 0),r=e.stringifyKeypair(),n=e.sessionId;return console.log("genClientId sessionKeyPair",r),{sessionKeyPair:r,sessionId:n}}onStatusChange(t,e){return eM.subscribe({next:r=>{console.log(`[${eN}]: observer: `,r),null!=r&&r.error?e(r.error):t(r)}})}async handleMessage(t){var e;try{let{data:r,lastEventId:n,type:o,url:i}=t;eC({lastEventId:n});let{from:u,message:a}=JSON.parse(r);this.connection.from=u;let s=new L(this.connection.sessionKeyPair),c=JSON.parse(s.decrypt(j.decode(a).toUint8Array(),$(u)));if(console.log("handleMessage response",c),null!=c&&c.error){this.next({error:null==c?void 0:c.error});return}let{event:f,namespaceKey:l,result:h}=c;switch(f){case eU.CONNECT:this.walletInfo={...this.walletInfo,...c,connected:!0},eP({event:f,namespaceKey:l,type:t_.Remote,connection:this.connection,lastEventId:n,walletInfo:this.walletInfo}),this.next(this.walletInfo),null==(e=this.connectCallback)||e.call(this);break;case eU.SIGN_MESSAGE:case eU.SIGN_TRANSACTION:case eU.SEND_TRANSACTION:this.walletInfo={...this.walletInfo,...c},this.next(this.walletInfo);break;case eU.DISCONNECT:this.disconnect(c)}}catch(t){console.error(`[${eN}]: bridge response error: ${t}`)}}async send(t,e){if(!this.valid){console.error(`[${eN}]: The SDK has not been initialized or verified successfully.`);return}if(!this.connection.sessionKeyPair||!this.connection.from){console.error(`[${eN}]: please connect your wallet first!`);return}try{let r=new L(this.connection.sessionKeyPair),n=this.connection.from,o=`${this.bridgeUrl}/message?client_id=${r.sessionId}&to=${n}&ttl=${e||this.defaultTtl}`,i=r.encrypt(JSON.stringify(t),$(n));await fetch(o,{body:j.encode(i),method:"POST"})}catch(t){console.error(`[${eN}]: send fail: ${t}`)}}async connect(t){if(!this.valid)return;this.close();let e=null==t?void 0:t.requestParams;if(e&&!eT.isObject(e)){console.error(`[${eN}]: Invalid requestParams type.`);return}let r=null==t?void 0:t.ret;if(r&&!eT.isString(r)){console.error(`[${eN}]: Invalid ret type.`);return}let n=null==t?void 0:t.callback;if(n&&!eT.isObject(n)){console.error(`[${eN}]: Invalid connect callback type.`);return}this.connectCallback=n;let{sessionKeyPair:o,sessionId:i}=this.genClientId(),u=`${this.bridgeUrl}/events?client_id=${i}`;this.eventSource=new N(u),this.eventSource.addEventListener("message",eT.debounce(this.handleMessage.bind(this),200)),this.eventSource.addEventListener("open",async()=>{var e;console.log(`[${eN}]: sse connect: opened`),this.connection.sessionKeyPair=o;let r=this.provider.getRequestParams({eip155:{metadata:this.metadata,namespaceKey:this.namespaceKey,chains:null==(e=this.namespace.eip155)?void 0:e.chains,method:eU.CONNECT,...null==t?void 0:t.requestParams}}),n=`v=1&id=${encodeURIComponent(i)}&r=${encodeURIComponent(JSON.stringify(r))}&ret=${encodeURIComponent((null==t?void 0:t.ret)||"none")}`;console.log(n),eR(`${this.deeplink}?startapp=omniconnect-${n.replaceAll(".","%2E").replaceAll("-","%2D").replaceAll("_","%5F").replaceAll("&","-").replaceAll("=","__").replaceAll("%","--")}`)}),this.eventSource.addEventListener("error",t=>{console.error(`[${eN}]: sse connect: error: ${t}`)})}async signMessage(t){let e=this.provider.signMessage({...t}),r={id:tU.getId(),metadata:this.metadata,namespaceKey:this.namespaceKey,method:eU.SIGN_MESSAGE,payload:e};this.send(r),eR(`${this.deeplink}?startapp=${eN.toLowerCase()}`)}async signTransaction(t){let e=this.provider.signTransaction({...t}),r={id:tU.getId(),metadata:this.metadata,namespaceKey:this.namespaceKey,method:eU.SIGN_TRANSACTION,payload:e};this.send(r),eR(`${this.deeplink}?startapp=${eN.toLowerCase()}`)}sendTransaction(t){let e=this.provider.sendTransaction({...t}),r={id:tU.getId(),metadata:this.metadata,namespaceKey:this.namespaceKey,method:eU.SEND_TRANSACTION,payload:e};this.send(r),eR(`${this.deeplink}?startapp=${eN.toLowerCase()}`)}disconnect(t){let e={id:tU.getId(),metadata:this.metadata,namespaceKey:this.namespaceKey,method:eU.DISCONNECT};this.send(e),this.walletInfo={...tv,...t,event:eU.DISCONNECT},this.next(this.walletInfo),this.close(),this.removeConnection()}close(){this.eventSource&&(this.eventSource.removeAllEventListeners(),this.eventSource.close(),this.eventSource=null,console.log(`[${eN}]: sse close`))}restoreConnection(){let t=JSON.parse(eA().getItem(eI)||"{}");if(t.connection&&"connect"===t.event&&t.type===t_.Remote){let{namespaceKey:e,connection:r,lastEventId:n,walletInfo:o}=t,i=r.sessionKeyPair.publicKey;this.connection=r;let u=`${this.bridgeUrl}/events?client_id=${i}&last_event_id=${n}`;this.eventSource=new N(u),this.eventSource.addEventListener("message",eT.debounce(this.handleMessage.bind(this),200)),this.eventSource.addEventListener("open",async()=>{this.next({namespaceKey:e,...o})}),this.eventSource.addEventListener("error",t=>{console.error(`[${eN}]: sse connect: error: ${t}`)})}}removeConnection(){ek()}next(t){eM.next(t)}}let ez=Object.freeze(Object.defineProperty({__proto__:null,default:{connect:()=>{},getRequestParams:({ton:t})=>(console.log("options",t),{}),signMessage:()=>{}}},Symbol.toStringTag,{value:"Module"}));t.InitWalletInfo=tv,t.OmniConnect=eW,t.OmniConnectBridgeType=t_,t.validateNamespace=eK,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}(e)}}]);