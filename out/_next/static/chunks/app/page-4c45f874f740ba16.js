(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{436:function(e,n,t){Promise.resolve().then(t.bind(t,2812))},2812:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return i}});var a=t(3120),s=t(4451),c=t(815);function i(){let[e,n]=(0,c.useState)({}),[t,i]=(0,c.useState)(!1),[o,r]=(0,c.useState)(),[l,d]=(0,c.useState)(),[b,m]=(0,c.useState)();return(0,c.useEffect)(()=>{let e=new s.OmniConnect({metadata:{name:"DAppName",iconUrl:"https://static.ston.fi/logo/external-logo.jpg",url:"https://web3.bitget.com",privacyPolicyUrl:"",termsOfUseUrl:""},namespace:{eip155:{chains:["1","56"],methods:["eth_sign","personal_sign"],events:["accountsChanged","chainChanged"]}}});n(e);let t=e.onStatusChange(e=>{console.log("onStatusChange",e);let{id:n,namespaceKey:t,event:a,connected:s,result:c}=e;switch(a){case"connect":case"disconnect":i(s),r(null==c?void 0:c.address);break;case"signMessage":case"signTransaction":case"sendTransaction":d(null==c?void 0:c.signature),m(null==c?void 0:c.reciept)}},e=>{let{code:n,message:t}=e;console.error("error stream: code: ".concat(n,", message: ").concat(t))});return()=>{null==t||t.unsubscribe()}},[]),(0,a.jsxs)("div",{className:"flex flex-col p-5 gap-3 font-[family-name:var(--font-geist-sans)]",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("div",{children:"App namespace: Eip155"}),(0,a.jsxs)("div",{children:["Chain:",(0,a.jsxs)("select",{name:"chain",id:"chain",children:[(0,a.jsx)("option",{value:"1",children:"ETH"}),(0,a.jsx)("option",{value:"56",children:"BNB"})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-10 mt-10",children:[t?"address: ".concat(o):(0,a.jsx)("button",{type:"button",onClick:()=>{e.connect()},children:"connect"}),t&&l&&(0,a.jsxs)("div",{style:{wordBreak:"break-all"},children:["signature: ",l]}),t&&b&&(0,a.jsxs)("div",{style:{wordBreak:"break-all"},children:["reciept: ",b]}),(0,a.jsx)("button",{type:"button",onClick:()=>{e.signMessage({method:"eth_sign",params:[o,"Hello World!"]})},children:"eth_sign"}),(0,a.jsx)("button",{type:"button",onClick:()=>{e.signMessage({method:"personal_sign",params:[o,"Personal:FOMO NUCN, just beyond FOMO3D"]})},children:"personal_sign"}),(0,a.jsx)("button",{type:"button",onClick:()=>{e.signMessage({method:"eth_signTypedData",params:[o,[{type:"string",name:"Message",value:"Hi, Alice!"},{type:"uint32",name:"A number",value:"1337"}]]})},children:"eth_signTypedData"}),(0,a.jsx)("button",{type:"button",onClick:()=>{e.signMessage({method:"eth_signTypedData_v4",params:[o,{domain:{chainId:56,name:"Ether Mail",verifyingContract:"0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC",version:"1"},message:{contents:"Hello, Bob!",attachedMoneyInEth:4.2,from:{name:"Cow",wallets:["0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826","0xDeaDbeefdEAdbeefdEadbEEFdeadbeEFdEaDbeeF"]},to:[{name:"Bob",wallets:["0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB","0xB0BdaBea57B0BDABeA57b0bdABEA57b0BDabEa57","0xB0B0b0b0b0b0B000000000000000000000000000"]}]},primaryType:"Mail",types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Group:[{name:"name",type:"string"},{name:"members",type:"Person[]"}],Mail:[{name:"from",type:"Person"},{name:"to",type:"Person[]"},{name:"contents",type:"string"}],Person:[{name:"name",type:"string"},{name:"wallets",type:"address[]"}]}}]})},children:"eth_signTypedData_v4"}),(0,a.jsx)("button",{type:"button",onClick:()=>{e.signTransaction({method:"eth_signTransaction",params:[{type:"0x2",nonce:"0x1",from:"0xa90FF932b72727Bf9F2fF42B2bA7034853888714",to:"0x1A0A18AC4BECDDbd6389559687d1A73d8927E416",value:"0x0",data:"0x",gasLimit:"0x5208",maxPriorityFeePerGas:"0x3b9aca00",maxFeePerGas:"0x2540be400",accessList:[],chainId:"56"}]})},children:"signTransaction"}),(0,a.jsx)("button",{type:"button",onClick:()=>{e.sendTransaction({method:"eth_sendTransaction",params:[{type:"0x2",nonce:"0x1",from:"0xa90FF932b72727Bf9F2fF42B2bA7034853888714",to:"0x1A0A18AC4BECDDbd6389559687d1A73d8927E416",value:"0x0",data:"0x",gasLimit:"0x5208",maxPriorityFeePerGas:"0x3b9aca00",maxFeePerGas:"0x2540be400",accessList:[],chainId:"56"}]})},children:"sendTransaction"}),(0,a.jsx)("button",{type:"button",onClick:()=>{e.disconnect()},children:"disconnect"}),!t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{type:"button",onClick:()=>{e.connect({requestParams:{},ret:'javascript:alert(123)<script>console.log("aaa")</script>'})},children:"connect with request params, ret"}),(0,a.jsx)("button",{type:"button",onClick:()=>{e.connect({ret:"close_defense",callback:()=>{e.signMessage({method:"eth_sign",params:[o,"Hello World!"]})}})},children:"connect & sign"})]})]})]})}}},function(e){e.O(0,[451,626,990,744],function(){return e(e.s=436)}),_N_E=e.O()}]);